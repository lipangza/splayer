import{d as a,r as s,o as e,H as o,j as t,n,m as r,i as l,k as u,b4 as d,a5 as i,ae as c,aR as m}from"./stores-fvLrIm8G.js";import{_ as p}from"./SongList-CDQnjgGa.js";import{s as v}from"./index-CugtlCeX.js";const g={class:"search-type"},f=a({__name:"songs",props:{keyword:{}},setup(a){const f=a,y=s(!0),k=s(!0),_=s(0),h=s(1),j=s([]),w=async()=>{k.value=!0;const a=await v(f.keyword,50,_.value,1);y.value=a.result?.hasMore||a.result?.songCount>_.value+50,h.value=a.result?.songCount;const s=m(a.result.songs);j.value=j.value?.concat(s),k.value=!1},x=()=>{y.value?(_.value+=50,w()):k.value=!1};return e(()=>{w()}),(a,s)=>{const e=p,m=i,v=d;return t(),o("div",g,[n(c,{name:"fade",mode:"out-in"},{default:r(()=>[u(h)>0?(t(),l(e,{key:0,data:u(j),loading:u(k),loadMore:"",disabledSort:"",onReachBottom:x},null,8,["data","loading"])):(t(),l(v,{key:1,description:`很抱歉，未能找到与 ${a.keyword} 相关的任何歌曲`,style:{"margin-top":"60px"},size:"large"},{icon:r(()=>[n(m,{name:"SearchOff"})]),_:1},8,["description"]))]),_:1})])}}});export{f as default};
