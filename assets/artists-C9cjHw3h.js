import{a as e,t as a,q as s,e as t}from"./index-B903CxKP.js";import{_ as r}from"./MainCover-BturJIOG.js";import{a7 as u,r as o,w as l,e as i,g as n,G as d,k as m,j as c,T as v,n as p,i as y,W as f,a0 as j}from"./vendor-QWMq--4w.js";import"./album-0csMMabW.js";import"./dj-DH2T3qaa.js";const g={class:"search-artists"},z={key:0,class:"list"},_={__name:"artists",setup(_){const k=u(),q=e(),S=o([]),h=o(0),b=o(k.currentRoute.value.query?.keywords||""),w=o(Number(k.currentRoute.value.query?.page)||1),x=(e=b.value,t=q.loadSize,r=0,u=100)=>{try{S.value=[],a(e,t,r,u).then((e=>{if(h.value=e.result.artistCount,0===e.result.artistCount)return S.value="empty";S.value=s(e.result.artists,"artist")}))}catch(o){console.error("搜索出现错误：",o),$message.error("搜索出现错误")}};return l((()=>k.currentRoute.value),(e=>{"sea-artists"==e.name&&(w.value=Number(e.query?.page)||1,b.value=e.query?.keywords||"",x(b.value,q.loadSize,(w.value-1)*q.loadSize))})),i((()=>{x(b.value,q.loadSize,(w.value-1)*q.loadSize)})),(e,a)=>{const s=r,u=t,o=f,l=j;return n(),d("div",g,[m(v,{name:"fade",mode:"out-in"},{default:c((()=>["empty"!==p(S)?(n(),d("div",z,[m(s,{data:p(S),type:"artist",columns:"3 s:4 m:5 l:6"},null,8,["data"])])):(n(),y(l,{key:1,description:`很抱歉，未能找到与 ${p(b)} 相关的任何歌手`,style:{"margin-top":"60px"},size:"large"},{icon:c((()=>[m(o,null,{default:c((()=>[m(u,{icon:"search-off"})])),_:1})])),_:1},8,["description"]))])),_:1})])}}};export{_ as default};
