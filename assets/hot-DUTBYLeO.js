import{_ as a}from"./CoverList-D-VGfVrf.js";import{d as e,r as s,o as t,H as l,k as o,j as r,af as d,I as i,m as n,aA as c,aB as u,a3 as m,d4 as f,d5 as p,d6 as y,cz as _,aK as g,h as v,i as h,a1 as k,a2 as x,aj as w,aF as b,c9 as j,a8 as C,aY as I,ak as z,K as D}from"./stores-DLHJ0LFH.js";import{u as E}from"./index-D8wNg7e8.js";import"./album-YTSjqKWE.js";const K={class:"radio-hot"},$={key:0,class:"radio-type"},q={key:1,class:"radio-type"},A={class:"rec"},B=D(e({__name:"hot",setup(e){const D=E(),B=s(!0),F=s([]),G=s([]),H=s([]);return t((()=>{(async()=>{try{const a=await m(f,{key:"radioTypeData",time:0,storage:"localStorage"});F.value=a.categories.map((({name:a,id:e})=>({name:a,id:e})))}catch(a){console.error("Error getting radio cat list:",a),window.$message.error("分类获取失败，请重试")}})(),(async()=>{try{const[a,e]=await Promise.all([p("hot"),y()]);G.value=_(a.toplist),H.value=e.data?.map((a=>({id:a.categoryId,name:a.categoryName,radio:_(a.radios)})))}catch(a){console.error("Error getting rec radio:",a),window.$message.error("获取推荐电台出现错误")}})()})),(e,s)=>{const t=w,m=b,f=j,p=C,y=I,_=z,E=g,L=a;return v(),l("div",K,[o(d,{name:"fade",mode:"out-in"},{default:r((()=>[n(F)?.length>0?(v(),l("div",$,[o(y,{collapsed:n(B),"x-gap":"20","y-gap":"20",cols:"3 400:4 600:5 800:6 1000:7"},{default:r((()=>[(v(!0),l(c,null,u(n(F),((a,e)=>(v(),h(f,{key:e},{default:r((()=>[o(m,{class:"cat",hoverable:"",onClick:e=>n(D).push({path:"/radio-type",query:{id:a.id,name:a.name}})},{default:r((()=>[o(t,null,{default:r((()=>[k(x(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),o(f,{class:"suffix",suffix:""},{default:r((({overflow:a})=>[o(m,{class:"cat",hoverable:"",onClick:s[0]||(s[0]=a=>B.value=!n(B))},{default:r((()=>[o(p,{name:a?"Down":"Up"},null,8,["name"]),o(t,null,{default:r((()=>[k(x(a?"查看全部":"收起标签"),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["collapsed"])])):(v(),l("div",q,[o(y,{"x-gap":"20","y-gap":"20",cols:"3 400:4 600:5 800:6 1000:7",collapsed:""},{default:r((()=>[(v(),l(c,null,u(20,(a=>o(f,{key:a},{default:r((()=>[o(m,{class:"cat",hoverable:""},{default:r((()=>[o(_,{text:"",round:""})])),_:1})])),_:2},1024))),64))])),_:1})]))])),_:1}),i("div",A,[o(E,{class:"title",prefix:"bar"},{default:r((()=>[o(t,{class:"name"},{default:r((()=>s[1]||(s[1]=[k("热门推荐")]))),_:1})])),_:1}),o(L,{data:n(G),loading:!0,type:"radio"},null,8,["data"]),(v(!0),l(c,null,u(n(H),((a,e)=>(v(),l(c,{key:e},[o(E,{class:"title",prefix:"bar"},{default:r((()=>[o(t,{class:"name"},{default:r((()=>[k(x(a.name),1)])),_:2},1024),o(p,{size:26,name:"Right"})])),_:2},1024),o(L,{data:a.radio||[],loading:!0,type:"radio"},null,8,["data"])],64)))),128))])])}}}),[["__scopeId","data-v-9aa81972"]]);export{B as default};
