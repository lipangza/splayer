import{R as e,S as a,r as s,z as r,j as t,M as l,N as u,Q as o,U as i,W as p,X as n,as as m,a4 as v}from"./index-6137d952.js";import{C as y}from"./CoverLists-9ffbc3d4.js";import{P as c}from"./index-3e7b80bc.js";import"./album-9073c661.js";import"./formRules-8f71b7bd.js";import"./FormItem-6e5a0af4.js";import"./Select-3d3bcb8f.js";import"./getCoverUrl-e2404558.js";import"./Tooltip-8e4143df.js";import"./PlayOne-8b2c271b.js";import"./LinkTwo-053d5333.js";import"./Unlike-3687ca6d.js";import"./Grid-c63c69ed.js";import"./Skeleton-a194b938.js";import"./use-houdini-b4e30d74.js";const g={class:"playlists"},j={__name:"playlists",setup(j){const{t:d}=e(),C=a(),h=s(C.currentRoute.value.query.keywords),f=s([]),q=s(0),k=s(30),N=s(C.currentRoute.value.query.page?Number(C.currentRoute.value.query.page):1),R=(e,a=30,s=0,r=1e3)=>{m(e,a,s,r).then((e=>{q.value=e.result.playlistCount,f.value=[],e.result.playlists?e.result.playlists.forEach((e=>{f.value.push({id:e.id,cover:e.coverImgUrl,name:e.name,artist:e.creator,playCount:v(e.playCount)})})):$message.error(d("general.message.acquisitionFailed")),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))};r((()=>C.currentRoute.value),(e=>{h.value=e.query.keywords,N.value=Number(e.query.page?e.query.page:1),"s-playlists"==e.name&&R(h.value,k.value,(N.value-1)*k.value)}));const T=e=>{k.value=e,R(h.value,e,(N.value-1)*k.value)},b=e=>{C.push({path:"/search/playlists",query:{keywords:h.value,page:e}})};return t((()=>{R(h.value,k.value,(N.value-1)*k.value)})),(e,a)=>(l(),u("div",g,[o(y,{listData:i(f)},null,8,["listData"]),i(f)[0]?(l(),p(c,{key:0,pageNumber:i(N),totalCount:i(q),onPageSizeChange:T,onPageNumberChange:b},null,8,["pageNumber","totalCount"])):n("",!0)]))}};export{j as default};
