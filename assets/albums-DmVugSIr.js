import{_ as a}from"./SongList-CDQnjgGa.js";import{d as s,r as e,f as t,bD as o,w as l,bM as r,H as n,j as c,n as i,m as d,aA as u,aB as m,k as f,i as v,aC as b,ac as p,J as _,ae as h,bN as g,ag as k,ai as y,a7 as j,a8 as w,a5 as C,aN as B,K as I}from"./stores-fvLrIm8G.js";import{i as x}from"./index-CugtlCeX.js";const E={class:"local-albums"},H={class:"data"},L=I(s({__name:"albums",props:{data:{}},setup(s){const I=s,L=e(""),M=t(()=>N(I.data)),N=a=>{const s=a.reduce((a,s)=>{const e="string"==typeof s.album?s.album.trim():s.album.name;return a[e]||(a[e]=[]),o(a[e],{id:s.id})||a[e].push(s),a},{}),e=Object.keys(s).sort((a,s)=>a.localeCompare(s)),t={};return e.forEach(a=>{t[a]=s[a]}),L.value=e[0],t};return l(()=>L.value,a=>{if(!a)return;const s=document.getElementById(a);s&&s.scrollIntoView({behavior:"smooth",block:"center"})}),(s,e)=>{const t=k,o=y,l=C,I=b,N=B,R=a,A=r("visible");return c(),n("div",E,[i(N,{class:"album-list"},{default:d(()=>[(c(!0),n(u,null,m(f(M),(a,s,e)=>(c(),v(I,{key:e,id:s,class:p(["album-item",{choose:f(L)===s}]),onClick:a=>L.value=s},{default:d(()=>[i(h,{name:"fade",mode:"out-in"},{default:d(()=>[g((c(),v(t,{key:a?.[0]?.cover,src:a?.[0]?.cover||"/images/album.jpg?assest","preview-disabled":"",class:"cover"},null,8,["src"])),[[A,a=>(async(a,s)=>{if(!a)return;const e=M.value?.[s]?.[0]?.path;if(!e)return;const t=await window.electron.ipcRenderer.invoke("get-music-cover",e);if(!t)return;const{data:o,format:l}=t,r=x.createBlobURL(o,l,e);r&&(M.value[s][0].cover=r)})(a,s),void 0,{once:!0}]])]),_:2},1024),_("div",H,[i(o,{class:"name"},{default:d(()=>[j(w(s),1)]),_:2},1024),i(o,{class:"num",depth:"3"},{default:d(()=>[i(l,{name:"Music",depth:3}),j(" "+w(a.length)+" é¦– ",1)]),_:2},1024)])]),_:2},1032,["id","class","onClick"]))),128))]),_:1}),i(h,{name:"fade",mode:"out-in"},{default:d(()=>[(c(),v(R,{key:f(L),data:f(L)?f(M)[f(L)]:[],loading:!0,"hidden-cover":""},null,8,["data"]))]),_:1})])}}}),[["__scopeId","data-v-46d55e94"]]);export{L as default};
