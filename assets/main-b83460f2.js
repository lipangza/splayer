import{l as e,n as t,m as a,d as n,e as l,aO as r,h as o,aP as s,aQ as i,aR as u,aS as d,aT as c,aU as p,aV as h,r as v,K as m,L as g,g as b,b as f,i as x,x as y,aW as k,aX as w,aY as C,aZ as $,a_ as S,a$ as U,b0 as _,q as P,b1 as A,b2 as D,B as M,b3 as T,p as z,w as R,v as V,z as F,b4 as I,D as q,b5 as B,b6 as H,J as L,b7 as O,b8 as j,b9 as E,T as X,G as N,ba as G,bb as K,ap as Y,A as Z,_ as Q,am as W,a8 as J,bc as ee,bd as te,R as ae,j as ne,M as le,N as re,Q as oe,Y as se,U as ie,ao as ue,aG as de,aB as ce,O as pe,a1 as he,a2 as ve,W as me,X as ge,Z as be,$ as fe,I as xe,aH as ye,be as ke,ad as we,aE as Ce,aA as $e}from"./index-6137d952.js";import{a as Se,_ as Ue}from"./Grid-c63c69ed.js";import{_ as _e}from"./Select-3d3bcb8f.js";import{_ as Pe,a as Ae}from"./FormItem-6e5a0af4.js";function De(e,t,a){a/=100;const n=(t/=100)*Math.min(a,1-a)+a;return[e,n?100*(2-2*a/n):0,100*n]}function Me(e,t,a){const n=(a/=100)-a*(t/=100)/2,l=Math.min(n,1-n);return[e,l?(a-n)/l*100:0,100*n]}function Te(e,t,a){t/=100,a/=100;let n=(n,l=(n+e/60)%6)=>a-a*t*Math.max(Math.min(l,4-l,1),0);return[255*n(5),255*n(3),255*n(1)]}function ze(e,t,a){e/=255,t/=255,a/=255;let n=Math.max(e,t,a),l=n-Math.min(e,t,a),r=l&&(n==e?(t-a)/l:n==t?2+(a-e)/l:4+(e-t)/l);return[60*(r<0?r+6:r),n&&l/n*100,100*n]}function Re(e,t,a){e/=255,t/=255,a/=255;let n=Math.max(e,t,a),l=n-Math.min(e,t,a),r=1-Math.abs(n+n-l-1),o=l&&(n==e?(t-a)/l:n==t?2+(a-e)/l:4+(e-t)/l);return[60*(o<0?o+6:o),r?l/r*100:0,50*(n+n-l)]}function Ve(e,t,a){a/=100;let n=(t/=100)*Math.min(a,1-a),l=(t,l=(t+e/30)%12)=>a-n*Math.max(Math.min(l-3,9-l,1),-1);return[255*l(0),255*l(8),255*l(4)]}const Fe=e("input-group","\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n",[t(">",[e("input",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),t("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n ")]),e("button",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[a("state-border, border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")]),t("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[a("state-border, border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])]),t("*",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[t(">",[e("input","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),e("base-selection",[e("base-selection-label","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),e("base-selection-tags","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),a("box-shadow, border, state-border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")])])]),t("&:not(:first-child)","\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[t(">",[e("input","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),e("base-selection",[e("base-selection-label","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),e("base-selection-tags","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),a("box-shadow, border, state-border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])])])])])]),Ie=n({name:"InputGroup",props:{},setup(e){const{mergedClsPrefixRef:t}=l(e);return r("-input-group",Fe,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return o("div",{class:`${e}-input-group`},this.$slots)}});function qe(e){return null===e?null:/^ *#/.test(e)?"hex":e.includes("rgb")?"rgb":e.includes("hsl")?"hsl":e.includes("hsv")?"hsv":null}const Be={rgb:{hex:e=>s(i(e)),hsl(e){const[t,a,n,l]=i(e);return u([...Re(t,a,n),l])},hsv(e){const[t,a,n,l]=i(e);return d([...ze(t,a,n),l])}},hex:{rgb:e=>c(i(e)),hsl(e){const[t,a,n,l]=i(e);return u([...Re(t,a,n),l])},hsv(e){const[t,a,n,l]=i(e);return d([...ze(t,a,n),l])}},hsl:{hex(e){const[t,a,n,l]=p(e);return s([...Ve(t,a,n),l])},rgb(e){const[t,a,n,l]=p(e);return c([...Ve(t,a,n),l])},hsv(e){const[t,a,n,l]=p(e);return d([...De(t,a,n),l])}},hsv:{hex(e){const[t,a,n,l]=h(e);return s([...Te(t,a,n),l])},rgb(e){const[t,a,n,l]=h(e);return c([...Te(t,a,n),l])},hsl(e){const[t,a,n,l]=h(e);return u([...Me(t,a,n),l])}}};function He(e,t,a){if(!(a=a||qe(e)))return null;if(a===t)return e;return Be[a][t](e)}const Le="12px",Oe="6px",je=n({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(e){const t=v(null);function a(a){const{value:n}=t;if(!n)return;const{width:l,left:r}=n.getBoundingClientRect(),o=(s=(a.clientX-r-6)/(l-12)*360,(s=Math.round(s))>=360?359:s<0?0:s);var s;e.onUpdateHue(o)}function n(){var t;g("mousemove",document,a),g("mouseup",document,n),null===(t=e.onComplete)||void 0===t||t.call(e)}return{railRef:t,handleMouseDown:function(e){t.value&&(m("mousemove",document,a),m("mouseup",document,n),a(e))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-slider`,style:{height:Le,borderRadius:Oe}},o("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:"linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",height:Le,borderRadius:Oe,position:"relative"},onMousedown:this.handleMouseDown},o("div",{style:{position:"absolute",left:Oe,right:Oe,top:0,bottom:0}},o("div",{class:`${e}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${Oe})`,borderRadius:Oe,width:Le,height:Le}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:Oe,width:Le,height:Le}})))))}}),Ee="12px",Xe="6px",Ne=n({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(e){const t=v(null);function a(a){const{value:n}=t;if(!n)return;const{width:l,left:r}=n.getBoundingClientRect(),o=(a.clientX-r)/(l-12);var s;e.onUpdateAlpha((s=o,(s=Math.round(100*s)/100)>1?1:s<0?0:s))}function n(){var t;g("mousemove",document,a),g("mouseup",document,n),null===(t=e.onComplete)||void 0===t||t.call(e)}return{railRef:t,railBackgroundImage:b((()=>{const{rgba:t}=e;return t?`linear-gradient(to right, rgba(${t[0]}, ${t[1]}, ${t[2]}, 0) 0%, rgba(${t[0]}, ${t[1]}, ${t[2]}, 1) 100%)`:""})),handleMouseDown:function(l){t.value&&e.rgba&&(m("mousemove",document,a),m("mouseup",document,n),a(l))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-slider`,ref:"railRef",style:{height:Ee,borderRadius:Xe},onMousedown:this.handleMouseDown},o("div",{style:{borderRadius:Xe,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},o("div",{class:`${e}-color-picker-checkboard`}),o("div",{class:`${e}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&o("div",{style:{position:"absolute",left:Xe,right:Xe,top:0,bottom:0}},o("div",{class:`${e}-color-picker-handle`,style:{left:`calc(${100*this.alpha}% - ${Xe})`,borderRadius:Xe,width:Ee,height:Ee}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:c(this.rgba),borderRadius:Xe,width:Ee,height:Ee}}))))}}),Ge="12px",Ke="6px",Ye=n({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(e){const t=v(null);function a(a){const{value:n}=t;if(!n)return;const{width:l,height:r,left:o,bottom:s}=n.getBoundingClientRect(),i=(s-a.clientY)/r,u=(a.clientX-o)/l,d=100*(u>1?1:u<0?0:u),c=100*(i>1?1:i<0?0:i);e.onUpdateSV(d,c)}function n(){var t;g("mousemove",document,a),g("mouseup",document,n),null===(t=e.onComplete)||void 0===t||t.call(e)}return{palleteRef:t,handleColor:b((()=>{const{rgba:t}=e;return t?`rgb(${t[0]}, ${t[1]}, ${t[2]})`:""})),handleMouseDown:function(e){t.value&&(m("mousemove",document,a),m("mouseup",document,n),a(e))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},o("div",{class:`${e}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),o("div",{class:`${e}-color-picker-pallete__layer ${e}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&o("div",{class:`${e}-color-picker-handle`,style:{width:Ge,height:Ge,borderRadius:Ke,left:`calc(${this.displayedSv[0]}% - ${Ke})`,bottom:`calc(${this.displayedSv[1]}% - ${Ke})`}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:Ke,width:Ge,height:Ge}})))}}),Ze=f("n-color-picker");const Qe={paddingSmall:"0 4px"},We=n({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(e){const t=v(""),{themeRef:a}=x(Ze,null);function n(){const{value:t}=e;if(null===t)return"";const{label:a}=e;return"HEX"===a?t:"A"===a?`${Math.floor(100*t)}%`:String(Math.floor(t))}return y((()=>{t.value=n()})),{mergedTheme:a,inputValue:t,handleInputChange:function(a){let l,r;switch(e.label){case"HEX":r=function(e){const t=e.trim();return!!/^#[0-9a-fA-F]+$/.test(t)&&[4,5,7,9].includes(t.length)}(a),r&&e.onUpdateValue(a),t.value=n();break;case"H":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),360))}(a),!1===l?t.value=n():e.onUpdateValue(l);break;case"S":case"L":case"V":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),100))}(a),!1===l?t.value=n():e.onUpdateValue(l);break;case"A":l=function(e){return!!/^\d{1,3}\.?\d*%$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e)/100,100))}(a),!1===l?t.value=n():e.onUpdateValue(l);break;case"R":case"G":case"B":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),255))}(a),!1===l?t.value=n():e.onUpdateValue(l)}},handleInputUpdateValue:function(e){t.value=e}}},render(){const{mergedTheme:e}=this;return o(k,{size:"small",placeholder:this.label,theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,builtinThemeOverrides:Qe,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:"A"===this.label?"flex-grow: 1.25;":""})}}),Je=n({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup:e=>({handleUnitUpdateValue(t,a){const{showAlpha:n}=e;if("hex"===e.mode)return void e.onUpdateValue((n?s:w)(a));let l;switch(l=null===e.valueArr?[0,0,0,0]:Array.from(e.valueArr),e.mode){case"hsv":l[t]=a,e.onUpdateValue((n?d:S)(l));break;case"rgb":l[t]=a,e.onUpdateValue((n?c:$)(l));break;case"hsl":l[t]=a,e.onUpdateValue((n?u:C)(l))}}}),render(){const{clsPrefix:e,modes:t}=this;return o("div",{class:`${e}-color-picker-input`},o("div",{class:`${e}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:1===t.length?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),o(Ie,null,{default:()=>{const{mode:e,valueArr:t,showAlpha:a}=this;if("hex"===e){let e=null;try{e=null===t?null:(a?s:w)(t)}catch(n){}return o(We,{label:"HEX",showAlpha:a,value:e,onUpdateValue:e=>{this.handleUnitUpdateValue(0,e)}})}return(e+(a?"a":"")).split("").map(((e,a)=>o(We,{label:e.toUpperCase(),value:null===t?null:t[a],onUpdateValue:e=>{this.handleUnitUpdateValue(a,e)}})))}}))}}),et=n({name:"ColorPickerTrigger",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(e){const{colorPickerSlots:t,renderLabelRef:a}=x(Ze,null);return()=>{const{hsla:n,value:l,clsPrefix:r,onClick:s,disabled:i}=e,d=t.label||a.value;return o("div",{class:[`${r}-color-picker-trigger`,i&&`${r}-color-picker-trigger--disabled`],onClick:i?void 0:s},o("div",{class:`${r}-color-picker-trigger__fill`},o("div",{class:`${r}-color-picker-checkboard`}),o("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:n?u(n):""}}),l&&n?o("div",{class:`${r}-color-picker-trigger__value`,style:{color:n[2]>50||n[3]<.5?"black":"white"}},d?d(l):l):null))}}});function tt(e,t){if("hsv"===t){const[t,a,n,l]=h(e);return c([...Te(t,a,n),l])}return e}const at=n({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(e){function t(t){const{mode:a}=e;let{value:n,mode:l}=t;return l||(l="hex",/^[a-zA-Z]+$/.test(n)?n=function(e){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle}(n):(U("color-picker",`color ${n} in swatches is invalid.`),n="#000000")),l===a?n:He(n,a,l)}function a(a){e.onUpdateColor(t(a))}return{parsedSwatchesRef:b((()=>e.swatches.map((e=>{const t=qe(e);return{value:e,mode:t,legalValue:tt(e,t)}})))),handleSwatchSelect:a,handleSwatchKeyDown:function(e,t){"Enter"===e.key&&a(t)}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-swatches`},this.parsedSwatchesRef.map((t=>o("div",{class:`${e}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(t)},onKeydown:e=>{this.handleSwatchKeyDown(e,t)}},o("div",{class:`${e}-color-picker-swatch__fill`,style:{background:t.legalValue}})))))}}),nt=n({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:e=>{const t=qe(e);return Boolean(!e||t&&"hsv"!==t)}},onUpdateColor:{type:Function,required:!0}},setup:e=>({handleChange:function(t){var a;const n=t.target.value;null===(a=e.onUpdateColor)||void 0===a||a.call(e,He(n.toUpperCase(),e.mode,"hex")),t.stopPropagation()}}),render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-preview__preview`},o("span",{class:`${e}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),o("input",{class:`${e}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),lt=t([e("color-picker","\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n "),e("color-picker-panel","\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n ",[_(),e("input","\n text-align: center;\n ")]),e("color-picker-checkboard","\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[t("&::after",'\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),e("color-picker-slider","\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n ",[a("image","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n "),t("&::after",'\n content: "";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n ')]),e("color-picker-handle","\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n ",[a("fill","\n box-sizing: border-box;\n border: 2px solid white;\n ")]),e("color-picker-pallete","\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n ",[a("layer","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[P("shadowed","\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n ")])]),e("color-picker-preview","\n display: flex;\n ",[a("sliders","\n flex: 1 0 auto;\n "),a("preview","\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n "),a("fill","\n display: block;\n width: 30px;\n height: 30px;\n "),a("input","\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n ")]),e("color-picker-input","\n display: flex;\n align-items: center;\n ",[e("input","\n flex-grow: 1;\n flex-basis: 0;\n "),a("mode","\n width: 72px;\n text-align: center;\n ")]),e("color-picker-control","\n padding: 12px;\n "),e("color-picker-action","\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n ",[e("button","margin-left: 8px;")]),e("color-picker-trigger","\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n ",[a("value","\n white-space: nowrap;\n position: relative;\n "),a("fill","\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n "),P("disabled","cursor: not-allowed"),e("color-picker-checkboard","\n border-radius: var(--n-border-radius);\n ",[t("&::after","\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n ")])]),e("color-picker-swatches","\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n ",[e("color-picker-swatch","\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n ",[a("fill","\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n "),t("&:focus","\n outline: none;\n ",[a("fill",[t("&::after",'\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: "";\n ')])])])])]),rt=n({name:"ColorPicker",props:Object.assign(Object.assign({},M.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:H.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),setup(e,{slots:t}){const a=v(null);let n=null;const r=A(e),{mergedSizeRef:m,mergedDisabledRef:g}=r,{localeRef:f}=D("global"),{mergedClsPrefixRef:x,namespaceRef:k,inlineThemeDisabled:U}=l(e),_=M("ColorPicker","-color-picker",lt,T,e,x);z(Ze,{themeRef:_,renderLabelRef:R(e,"renderLabel"),colorPickerSlots:t});const P=v(e.defaultShow),O=V(R(e,"show"),P);function j(t){const{onUpdateShow:a,"onUpdate:show":n}=e;a&&K(a,t),n&&K(n,t),P.value=t}const{defaultValue:E}=e,X=v(void 0===E?function(e,t){switch(e[0]){case"hex":return t?"#000000FF":"#000000";case"rgb":return t?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return t?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return t?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}(e.modes,e.showAlpha):E),N=V(R(e,"value"),X),G=v([N.value]),Q=v(0),W=b((()=>qe(N.value))),{modes:J}=e,ee=v(qe(N.value)||J[0]||"rgb");function te(){const{modes:t}=e,{value:a}=ee,n=t.findIndex((e=>e===a));ee.value=~n?t[(n+1)%t.length]:"rgb"}let ae,ne,le,re,oe,se,ie,ue;const de=b((()=>{const{value:e}=N;if(!e)return null;switch(W.value){case"hsv":return h(e);case"hsl":return[ae,ne,le,ue]=p(e),[...De(ae,ne,le),ue];case"rgb":case"hex":return[oe,se,ie,ue]=i(e),[...ze(oe,se,ie),ue]}})),ce=b((()=>{const{value:e}=N;if(!e)return null;switch(W.value){case"rgb":case"hex":return i(e);case"hsv":return[ae,ne,re,ue]=h(e),[...Te(ae,ne,re),ue];case"hsl":return[ae,ne,le,ue]=p(e),[...Ve(ae,ne,le),ue]}})),pe=b((()=>{const{value:e}=N;if(!e)return null;switch(W.value){case"hsl":return p(e);case"hsv":return[ae,ne,re,ue]=h(e),[...Me(ae,ne,re),ue];case"rgb":case"hex":return[oe,se,ie,ue]=i(e),[...Re(oe,se,ie),ue]}})),he=b((()=>{switch(ee.value){case"rgb":case"hex":return ce.value;case"hsv":return de.value;case"hsl":return pe.value}})),ve=v(0),me=v(1),ge=v([0,0]);function be(t,a){const{value:n}=de,l=ve.value,r=n?n[3]:1;ge.value=[t,a];const{showAlpha:o}=e;switch(ee.value){case"hsv":ye((o?d:S)([l,t,a,r]),"cursor");break;case"hsl":ye((o?u:C)([...Me(l,t,a),r]),"cursor");break;case"rgb":ye((o?c:$)([...Te(l,t,a),r]),"cursor");break;case"hex":ye((o?s:w)([...Te(l,t,a),r]),"cursor")}}function fe(t){ve.value=t;const{value:a}=de;if(!a)return;const[,n,l,r]=a,{showAlpha:o}=e;switch(ee.value){case"hsv":ye((o?d:S)([t,n,l,r]),"cursor");break;case"rgb":ye((o?c:$)([...Te(t,n,l),r]),"cursor");break;case"hex":ye((o?s:w)([...Te(t,n,l),r]),"cursor");break;case"hsl":ye((o?u:C)([...Me(t,n,l),r]),"cursor")}}function xe(e){switch(ee.value){case"hsv":[ae,ne,re]=de.value,ye(d([ae,ne,re,e]),"cursor");break;case"rgb":[oe,se,ie]=ce.value,ye(c([oe,se,ie,e]),"cursor");break;case"hex":[oe,se,ie]=ce.value,ye(s([oe,se,ie,e]),"cursor");break;case"hsl":[ae,ne,le]=pe.value,ye(u([ae,ne,le,e]),"cursor")}me.value=e}function ye(t,a){n="cursor"===a?t:null;const{nTriggerFormChange:l,nTriggerFormInput:o}=r,{onUpdateValue:s,"onUpdate:value":i}=e;s&&K(s,t),i&&K(i,t),l(),o(),X.value=t}function ke(e){ye(e,"input"),Z(we)}function we(t=!0){const{value:a}=N;if(a){const{nTriggerFormChange:n,nTriggerFormInput:l}=r,{onComplete:o}=e;o&&o(a);const{value:s}=G,{value:i}=Q;t&&(s.splice(i+1,s.length,a),Q.value=i+1),n(),l()}}function Ce(){const{value:e}=Q;e-1<0||(ye(G.value[e-1],"input"),we(!1),Q.value=e-1)}function $e(){const{value:e}=Q;e<0||e+1>=G.value.length||(ye(G.value[e+1],"input"),we(!1),Q.value=e+1)}function Se(){ye(null,"input"),j(!1)}function Ue(){const{value:t}=N,{onConfirm:a}=e;a&&a(t),j(!1)}const _e=b((()=>Q.value>=1)),Pe=b((()=>{const{value:e}=G;return e.length>1&&Q.value<e.length-1}));F(O,(e=>{e||(G.value=[N.value],Q.value=0)})),y((()=>{if(n&&n===N.value);else{const{value:e}=de;e&&(ve.value=e[0],me.value=e[3],ge.value=[e[1],e[2]])}n=null}));const Ae=b((()=>{const{value:e}=m,{common:{cubicBezierEaseInOut:t},self:{textColor:a,color:n,panelFontSize:l,boxShadow:r,border:o,borderRadius:s,dividerColor:i,[I("height",e)]:u,[I("fontSize",e)]:d}}=_.value;return{"--n-bezier":t,"--n-text-color":a,"--n-color":n,"--n-panel-font-size":l,"--n-font-size":d,"--n-box-shadow":r,"--n-border":o,"--n-border-radius":s,"--n-height":u,"--n-divider-color":i}})),Fe=U?q("color-picker",b((()=>m.value[0])),Ae,e):void 0;return{mergedClsPrefix:x,namespace:k,selfRef:a,hsla:pe,rgba:ce,mergedShow:O,mergedDisabled:g,isMounted:B(),adjustedTo:H(e),mergedValue:N,handleTriggerClick(){j(!0)},handleClickOutside(e){var t;(null===(t=a.value)||void 0===t?void 0:t.contains(L(e)))||j(!1)},renderPanel:function(){var a;const{value:n}=ce,{value:l}=ve,{internalActions:r,modes:s,actions:i}=e,{value:u}=_,{value:d}=x;return o("div",{class:[`${d}-color-picker-panel`,null==Fe?void 0:Fe.themeClass.value],onDragstart:e=>{e.preventDefault()},style:U?void 0:Ae.value},o("div",{class:`${d}-color-picker-control`},o(Ye,{clsPrefix:d,rgba:n,displayedHue:l,displayedSv:ge.value,onUpdateSV:be,onComplete:we}),o("div",{class:`${d}-color-picker-preview`},o("div",{class:`${d}-color-picker-preview__sliders`},o(je,{clsPrefix:d,hue:l,onUpdateHue:fe,onComplete:we}),e.showAlpha?o(Ne,{clsPrefix:d,rgba:n,alpha:me.value,onUpdateAlpha:xe,onComplete:we}):null),e.showPreview?o(nt,{clsPrefix:d,mode:ee.value,color:ce.value&&w(ce.value),onUpdateColor:e=>{ye(e,"input")}}):null),o(Je,{clsPrefix:d,showAlpha:e.showAlpha,mode:ee.value,modes:s,onUpdateMode:te,value:N.value,valueArr:he.value,onUpdateValue:ke}),(null===(a=e.swatches)||void 0===a?void 0:a.length)&&o(at,{clsPrefix:d,mode:ee.value,swatches:e.swatches,onUpdateColor:e=>{ye(e,"input")}})),(null==i?void 0:i.length)?o("div",{class:`${d}-color-picker-action`},i.includes("confirm")&&o(Y,{size:"small",onClick:Ue,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.confirm}),i.includes("clear")&&o(Y,{size:"small",onClick:Se,disabled:!N.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.clear})):null,t.action?o("div",{class:`${d}-color-picker-action`},{default:t.action}):r?o("div",{class:`${d}-color-picker-action`},r.includes("undo")&&o(Y,{size:"small",onClick:Ce,disabled:!_e.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.undo}),r.includes("redo")&&o(Y,{size:"small",onClick:$e,disabled:!Pe.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.redo})):null)},cssVars:U?void 0:Ae,themeClass:null==Fe?void 0:Fe.themeClass,onRender:null==Fe?void 0:Fe.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:a}=this;return null==a||a(),o("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},o(O,null,{default:()=>[o(j,null,{default:()=>o(et,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick},{label:e.label})}),o(E,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===H.tdkey,to:this.adjustedTo},{default:()=>o(X,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?N(this.renderPanel(),[[G,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),ot={class:"set-main"},st={class:"top"},it={class:"name"},ut={class:"tip"},dt={class:"name"},ct={class:"name"},pt={class:"name"},ht={class:"name"},vt={class:"tip"},mt={class:"name"},gt={class:"name"},bt={class:"tip"},ft={class:"name"},xt={class:"name"},yt={class:"tip"},kt={class:"name"},wt={class:"tip"},Ct={class:"name"},$t={class:"tip"},St={class:"name"},Ut={class:"tip"},_t={class:"name"},Pt={class:"tip"},At={class:"name"},Dt={class:"tip"},Mt={class:"name"},Tt={class:"tip"},zt=Q({__name:"main",setup(e){const t=W(),a=J(),n=ee(),{theme:l,themeAuto:r,listClickMode:o,bottomLyricShow:s,songLevel:i,bannerShow:u,autoSignIn:d,searchHistory:c,themeType:p,themeData:h,showLyricSetting:m,songVolumeFade:g,useUnmServer:b,memoryLastPlaybackPosition:f,language:x,bottomClick:y}=te(t),{locale:k,t:w}=ae(),C=v(!1),$=v({primaryColor:null,primaryColorHover:null,primaryColorSuppl:null,primaryColorPressed:null}),S=()=>{$.value,p.value="custom",h.value={label:"custom",name:w("general.name.customTheme"),...$.value},C.value=!1},U=v([]),_=e=>{n.value,e&&(l.value=n.value)},P=v([]),A=[{label:"🇨🇳 简体中文",value:"zh-CN"},{label:"🇬🇧 English",value:"en"}],D=(e,t)=>{const a=document.documentElement;k.value=e,a&&a.setAttribute("lang",e),T(),w("setting.changeLanguage",{name:e}),$message.success(w("setting.changeLanguage",{name:t.label}))},M=v([]),T=()=>{var e,t,n,l;U.value=[{label:w("nav.avatar.light"),value:"light"},{label:w("nav.avatar.dark"),value:"dark"}],P.value=[{label:w("setting.dblclick"),value:"dblclick"},{label:w("setting.click"),value:"click"}],M.value=[{label:w("setting.standard"),value:"standard"},{label:w("setting.higher"),value:"higher"},,{label:w("setting.exhigh"),value:"exhigh"},{label:w("setting.lossless"),value:"lossless",disabled:!(null==(e=a.userData)?void 0:e.vipType)},{label:w("setting.hires"),value:"hires",disabled:!(null==(t=a.userData)?void 0:t.vipType)},{label:w("setting.jyeffect"),value:"jyeffect",disabled:!(null==(n=a.userData)?void 0:n.vipType)},{label:w("setting.jymaster"),value:"jymaster",disabled:!(null==(l=a.userData)?void 0:l.vipType)}]},z=(e,t=!1)=>{t?$dialog.warning({class:"s-dialog",title:w("general.name.restore"),content:w("setting.themeTypeDialog"),positiveText:w("general.name.restore"),negativeText:w("general.dialog.cancel"),onPositiveClick:()=>{$message.success(w("other.cleanAll")),p.value="red"}}):($message.success(w("setting.themeChange",{name:e.name})),p.value=e.label)};return ne((()=>{T()})),(e,t)=>{const a=Y,n=we,v=Se,k=Ue,w=de,T=_e,R=Ce,V=rt,F=Pe,I=Ae,q=$e,B=ce;return le(),re("div",ot,[oe(w,{class:"set-item","content-style":{flexDirection:"column",alignItems:"flex-start"}},{default:se((()=>[pe("div",st,[pe("div",it,[he(ve(e.$t("setting.themeType"))+" ",1),pe("span",ut,ve(e.$t("setting.themeTypeTip")),1)]),"red"!==ie(p)?(le(),me(a,{key:0,strong:"",secondary:"",onClick:t[0]||(t[0]=e=>z(null,!0))},{default:se((()=>[he(ve(e.$t("general.name.restore")),1)])),_:1})):ge("",!0)]),oe(k,{class:"color-selete","x-gap":16,"y-gap":16,responsive:"screen",cols:"3 s:4 m:5 l:6"},{default:se((()=>[(le(!0),re(be,null,fe(ie(ke),(e=>(le(),me(v,{key:e,style:xe({"--color":e.primaryColor}),class:ye(e.label===ie(p)?"item check":"item"),onClick:t=>z(e)},{default:se((()=>[oe(n,{innerHTML:"zh-CN"===ie(x)?e.name:e.label},null,8,["innerHTML"])])),_:2},1032,["style","class","onClick"])))),128)),oe(v,{class:ye("custom"===ie(p)?"item check":"item"),style:xe({"--color":ie(h).primaryColor}),onClick:t[1]||(t[1]=e=>(C.value=!0,void($.value={primaryColor:h.value.primaryColor,primaryColorHover:h.value.primaryColorHover,primaryColorSuppl:h.value.primaryColorSuppl,primaryColorPressed:h.value.primaryColorPressed})))},{default:se((()=>[oe(n,{innerHTML:e.$t("general.name.customTheme")},null,8,["innerHTML"])])),_:1},8,["class","style"])])),_:1})])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",dt,ve(e.$t("setting.language")),1),oe(T,{class:"set",value:ie(x),"onUpdate:value":[t[2]||(t[2]=e=>ue(x)?x.value=e:null),D],options:A},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",ct,ve(e.$t("setting.theme")),1),oe(T,{class:"set",value:ie(l),"onUpdate:value":[t[3]||(t[3]=e=>ue(l)?l.value=e:null),t[4]||(t[4]=e=>r.value=!1)],options:ie(U)},null,8,["value","options"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",pt,ve(e.$t("setting.themeAuto")),1),oe(R,{value:ie(r),"onUpdate:value":[t[5]||(t[5]=e=>ue(r)?r.value=e:null),_],round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",ht,[he(ve(e.$t("setting.autoSignIn"))+" ",1),pe("span",vt,ve(e.$t("setting.autoSignInTip")),1)]),oe(R,{value:ie(d),"onUpdate:value":t[6]||(t[6]=e=>ue(d)?d.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",mt,ve(e.$t("setting.bannerShow")),1),oe(R,{value:ie(u),"onUpdate:value":t[7]||(t[7]=e=>ue(u)?u.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",gt,[he(ve(e.$t("setting.listClickMode"))+" ",1),pe("span",bt,ve(e.$t("setting.listClickModeTip")),1)]),oe(T,{class:"set",value:ie(o),"onUpdate:value":t[8]||(t[8]=e=>ue(o)?o.value=e:null),options:ie(P)},null,8,["value","options"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",ft,ve(e.$t("setting.searchHistory")),1),oe(R,{value:ie(c),"onUpdate:value":t[9]||(t[9]=e=>ue(c)?c.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",xt,[he(ve(e.$t("setting.bottomLyricShow"))+" ",1),pe("span",yt,ve(e.$t("setting.bottomLyricShowTip")),1)]),oe(R,{value:ie(s),"onUpdate:value":t[10]||(t[10]=e=>ue(s)?s.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",kt,[he(ve(e.$t("setting.bottomClick"))+" ",1),pe("span",wt,ve(e.$t("setting.bottomClickTip")),1)]),oe(R,{value:ie(y),"onUpdate:value":t[11]||(t[11]=e=>ue(y)?y.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",Ct,[he(ve(e.$t("setting.songVolumeFade"))+" ",1),pe("span",$t,ve(e.$t("setting.songVolumeFadeTip")),1)]),oe(R,{value:ie(g),"onUpdate:value":t[12]||(t[12]=e=>ue(g)?g.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",St,[he(ve(e.$t("setting.memoryLastPlaybackPosition"))+" ",1),pe("span",Ut,ve(e.$t("setting.memoryLastPlaybackPositionTip")),1)]),oe(R,{value:ie(f),"onUpdate:value":t[13]||(t[13]=e=>ue(f)?f.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",_t,[he(ve(e.$t("setting.songLevel"))+" ",1),pe("span",Pt,ve(e.$t("setting.songLevelTip")),1)]),oe(T,{class:"set",value:ie(i),"onUpdate:value":t[14]||(t[14]=e=>ue(i)?i.value=e:null),options:ie(M)},null,8,["value","options"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",At,[he(ve(e.$t("setting.useUnmServerShow"))+" ",1),pe("span",Dt,ve(ie(true)?e.$t("setting.useUnmServerShowTip1"):e.$t("setting.useUnmServerShowTip2")),1)]),oe(R,{value:ie(b),"onUpdate:value":t[15]||(t[15]=e=>ue(b)?b.value=e:null),round:!1,disabled:!ie(true)},null,8,["value","disabled"])])),_:1}),oe(w,{class:"set-item"},{default:se((()=>[pe("div",Mt,[he(ve(e.$t("setting.showLyricSetting"))+" ",1),pe("span",Tt,ve(e.$t("setting.showLyricSettingTip")),1)]),oe(R,{value:ie(m),"onUpdate:value":t[16]||(t[16]=e=>ue(m)?m.value=e:null),round:!1},null,8,["value"])])),_:1}),oe(B,{class:"s-modal",show:ie(C),"onUpdate:show":t[22]||(t[22]=e=>ue(C)?C.value=e:null),preset:"card",title:e.$t("general.name.customTheme"),bordered:!1},{footer:se((()=>[oe(q,{justify:"end"},{default:se((()=>[oe(a,{onClick:t[21]||(t[21]=e=>C.value=!1)},{default:se((()=>[he(ve(e.$t("general.dialog.cancel")),1)])),_:1}),oe(a,{type:"primary",onClick:S},{default:se((()=>[he(ve(e.$t("general.name.customTheme")),1)])),_:1})])),_:1})])),default:se((()=>[oe(I,{class:"color-custom",model:ie($)},{default:se((()=>[oe(F,{label:e.$t("general.name.primaryColor"),path:"primaryColor"},{default:se((()=>[oe(V,{value:ie($).primaryColor,"onUpdate:value":t[17]||(t[17]=e=>ie($).primaryColor=e)},null,8,["value"])])),_:1},8,["label"]),oe(F,{label:e.$t("general.name.primaryColor")+" Hover",path:"primaryColorHover"},{default:se((()=>[oe(V,{value:ie($).primaryColorHover,"onUpdate:value":t[18]||(t[18]=e=>ie($).primaryColorHover=e)},null,8,["value"])])),_:1},8,["label"]),oe(F,{label:e.$t("general.name.primaryColor")+" Suppl",path:"primaryColorSuppl"},{default:se((()=>[oe(V,{value:ie($).primaryColorSuppl,"onUpdate:value":t[19]||(t[19]=e=>ie($).primaryColorSuppl=e)},null,8,["value"])])),_:1},8,["label"]),oe(F,{label:e.$t("general.name.primaryColor")+" Pressed",path:"primaryColorPressed"},{default:se((()=>[oe(V,{value:ie($).primaryColorPressed,"onUpdate:value":t[20]||(t[20]=e=>ie($).primaryColorPressed=e)},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["show","title"])])}}},[["__scopeId","data-v-2e03c3cf"]]);export{zt as default};
