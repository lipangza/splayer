import{_ as a}from"./SongList-R_rcibCj.js";import{s as t,r as s,M as e,f as n,a6 as o,g as l,G as r,J as i,k as d,j as u,T as c,n as g,O as f,aa as p,P as m,i as _,R as v,W as S,v as y,a1 as b,au as h}from"./vendor-QWMq--4w.js";import{_ as D,g as j,B as k,e as $}from"./index-D_KQhQdT.js";import"./Pagination-0Aw9qrf-.js";const w={class:"daily-songs"},M={class:"title"},T={class:"tip"},x=D({__name:"DailySongs",setup(D){const x=j(),{dailySongsData:z}=t(x),P=s(!1),R=s(null),B=e((()=>{const a=z.value.timestamp;if(!a)return null;const t=new Date(a);return`${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`})),C=e((()=>{return[{label:"更新日推",key:"refresh",props:{onclick:async()=>{await x.setDailySongsData(!0)}},icon:(a="refresh",()=>y(S,null,{default:()=>y($,{icon:a},null)}))}];var a}));return n((()=>{R.value=setTimeout((()=>{P.value=!0}),1500)})),o((()=>{clearTimeout(R.value)})),(t,s)=>{const e=f,n=b,o=h,y=p,D=a;return l(),r("div",w,[i("div",M,[d(e,{class:"name"},{default:u((()=>[m("每日推荐")])),_:1}),i("div",T,[d(c,{name:"fade",mode:"out-in"},{default:u((()=>[(l(),_(e,{key:g(P),depth:"3"},{default:u((()=>[m(" 根据你的音乐口味 · "+v(g(P)&&g(B)?"更新于 "+g(B):"每日 6:00 更新"),1)])),_:1}))])),_:1})]),d(y,{class:"control"},{default:u((()=>[d(n,{disabled:0===g(z).data?.length,focusable:!1,size:"large",tag:"div",round:"",strong:"",secondary:"",onClick:s[0]||(s[0]=a=>g(k)(g(z).data))},{icon:u((()=>[d(g(S),null,{default:u((()=>[d(g($),{icon:"play-arrow-rounded"})])),_:1})])),default:u((()=>[m(" 播放全部 ")])),_:1},8,["disabled"]),d(o,{options:g(C),trigger:"hover",placement:"bottom-start"},{default:u((()=>[d(n,{size:"large",tag:"div",circle:"",strong:"",secondary:""},{icon:u((()=>[d(g(S),null,{default:u((()=>[d(g($),{icon:"format-list-bulleted"})])),_:1})])),_:1})])),_:1},8,["options"])])),_:1})]),d(D,{data:g(z).data},null,8,["data"])])}}},[["__scopeId","data-v-66c55422"]]);export{x as default};
