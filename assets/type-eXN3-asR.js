import{_ as a}from"./CoverList-CGbqqvd5.js";import{d as e,r as t,T as s,o as r,H as u,j as o,J as l,n as d,m as n,a7 as i,a5 as c,k as m,a6 as v,a8 as y,aH as p,av as _,au as f,d6 as b,d7 as g,cy as j,K as q}from"./stores-fvLrIm8G.js";import{u as R,o as h}from"./index-CugtlCeX.js";import"./album-DzRjhu8w.js";const N={class:"radio-type"},k={class:"type-title"},w=q(e({__name:"type",setup(e){const q=R(),w=t(Number(q.currentRoute.value.query.id)),C=t(q.currentRoute.value.query.name),x=t([]),H=t([]),B=async()=>{try{x.value=[],H.value=[];const[a,e]=await Promise.all([b(w.value),g(w.value)]);x.value=j(a.djRadios),H.value=j(e.djRadios)}catch(a){console.error("Error getting rec radio:",a),window.$message.error("获取电台分类出现错误")}};return h(a=>{"radio-type"===a.name&&(w.value=Number(a.query.type),C.value=a.query.name,B())}),s(()=>{const a=Number(q.currentRoute.value.query.id),e=q.currentRoute.value.query.name;a===w.value&&e===C.value||(w.value=a,C.value=e,B())}),r(B),(e,t)=>{const s=c,r=v,b=p,g=a,j=_,R=f;return o(),u("div",N,[l("div",k,[d(r,{class:"back",secondary:"",strong:"",round:"",onClick:t[0]||(t[0]=a=>m(q).push("/radio-hot"))},{icon:n(()=>[d(s,{name:"NavigateBefore"})]),default:n(()=>[t[1]||(t[1]=i(" 返回全部 "))]),_:1,__:[1]}),d(b,{class:"title"},{default:n(()=>[i(y(m(C)),1)]),_:1})]),d(R,{class:"tabs",type:"segment",animated:""},{default:n(()=>[d(j,{name:"type-hot",tab:"热门"},{default:n(()=>[d(g,{data:m(x),loading:!0,type:"radio"},null,8,["data"])]),_:1}),d(j,{name:"type-rec",tab:"推荐"},{default:n(()=>[d(g,{data:m(H),loading:!0,type:"radio"},null,8,["data"])]),_:1})]),_:1})])}}}),[["__scopeId","data-v-e3da0286"]]);export{w as default};
