import{d as a,r as e,o as s,H as o,j as t,n as r,m as l,i as u,k as n,b4 as d,a5 as i,ae as m,cy as c}from"./stores-fvLrIm8G.js";import{_ as p}from"./CoverList-CGbqqvd5.js";import{s as v}from"./index-CugtlCeX.js";import"./album-DzRjhu8w.js";const y={class:"search-type"},f=a({__name:"albums",props:{keyword:{}},setup(a){const f=a,b=e(!0),k=e(!0),j=e(0),_=e(1),g=e([]),w=async()=>{k.value=!0;const a=await v(f.keyword,50,j.value,10);b.value=a.result?.hasMore||a.result?.albumCount>j.value+50,_.value=a.result?.albumCount;const e=c(a.result.albums);g.value=g.value?.concat(e),k.value=!1},C=()=>{j.value+=50,w()};return s(()=>{w()}),(a,e)=>{const s=p,c=i,v=d;return t(),o("div",y,[r(m,{name:"fade",mode:"out-in"},{default:l(()=>[n(_)>0?(t(),u(s,{key:0,data:n(g),loading:n(k),loadMore:n(b),type:"album",onLoadMore:C},null,8,["data","loading","loadMore"])):(t(),u(v,{key:1,description:`很抱歉，未能找到与 ${a.keyword} 相关的任何专辑`,style:{"margin-top":"60px"},size:"large"},{icon:l(()=>[r(c,{name:"SearchOff"})]),_:1},8,["description"]))]),_:1})])}}});export{f as default};
