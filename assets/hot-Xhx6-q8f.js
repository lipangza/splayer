import{_ as a}from"./CoverList-CGbqqvd5.js";import{d as e,r as s,o as t,H as l,j as o,n as r,J as d,m as i,k as n,aV as c,aA as u,aB as m,i as p,c9 as f,aC as y,ai as _,a7 as g,a8 as v,a5 as h,aj as k,ae as x,aK as w,a9 as b,d3 as j,d4 as C,d5 as D,cy as E,K as I}from"./stores-fvLrIm8G.js";import{u as K}from"./index-CugtlCeX.js";import"./album-DzRjhu8w.js";const $={class:"radio-hot"},q={key:0,class:"radio-type"},z={key:1,class:"radio-type"},A={class:"rec"},B=I(e({__name:"hot",setup(e){const I=K(),B=s(!0),G=s([]),H=s([]),J=s([]);return t(()=>{(async()=>{try{const a=await b(j,{key:"radioTypeData",time:0,storage:"localStorage"});G.value=a.categories.map(({name:a,id:e})=>({name:a,id:e}))}catch(a){console.error("Error getting radio cat list:",a),window.$message.error("分类获取失败，请重试")}})(),(async()=>{try{const[a,e]=await Promise.all([C("hot"),D()]);H.value=E(a.toplist),J.value=e.data?.map(a=>({id:a.categoryId,name:a.categoryName,radio:E(a.radios)}))}catch(a){console.error("Error getting rec radio:",a),window.$message.error("获取推荐电台出现错误")}})()}),(e,s)=>{const t=_,b=y,j=f,C=h,D=c,E=k,K=w,L=a;return o(),l("div",$,[r(x,{name:"fade",mode:"out-in"},{default:i(()=>[n(G)?.length>0?(o(),l("div",q,[r(D,{collapsed:n(B),"x-gap":"20","y-gap":"20",cols:"3 400:4 600:5 800:6 1000:7"},{default:i(()=>[(o(!0),l(u,null,m(n(G),(a,e)=>(o(),p(j,{key:e},{default:i(()=>[r(b,{class:"cat",hoverable:"",onClick:e=>n(I).push({path:"/radio-type",query:{id:a.id,name:a.name}})},{default:i(()=>[r(t,null,{default:i(()=>[g(v(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),r(j,{class:"suffix",suffix:""},{default:i(({overflow:a})=>[r(b,{class:"cat",hoverable:"",onClick:s[0]||(s[0]=a=>B.value=!n(B))},{default:i(()=>[r(C,{name:a?"Down":"Up"},null,8,["name"]),r(t,null,{default:i(()=>[g(v(a?"查看全部":"收起标签"),1)]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["collapsed"])])):(o(),l("div",z,[r(D,{"x-gap":"20","y-gap":"20",cols:"3 400:4 600:5 800:6 1000:7",collapsed:""},{default:i(()=>[(o(),l(u,null,m(20,a=>r(j,{key:a},{default:i(()=>[r(b,{class:"cat",hoverable:""},{default:i(()=>[r(E,{text:"",round:""})]),_:1})]),_:2},1024)),64))]),_:1})]))]),_:1}),d("div",A,[r(K,{class:"title",prefix:"bar"},{default:i(()=>[r(t,{class:"name"},{default:i(()=>s[1]||(s[1]=[g("热门推荐")])),_:1,__:[1]})]),_:1}),r(L,{data:n(H),loading:!0,type:"radio"},null,8,["data"]),(o(!0),l(u,null,m(n(J),(a,e)=>(o(),l(u,{key:e},[r(K,{class:"title",prefix:"bar"},{default:i(()=>[r(t,{class:"name"},{default:i(()=>[g(v(a.name),1)]),_:2},1024),r(C,{size:26,name:"Right"})]),_:2},1024),r(L,{data:a.radio||[],loading:!0,type:"radio"},null,8,["data"])],64))),128))])])}}}),[["__scopeId","data-v-9aa81972"]]);export{B as default};
