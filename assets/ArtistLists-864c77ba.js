import{P as e,Q as s,_ as a,R as t,a8 as l,am as o,S as r,r as i,j as n,M as c,N as d,Y as p,W as m,Z as u,$ as g,U as k,O as h,ac as f,a1 as y,a2 as v,X as w,T as L,A as x,h as C,ae as _,ad as z,aJ as b}from"./index-6137d952.js";import{l as j}from"./artist-b7807719.js";import{L as $,a as A,_ as U}from"./LinkTwo-053d5333.js";import{U as N}from"./Unlike-3687ca6d.js";import{a as S,_ as W}from"./Grid-c63c69ed.js";import{_ as D}from"./Skeleton-a194b938.js";const M=e("people-search-one",!0,(function(e){return s("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[s("circle",{cx:"24",cy:"11",r:"7",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),s("path",{d:"M4 41C4 32.1634 12.0589 25 22 25",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),s("circle",{cx:"35",cy:"34",r:"6",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth},null),s("path",{d:"M40 38L44 41",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),R={class:"artistlists"},I={class:"cover"},T={class:"cover-loading"},X=a({__name:"ArtistLists",props:{listData:{type:Array,default:[]},gridCollapsed:{type:Boolean,default:!1},gridCollapsedRows:{type:Number,default:1},loadingNum:{type:Number,default:6}},setup(e){const{t:a}=t(),X=l(),B=o(),F=r(),Y=i(0),E=i(0),G=i(!1),J=i(null),O=e=>()=>C(f,{style:{transform:"translateX(2px)"}},{default:()=>e}),P=()=>{G.value=!1},Q=e=>{const s=V(e.id)?1:2,t="zh-CN"===B.language?"":" ";j(s,e.id).then((l=>{200===l.code?($message.success(`${e.name+t}${a(1==s?"menu.collection":"menu.cancelCollection",{name:a("general.dialog.success")})}`),X.setUserArtistLists()):$message.error(`${e.name+t}${a(1==s?"menu.collection":"menu.cancelCollection",{name:a("general.dialog.failed")})}`)}))},V=e=>!X.getUserArtistLists.list[0]||!X.getUserArtistLists.list.some((s=>s.id===e));return n((()=>{!X.userLogin||X.getUserArtistLists.has||X.getUserArtistLists.isLoading||X.setUserArtistLists()})),(t,l)=>{const o=U,r=_,i=z,n=S,j=W,B=D,Z=b;return c(),d("div",R,[s(L,{mode:"out-in"},{default:p((()=>[e.listData[0]?(c(),m(j,{key:0,"x-gap":"30","y-gap":"34",cols:"3 mb:4 s:5 l:6",responsive:"screen",collapsed:e.gridCollapsed,"collapsed-rows":e.gridCollapsedRows},{default:p((()=>[(c(!0),d(u,null,g(e.listData,(e=>(c(),m(n,{class:"item",key:e,onClick:s=>k(F).push(`/artist/songs?id=${e.id}&page=1`),onContextmenu:s=>{return l=e,(t=s).preventDefault(),G.value=!1,void x().then((()=>{J.value=[{key:"like",label:V(l.id)?a("menu.collection",{name:a("general.name.artists")}):a("menu.cancelCollection",{name:a("general.name.artists")}),show:!(!X.userLogin||!X.getUserArtistLists.has),icon:O(C(V(l.id)?$:N)),props:{onClick:()=>{Q(l)}}},{key:"copy",label:a("menu.copy",{name:a("general.name.artists"),other:a("general.name.link")}),icon:O(C(A)),props:{onClick:()=>{if(navigator.clipboard)try{navigator.clipboard.writeText(`https://music.163.com/#/artist?id=${l.id}`),$message.success(a("general.message.copySuccess"))}catch(e){console.error(a("general.message.copyFailure"),e),$message.error(a("general.message.copyFailure"))}else $message.error(a("general.message.notSupported"))}}}],G.value=!0,Y.value=t.clientX,E.value=t.clientY}));var t,l}},{default:p((()=>[h("div",I,[s(r,{lazy:"",round:"",class:"coverImg",src:e.cover.replace(/^http:/,"https:")+"?param=200y200","fallback-src":"/images/pic/default.png"},{placeholder:p((()=>[h("div",T,[s(o,{size:"small"})])])),_:2},1032,["src"]),s(r,{lazy:"",round:"",class:"shadow",src:e.cover.replace(/^http:/,"https:")+"?param=200y200","fallback-src":"/images/pic/default.png"},null,8,["src"]),s(k(f),{size:"40",component:k(M)},null,8,["component"])]),s(i,{class:"name text-hidden"},{default:p((()=>[y(v(e.name),1)])),_:2},1024),e.size?(c(),m(i,{key:0,class:"size",depth:3},{default:p((()=>[y(v(t.$t("general.name.songSize",{size:e.size})),1)])),_:2},1024)):w("",!0)])),_:2},1032,["onClick","onContextmenu"])))),128))])),_:1},8,["collapsed","collapsed-rows"])):(c(),m(j,{key:1,class:"loading","x-gap":"20","y-gap":"26",cols:"3 mb:4 s:5 l:6",responsive:"screen",collapsed:e.gridCollapsed,"collapsed-rows":e.gridCollapsedRows},{default:p((()=>[(c(!0),d(u,null,g(e.loadingNum,(e=>(c(),m(n,{class:"item",key:e},{default:p((()=>[s(B,{class:"pic",sharp:!1}),s(B,{text:"",style:{width:"60%"}})])),_:2},1024)))),128))])),_:1},8,["collapsed","collapsed-rows"]))])),_:1}),s(Z,{style:{"--n-font-size":"14px","--n-border-radius":"6px"},placement:"bottom-start",trigger:"manual",size:"large",x:k(Y),y:k(E),options:k(J),show:k(G),"on-clickoutside":P,onSelect:l[0]||(l[0]=e=>G.value=!1)},null,8,["x","y","options","show"])])}}},[["__scopeId","data-v-94b4a769"]]);export{X as A};
