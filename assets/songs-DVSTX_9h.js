import{d as a,r as s,o as e,H as o,k as t,j as r,af as n,aR as l,h as u,m as d,i,a8 as c,b4 as m}from"./stores-DLHJ0LFH.js";import{_ as p}from"./SongList-B6gqp1u5.js";import{s as v}from"./index-D8wNg7e8.js";const f={class:"search-type"},g=a({__name:"songs",props:{keyword:{}},setup(a){const g=a,y=s(!0),k=s(!0),h=s(0),_=s(1),j=s([]),w=async()=>{k.value=!0;const a=await v(g.keyword,50,h.value,1);y.value=a.result?.hasMore||a.result?.songCount>h.value+50,_.value=a.result?.songCount;const s=l(a.result.songs);j.value=j.value?.concat(s),k.value=!1},x=()=>{y.value?(h.value+=50,w()):k.value=!1};return e((()=>{w()})),(a,s)=>{const e=p,l=c,v=m;return u(),o("div",f,[t(n,{name:"fade",mode:"out-in"},{default:r((()=>[d(_)>0?(u(),i(e,{key:0,data:d(j),loading:d(k),loadMore:"",disabledSort:"",onReachBottom:x},null,8,["data","loading"])):(u(),i(v,{key:1,description:`很抱歉，未能找到与 ${a.keyword} 相关的任何歌曲`,style:{"margin-top":"60px"},size:"large"},{icon:r((()=>[t(l,{name:"SearchOff"})])),_:1},8,["description"]))])),_:1})])}}});export{g as default};
