import{_ as a}from"./MainCover-BturJIOG.js";import{_ as e,h as s,q as l,e as t}from"./index-B903CxKP.js";import{a7 as d,r as o,e as c,g as n,G as r,k as u,j as i,T as p,J as f,n as m,K as _,X as y,a3 as v,aY as h,i as j,P as g,R as x,O as k,aw as w,a2 as C,W as b,aJ as q,ap as P,aq as $}from"./vendor-QWMq--4w.js";import{c as I,g as J,d as O}from"./dj-DH2T3qaa.js";import"./album-0csMMabW.js";const R={class:"dj"},z={class:"recommend"},G=(a=>(P("data-v-00374a29"),a=a(),$(),a))((()=>f("div",{class:"light-green"},null,-1))),K=e({__name:"index",setup(e){const P=d(),$=o(!0),K=o(null),L=o(null),M=o(null);return c((async()=>{await(async()=>{try{const a=await s("djCat",30,I);K.value=a.categories.map((({name:a,id:e})=>({name:a,id:e})))}catch(a){console.error("获取电台分类出现错误",a),$message.error("电台分类获取失败，请重试")}})(),await(async()=>{try{const[a,e]=await Promise.all([J(),O()]);L.value=l(a.djRadios,"dj"),M.value=e.data}catch(a){console.error("获取推荐电台出错：",a),$message.error("获取推荐电台出现错误")}})()})),(e,s)=>{const d=k,o=w,c=C,I=t,J=b,O=v,N=q,T=h,W=a;return n(),r("div",R,[u(p,{name:"fade",mode:"out-in"},{default:i((()=>[m(K)?(n(),j(O,{key:0,collapsed:m($),class:"dj-cat","x-gap":"20","y-gap":"20",cols:"3 s:4 m:5 l:6 xl:7",responsive:"screen"},{default:i((()=>[(n(!0),r(_,null,y(m(K),((a,e)=>(n(),j(c,{key:e},{default:i((()=>[u(o,{class:"cat",hoverable:"",onClick:e=>m(P).push({path:"/dj-type",query:{type:a.id,name:a.name}})},{default:i((()=>[u(d,null,{default:i((()=>[g(x(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),u(c,{class:"suffix",suffix:""},{default:i((({overflow:a})=>[u(o,{class:"cat",hoverable:"",onClick:s[0]||(s[0]=a=>$.value=!m($))},{default:i((()=>[u(J,{size:"24",depth:"3"},{default:i((()=>[u(I,{icon:a?"chevron-down":"chevron-up"},null,8,["icon"])])),_:2},1024),u(d,null,{default:i((()=>[g(x(a?"查看全部":"收起标签"),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["collapsed"])):(n(),j(O,{key:1,class:"dj-cat","x-gap":"20","y-gap":"20",cols:"2 s:3 m:4 l:5 xl:6",responsive:"screen",collapsed:""},{default:i((()=>[(n(),r(_,null,y(20,(a=>u(c,{key:a},{default:i((()=>[u(o,{class:"cat",hoverable:""},{default:i((()=>[u(N,{style:{height:"20px"},text:"",round:""})])),_:1})])),_:2},1024))),64))])),_:1}))])),_:1}),f("div",z,[u(T,{class:"title",prefix:"bar"},{default:i((()=>[u(d,{class:"name"},{default:i((()=>[g("热门推荐")])),_:1})])),_:1}),u(W,{data:m(L),type:"dj"},null,8,["data"]),u(O,{"x-gap":"20","y-gap":"20",cols:2},{default:i((()=>[u(c,null,{default:i((()=>[G])),_:1})])),_:1}),(n(!0),r(_,null,y(m(M),((a,e)=>(n(),r("div",{key:e,class:"type"},[u(T,{class:"title",prefix:"bar",onClick:e=>m(P).push(`/dj-type?type=${a.categoryId}`)},{default:i((()=>[u(d,{class:"name"},{default:i((()=>[g(x(a.categoryName),1)])),_:2},1024),u(J,{class:"more",depth:"3"},{default:i((()=>[u(I,{icon:"chevron-right"})])),_:1})])),_:2},1032,["onClick"]),u(W,{data:m(l)(a.radios,"dj"),type:"dj"},null,8,["data"])])))),128))])])}}},[["__scopeId","data-v-00374a29"]]);export{K as default};
