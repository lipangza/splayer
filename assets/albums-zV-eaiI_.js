import{_ as a}from"./SongList-B6gqp1u5.js";import{d as s,r as e,f as t,w as o,bN as l,H as r,k as n,j as c,af as i,aN as d,h as u,aA as m,aB as f,i as v,bO as b,I as p,a1 as h,a2 as _,ac as k,m as g,bE as j,ai as y,aj as w,a8 as I,aF as B,K as C}from"./stores-DLHJ0LFH.js";import{i as E}from"./index-D8wNg7e8.js";const x={class:"local-albums"},H={class:"data"},L=C(s({__name:"albums",props:{data:{}},setup(s){const C=s,L=e(""),N=t((()=>O(C.data))),O=a=>{const s=a.reduce(((a,s)=>{const e="string"==typeof s.album?s.album.trim():s.album.name;return a[e]||(a[e]=[]),j(a[e],{id:s.id})||a[e].push(s),a}),{}),e=Object.keys(s).sort(((a,s)=>a.localeCompare(s))),t={};return e.forEach((a=>{t[a]=s[a]})),L.value=e[0],t};return o((()=>L.value),(a=>{if(!a)return;const s=document.getElementById(a);s&&s.scrollIntoView({behavior:"smooth",block:"center"})})),(s,e)=>{const t=y,o=w,j=I,C=B,O=d,R=a,A=l("visible");return u(),r("div",x,[n(O,{class:"album-list"},{default:c((()=>[(u(!0),r(m,null,f(g(N),((a,s,e)=>(u(),v(C,{key:e,id:s,class:k(["album-item",{choose:g(L)===s}]),onClick:a=>L.value=s},{default:c((()=>[n(i,{name:"fade",mode:"out-in"},{default:c((()=>[b((u(),v(t,{key:a?.[0]?.cover,src:a?.[0]?.cover||"/images/album.jpg?assest","preview-disabled":"",class:"cover"},null,8,["src"])),[[A,a=>(async(a,s)=>{if(!a)return;const e=N.value?.[s]?.[0]?.path;if(!e)return;const t=await window.electron.ipcRenderer.invoke("get-music-cover",e);if(!t)return;const{data:o,format:l}=t,r=E.createBlobURL(o,l,e);r&&(N.value[s][0].cover=r)})(a,s),void 0,{once:!0}]])])),_:2},1024),p("div",H,[n(o,{class:"name"},{default:c((()=>[h(_(s),1)])),_:2},1024),n(o,{class:"num",depth:"3"},{default:c((()=>[n(j,{name:"Music",depth:3}),h(" "+_(a.length)+" é¦– ",1)])),_:2},1024)])])),_:2},1032,["id","class","onClick"])))),128))])),_:1}),n(i,{name:"fade",mode:"out-in"},{default:c((()=>[(u(),v(R,{key:g(L),data:g(L)?g(N)[g(L)]:[],loading:!0,"hidden-cover":""},null,8,["data"]))])),_:1})])}}}),[["__scopeId","data-v-46d55e94"]]);export{L as default};
