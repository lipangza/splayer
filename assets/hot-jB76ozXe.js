import{_ as a}from"./SongList-R_rcibCj.js";import{_ as s,q as t,C as o,e}from"./index-D_KQhQdT.js";import{a7 as n,r,w as i,e as l,g as u,G as c,k as d,j as m,n as h,b4 as p,P as v,J as f,O as g,W as _}from"./vendor-QWMq--4w.js";import{b as j}from"./artist-DFsVadNt.js";import"./Pagination-0Aw9qrf-.js";const w={class:"artist-hot"},y=s({__name:"hot",setup(s){const y=n(),S=r(y.currentRoute.value.query.id),b=r(null),q=async a=>{try{b.value=null;const s=await j(a);if(s.hotSongs?.[0]?.al?.picUrl)return b.value=t(s.hotSongs,"song"),!0;const e=s.hotSongs.map((a=>a.id)).join(","),n=await o(e);b.value=t(n.songs,"song")}catch(s){console.error("获取歌手热门数据失败：",s)}};return i((()=>y.currentRoute.value),(async a=>{S.value=a.query.id,"ar-hot"===a.name&&await q(S.value)})),l((async()=>{await q(S.value)})),(s,t)=>{const o=g,n=e,r=_,i=p,l=a;return u(),c("div",w,[d(i,{class:"title",prefix:"bar"},{default:m((()=>[d(o,{class:"name"},{default:m((()=>[v("热门歌曲")])),_:1}),f("div",{class:"more",onClick:t[0]||(t[0]=a=>h(y).push(`/artist/songs?id=${h(S)}`))},[d(o,{depth:"3"},{default:m((()=>[v("查看全部")])),_:1}),d(r,{class:"more",depth:"3"},{default:m((()=>[d(n,{icon:"chevron-right"})])),_:1})])])),_:1}),d(l,{data:h(b),showPagination:!1,showTitle:!1},null,8,["data"])])}}},[["__scopeId","data-v-b6f0e0e7"]]);export{y as default};
