import{a as e,t as a,q as s,e as t}from"./index-D_KQhQdT.js";import{_ as l}from"./Pagination-0Aw9qrf-.js";import{_ as r}from"./MainCover-C4bF_JGP.js";import{a7 as u,r as o,w as i,e as n,g as p,G as m,k as d,j as y,T as v,n as c,i as g,L as f,W as h,a0 as j}from"./vendor-QWMq--4w.js";import"./album-BZa_fuA4.js";import"./dj-BjUMPDZK.js";const k={class:"search-playlists"},_={key:0,class:"list"},b={__name:"playlists",setup(b){const q=u(),z=e(),C=o([]),N=o(0),S=o(q.currentRoute.value.query?.keywords||""),w=o(Number(q.currentRoute.value.query?.page)||1),x=(e=S.value,t=z.loadSize,l=0,r=1e3)=>{try{C.value=[],a(e,t,l,r).then((e=>{if(N.value=e.result.playlistCount,0===e.result.playlistCount)return C.value="empty";C.value=s(e.result.playlists)}))}catch(u){console.error("搜索出现错误：",u),$message.error("搜索出现错误")}},P=e=>{q.push({path:"/search/playlists",query:{keywords:S.value,page:e}})};return i((()=>q.currentRoute.value),(e=>{"sea-playlists"==e.name&&(w.value=Number(e.query?.page)||1,S.value=e.query?.keywords||"",x(S.value,z.loadSize,(w.value-1)*z.loadSize))})),n((()=>{x(S.value,z.loadSize,(w.value-1)*z.loadSize)})),(e,a)=>{const s=r,u=l,o=t,i=h,n=j;return p(),m("div",k,[d(v,{name:"fade",mode:"out-in"},{default:y((()=>["empty"!==c(C)?(p(),m("div",_,[d(s,{data:c(C)},null,8,["data"]),c(C)?.length?(p(),g(u,{key:0,totalCount:c(N),pageNumber:c(w),onPageNumberChange:P},null,8,["totalCount","pageNumber"])):f("",!0)])):(p(),g(n,{key:1,description:`很抱歉，未能找到与 ${c(S)} 相关的任何歌单`,style:{"margin-top":"60px"},size:"large"},{icon:y((()=>[d(i,null,{default:y((()=>[d(o,{icon:"search-off"})])),_:1})])),_:1},8,["description"]))])),_:1})])}}};export{b as default};
