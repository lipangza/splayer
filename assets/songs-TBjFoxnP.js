import{_ as a}from"./SongList-CDQnjgGa.js";import{d as s,r as o,Z as t,o as e,H as l,j as r,n,k as i,cQ as u,b8 as c,aR as d}from"./stores-fvLrIm8G.js";import{p as v}from"./index-CugtlCeX.js";const g={class:"artist-songs"},m=s({__name:"songs",props:{id:{}},emits:["scroll"],setup(s,{expose:m,emit:p}){const f=s,j=p,y=o(!0),h=o(!0),x=o([]),S=o(0),_=async()=>{try{if(!f.id)return;y.value=!0;const a=await u(f.id,100,S.value);h.value=a?.more;const s=a?.songs.map(a=>a.id),o=await c(s),t=d(o?.songs);x.value=x.value.concat(t),y.value=!1}catch(a){console.error("Error getting artist all songs:",a)}},w=t(()=>{x.value&&x.value?.length&&v.updatePlayList(x.value)},300),H=()=>{h.value?(S.value+=100,_()):y.value=!1};return m({playAllSongs:w}),e(_),(s,o)=>{const t=a;return r(),l("div",g,[n(t,{data:i(x),loading:i(y),loadMore:"",onReachBottom:H,onScroll:o[0]||(o[0]=a=>j("scroll",a))},null,8,["data","loading"])])}}});export{m as default};
