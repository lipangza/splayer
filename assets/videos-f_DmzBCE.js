import{_ as a}from"./Pagination-D96eRF_4.js";import{_ as e}from"./MainCover-BturJIOG.js";import{a7 as s,r as t,w as r,e as u,g as o,G as l,k as i,j as n,T as m,n as v,i as p,L as d,a0 as c}from"./vendor-QWMq--4w.js";import{a as y,q as g}from"./index-B903CxKP.js";import{e as f}from"./artist-DtP8xNm-.js";import"./album-0csMMabW.js";import"./dj-DH2T3qaa.js";const j={class:"artist-videos"},z={key:0,class:"list"},S={__name:"videos",props:{mvSize:{type:Number,default:0}},setup(S){const b=s(),q=y(),N=S,h=t(b.currentRoute.value.query.id),_=t(null),k=t(0),w=t(Number(b.currentRoute.value.query?.page)||1),x=async(a,e=q.loadSize,s=0)=>{try{_.value=null;const t=await f(a,e,s);if(k.value=N.mvSize,0===k.value)return _.value="empty";_.value=g(t.mvs,"mv")}catch(t){console.error("获取歌手视频失败：",t)}},C=a=>{b.push({path:"/artist/videos",query:{id:h.value,page:a}})};return r((()=>b.currentRoute.value),(async a=>{"ar-videos"===a.name&&(h.value=a.query.id,w.value=Number(a.query?.page)||1,await x(h.value,q.loadSize,(w.value-1)*q.loadSize))})),u((async()=>{await x(h.value,q.loadSize,(w.value-1)*q.loadSize)})),(s,t)=>{const r=e,u=a,y=c;return o(),l("div",j,[i(m,{name:"fade",mode:"out-in"},{default:n((()=>["empty"!==v(_)?(o(),l("div",z,[i(r,{data:v(_),columns:"1 s:2 m:3 l:4 xl:5",type:"mv"},null,8,["data"]),v(_)?.length?(o(),p(u,{key:0,totalCount:v(k),pageNumber:v(w),onPageNumberChange:C},null,8,["totalCount","pageNumber"])):d("",!0)])):(o(),p(y,{key:1,description:"当前歌手暂无视频",class:"tip",style:{"margin-top":"60px"},size:"large"}))])),_:1})])}}};export{S as default};
