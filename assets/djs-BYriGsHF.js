import{a as e,t as a,q as s,e as r}from"./index-D_KQhQdT.js";import{_ as t}from"./Pagination-0Aw9qrf-.js";import{_ as u}from"./MainCover-C4bF_JGP.js";import{a7 as o,r as l,w as n,e as d,g as i,G as m,k as p,j as c,T as v,n as j,i as y,L as g,W as f,a0 as h}from"./vendor-QWMq--4w.js";import"./album-BZa_fuA4.js";import"./dj-BjUMPDZK.js";const k={class:"search-djs"},b={key:0,class:"list"},_={__name:"djs",setup(_){const q=o(),z=e(),C=l([]),N=l(0),R=l(q.currentRoute.value.query?.keywords||""),S=l(Number(q.currentRoute.value.query?.page)||1),w=(e=R.value,r=z.loadSize,t=0,u=1009)=>{try{C.value=[],a(e,r,t,u).then((e=>{if(N.value=e.result.djRadiosCount,0===Object.keys(e.result)?.length)return C.value="empty";C.value=s(e.result.djRadios,"dj")}))}catch(o){console.error("搜索出现错误：",o),$message.error("搜索出现错误")}},x=e=>{q.push({path:"/search/djs",query:{keywords:R.value,page:e}})};return n((()=>q.currentRoute.value),(e=>{"sea-djs"==e.name&&(S.value=Number(e.query?.page)||1,R.value=e.query?.keywords||"",w(R.value,z.loadSize,(S.value-1)*z.loadSize))})),d((()=>{w(R.value,z.loadSize,(S.value-1)*z.loadSize)})),(e,a)=>{const s=u,o=t,l=r,n=f,d=h;return i(),m("div",k,[p(v,{name:"fade",mode:"out-in"},{default:c((()=>["empty"!==j(C)?(i(),m("div",b,[p(s,{data:j(C),type:"dj"},null,8,["data"]),j(C)?.length?(i(),y(o,{key:0,totalCount:j(N),pageNumber:j(S),onPageNumberChange:x},null,8,["totalCount","pageNumber"])):g("",!0)])):(i(),y(d,{key:1,description:`很抱歉，未能找到与 ${j(R)} 相关的任何电台`,style:{"margin-top":"60px"},size:"large"},{icon:c((()=>[p(n,null,{default:c((()=>[p(l,{icon:"search-off"})])),_:1})])),_:1},8,["description"]))])),_:1})])}}};export{_ as default};
