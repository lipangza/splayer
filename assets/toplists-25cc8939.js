import{_ as s,R as a,S as t,aF as i,j as e,M as l,N as o,U as r,W as n,Y as c,X as p,Q as d,T as m,a4 as u,a1 as f,a2 as g,Z as v,$ as L,O as j,ae as y,ad as _,aG as h}from"./index-6137d952.js";import{g as T}from"./album-9073c661.js";import{C as k}from"./CoverLists-9ffbc3d4.js";import{_ as b}from"./Divider-c2e880a0.js";import{a as C,_ as F}from"./Grid-c63c69ed.js";import"./formRules-8f71b7bd.js";import"./FormItem-6e5a0af4.js";import"./Select-3d3bcb8f.js";import"./getCoverUrl-e2404558.js";import"./Tooltip-8e4143df.js";import"./PlayOne-8b2c271b.js";import"./LinkTwo-053d5333.js";import"./Unlike-3687ca6d.js";import"./Skeleton-a194b938.js";import"./use-houdini-b4e30d74.js";const I={class:"toplists"},M={class:"cover"},U={class:"data"},$={class:"desc"},x=s({__name:"toplists",setup(s){const{t:x}=a(),S=t(),H=i({officialList:[],globalList:[]});return e((()=>{$setSiteTitle(x("nav.discover")+" - "+x("nav.discoverChildren.toplists")),T().then((s=>{H.officialList=[],H.globalList=[],s.list[0]?s.list.forEach((s=>{s.ToplistType?H.officialList.push(s):H.globalList.push({id:s.id,cover:s.coverImgUrl,name:s.name,update:s.updateFrequency,playCount:u(s.playCount)})})):$message.error(x("general.message.acquisitionFailed"))}))})),(s,a)=>{const t=b,i=y,e=_,u=h,T=C,x=F;return l(),o("div",I,[r(H).officialList[0]?(l(),n(t,{key:0},{default:c((()=>[f(g(s.$t("nav.officialList")),1)])),_:1})):p("",!0),d(m,{mode:"out-in"},{default:c((()=>[r(H).officialList[0]?(l(),n(x,{key:0,class:"official","x-gap":"20","y-gap":"20",cols:2},{default:c((()=>[(l(!0),o(v,null,L(r(H).officialList,(s=>(l(),n(T,{key:s},{default:c((()=>[d(u,{class:"item",bordered:!1,"content-style":{padding:"0",display:"flex",alignItems:"center"},hoverable:"",onClick:a=>r(S).push(`/playlist?id=${s.id}&page=1`)},{default:c((()=>[j("div",M,[d(i,{class:"coverImg",src:s.coverImgUrl.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/images/pic/default.png"},null,8,["src"]),d(e,{class:"update",innerHTML:s.updateFrequency},null,8,["innerHTML"])]),j("div",U,[d(e,{class:"title",innerHTML:s.name},null,8,["innerHTML"]),j("div",$,[(l(!0),o(v,null,L(s.tracks,((s,a)=>(l(),o("div",{class:"song text-hidden",key:s},[d(e,null,{default:c((()=>[f(g(a+1)+". "+g(s.first)+" - ",1)])),_:2},1024),d(e,{depth:"3"},{default:c((()=>[f(g(s.second),1)])),_:2},1024)])))),128))])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):p("",!0)])),_:1}),d(t,null,{default:c((()=>[f(g(s.$t("nav.globalList")),1)])),_:1}),d(k,{listData:r(H).globalList,listType:"topList"},null,8,["listData"])])}}},[["__scopeId","data-v-dc71f808"]]);export{x as default};
