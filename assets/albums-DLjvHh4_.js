import{d as a,r as s,o as e,H as o,k as t,j as r,af as l,cz as u,h as n,m as d,i,a8 as m,b4 as c}from"./stores-Jq5HPlpq.js";import{_ as p}from"./CoverList-DWqQOU0Q.js";import{s as v}from"./index-CrsIAaLK.js";import"./album-Bz4UpMXc.js";const f={class:"search-type"},y=a({__name:"albums",props:{keyword:{}},setup(a){const y=a,b=s(!0),k=s(!0),j=s(0),_=s(1),g=s([]),h=async()=>{k.value=!0;const a=await v(y.keyword,50,j.value,10);b.value=a.result?.hasMore||a.result?.albumCount>j.value+50,_.value=a.result?.albumCount;const s=u(a.result.albums);g.value=g.value?.concat(s),k.value=!1},w=()=>{j.value+=50,h()};return e((()=>{h()})),(a,s)=>{const e=p,u=m,v=c;return n(),o("div",f,[t(l,{name:"fade",mode:"out-in"},{default:r((()=>[d(_)>0?(n(),i(e,{key:0,data:d(g),loading:d(k),loadMore:d(b),type:"album",onLoadMore:w},null,8,["data","loading","loadMore"])):(n(),i(v,{key:1,description:`很抱歉，未能找到与 ${a.keyword} 相关的任何专辑`,style:{"margin-top":"60px"},size:"large"},{icon:r((()=>[t(u,{name:"SearchOff"})])),_:1},8,["description"]))])),_:1})])}}});export{y as default};
