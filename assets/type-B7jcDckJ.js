import{_ as a}from"./CoverList-D-VGfVrf.js";import{d as e,r as t,S as s,o as r,H as u,I as o,k as l,j as d,m as n,d7 as i,d8 as c,cz as m,aa as v,aH as y,au as p,h as f,a1 as _,a2 as b,a8 as g,ay as j,K as q}from"./stores-DLHJ0LFH.js";import{u as R,o as h}from"./index-D8wNg7e8.js";import"./album-YTSjqKWE.js";const N={class:"radio-type"},k={class:"type-title"},w=q(e({__name:"type",setup(e){const q=R(),w=t(Number(q.currentRoute.value.query.id)),C=t(q.currentRoute.value.query.name),x=t([]),H=t([]),I=async()=>{try{x.value=[],H.value=[];const[a,e]=await Promise.all([i(w.value),c(w.value)]);x.value=m(a.djRadios),H.value=m(e.djRadios)}catch(a){console.error("Error getting rec radio:",a),window.$message.error("获取电台分类出现错误")}};return h((a=>{"radio-type"===a.name&&(w.value=Number(a.query.type),C.value=a.query.name,I())})),s((()=>{const a=Number(q.currentRoute.value.query.id),e=q.currentRoute.value.query.name;a===w.value&&e===C.value||(w.value=a,C.value=e,I())})),r(I),(e,t)=>{const s=g,r=v,i=y,c=a,m=j,R=p;return f(),u("div",N,[o("div",k,[l(r,{class:"back",secondary:"",strong:"",round:"",onClick:t[0]||(t[0]=a=>n(q).push("/radio-hot"))},{icon:d((()=>[l(s,{name:"NavigateBefore"})])),default:d((()=>[t[1]||(t[1]=_(" 返回全部 "))])),_:1}),l(i,{class:"title"},{default:d((()=>[_(b(n(C)),1)])),_:1})]),l(R,{class:"tabs",type:"segment",animated:""},{default:d((()=>[l(m,{name:"type-hot",tab:"热门"},{default:d((()=>[l(c,{data:n(x),loading:!0,type:"radio"},null,8,["data"])])),_:1}),l(m,{name:"type-rec",tab:"推荐"},{default:d((()=>[l(c,{data:n(H),loading:!0,type:"radio"},null,8,["data"])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-e3da0286"]]);export{w as default};
