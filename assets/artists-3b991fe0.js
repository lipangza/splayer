import{_ as e,R as a,S as r,r as t,z as l,j as s,M as u,N as n,O as i,Q as o,Y as p,U as y,aA as v,Z as d,$ as c,a1 as g,a2 as m,aH as k,W as h,X as f,aC as j,ap as q}from"./index-62a86a6d.js";import{g as _}from"./artist-cd2cde92.js";import{A as C}from"./ArtistLists-67ece76d.js";import"./LinkTwo-de3400c3.js";import"./Unlike-8f9bbc24.js";import"./Grid-b6f95812.js";import"./Skeleton-341b61e6.js";import"./use-houdini-3b9e128b.js";const M={class:"artists"},w={class:"menu"},R=e({__name:"artists",setup(e){const{t:R}=a(),b=r(),F=[{key:"-1",value:R("general.type.hot")},...Array.from({length:26},((e,a)=>String.fromCharCode(a+65))).map((e=>({key:e,value:e}))),{key:"0",value:"#"}],G=t(b.currentRoute.value.query.initial?b.currentRoute.value.query.initial:F[0].key),N=[R("general.type.all"),R("general.type.china"),R("general.type.chinaMale"),R("general.type.chinaFemale"),R("general.type.chinaGroup"),R("general.type.western"),R("general.type.westernMale"),R("general.type.westernFemale"),R("general.type.westernGroup"),R("general.type.japan"),R("general.type.japanMale"),R("general.type.japanFemale"),R("general.type.japanGroup"),R("general.type.korea"),R("general.type.koreaMale"),R("general.type.koreaFemale"),R("general.type.koreaGroup"),R("general.type.other")],S=[-1,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1],z=[-1,7,7,7,7,96,96,96,96,8,8,8,8,16,16,16,16,0],A=t(b.currentRoute.value.query.type?Number(b.currentRoute.value.query.type):0),U=t([]),$=t(0),x=t(!0),D=t(!1),E=(e=-1,a=-1,r=30,t=0,l=-1)=>{_(e,a,r,t,l).then((e=>{e.artists[0]?(e.more?x.value=!0:x.value=!1,D.value=!1,e.artists.forEach((e=>{U.value.push({id:e.id,name:e.name,cover:e.img1v1Url,size:e.musicSize})}))):(x.value=!1,$message.error(R("general.message.acquisitionFailed")))}))},I=()=>{D.value=!0,$.value+=30,E(S[A.value],z[A.value],30,$.value,G.value)};return l((()=>b.currentRoute.value),(e=>{A.value=Number(e.query.type?e.query.type:0),G.value=e.query.initial?e.query.initial:F[0].key,$.value=0,"dsc-artists"==e.name&&(U.value=[],E(S[A.value],z[A.value],30,0,G.value))})),s((()=>{$setSiteTitle(R("nav.discover")+" - "+R("nav.discoverChildren.artists")),E(S[A.value],z[A.value],30,0,G.value)})),(e,a)=>{const r=j,t=v,l=q;return u(),n("div",M,[i("div",w,[o(t,{class:"initial"},{default:p((()=>[(u(),n(d,null,c(F,(e=>o(r,{class:"tag",round:"",key:e,bordered:!1,type:e.key==y(G)?"primary":"default",onClick:a=>{return r=e.key,U.value=[],void b.push({path:"/discover/artists",query:{type:A.value,initial:r,page:1}});var r}},{default:p((()=>[g(m(e.value),1)])),_:2},1032,["type","onClick"]))),64))])),_:1}),o(t,{class:"category"},{default:p((()=>[(u(),n(d,null,c(N,((e,a)=>o(r,{class:k(["tag",e.length>2?"hidden":"show"]),round:"",key:e,bordered:!1,type:a==y(A)?"primary":"default",onClick:e=>(e=>{U.value=[],b.push({path:"/discover/artists",query:{type:e,initial:G.value,page:1}})})(a)},{default:p((()=>[g(m(e),1)])),_:2},1032,["class","type","onClick"]))),64))])),_:1})]),o(C,{listData:y(U),loadingNum:30},null,8,["listData"]),o(t,{justify:"center"},{default:p((()=>[y(x)?(u(),h(l,{key:0,class:"more",size:"large",strong:"",secondary:"",round:"",loading:y(D),onClick:I},{default:p((()=>[g(m(e.$t("general.name.loadMore")),1)])),_:1},8,["loading"])):f("",!0)])),_:1})])}}},[["__scopeId","data-v-a9b6834e"]]);export{R as default};
