function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./Home-DRoUkK2S.js","./MainCover-C4bF_JGP.js","./vendor-QWMq--4w.js","./album-BZa_fuA4.js","./dj-BjUMPDZK.js","./MainCover-DUog-Om0.css","./SpecialCover-auX8M1BT.js","./SpecialCover-BiqCdq6L.css","./video-prHJXdpU.js","./Home-DUNB_72x.css","./index-nFulcKI5.js","./index-BOyDhfXL.css","./songs-0Rz84b1f.js","./Pagination-0Aw9qrf-.js","./Pagination-S2qMylsg.css","./SongList-R_rcibCj.js","./SongList-C2Ug56If.css","./artists-kyFIw321.js","./albums-BbEFC60D.js","./videos-DZ5GsGOD.js","./playlists-DfNB1M7z.js","./djs-BYriGsHF.js","./index-DGRcBBB3.js","./index-DR7g4X50.css","./playlists-BwzhYGfS.js","./playlists-Bt-lh-Xz.css","./toplists-CjUxt-EU.js","./artists-IyauIpQS.js","./artist-DFsVadNt.js","./artists-CU6SUv2A.css","./new-Daw96-4A.js","./new-CqrgYEG8.css","./Player-CRjZ0F02.js","./CommentList-Db2c7R81.js","./avatar-DeuhMYCr.js","./CommentList-DewCUZWX.css","./Player-D6-iF2pQ.css","./DailySongs-U4y6sIO1.js","./DailySongs-CcI5zNXJ.css","./Comment-DKzJDVCk.js","./Comment-jNotYYpv.css","./Song-PBo0yRaK.js","./History-8-eGlkWp.js","./History-BDuJ9pdw.css","./Cloud-Bj07u1Vd.js","./Cloud-Cb_zFjW-.css","./playlist-CUjmxy0R.js","./playlist-C6Mn1d4n.css","./album-DHy3UFeu.js","./album-BqOOWZSo.css","./dj-DjOfnJEC.js","./dj-Bl805NlF.css","./index-C9-Dh0aO.js","./index-BKgBfyM2.css","./hot-jB76ozXe.js","./hot-ByYRa6Ze.css","./songs-BJLLQHaw.js","./albums-DOK2iLiG.js","./videos-pKoFv1xM.js","./index-CRSuS4V8.js","./index-Ckz_NeLA.css","./albums-DLhV0y1Q.js","./artists-jZvH8Ya5.js","./videos-DQ_ew9-I.js","./playlists-CnGeflah.js","./playlists-BslsfhNA.css","./djs-CmWmXPVf.js","./index-Bv_yazWk.js","./index-CBTURZVi.css","./songs-BmRDK-vO.js","./artists-CfXy4bgv.js","./artists-_3x4WUwL.css","./albums-CWKAWICO.js","./albums-BgCjniAZ.css","./index-DUcl-4Yo.js","./index-DZgRKrmk.css","./type-0l3X4iPQ.js","./type-RQXdH6Pr.css","./index-BB9lGBcE.js","./index-65cf-2Hi.css","./Test-CK490zVP.js","./Test-B6dBYYh9.css","./404-CViSgIqZ.js","./403-Cm2h6ENG.js","./500-DvK3Y07U.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{a as e,b as a,d as t,o as l,Q as s,S as o,t as r,H as n,h as i,l as c,u,s as d,r as m,c as p,w as h,e as y,f as v,g,i as f,j as w,k,m as _,n as T,z as b,p as S,q,v as D,_ as C,x as L,y as M,N as P,A as $,B as x,C as I,D as z,E,F as H,G as V,I as A,J as R,K as j,L as U,M as O,O as Z,P as F,R as B,T as N,U as G,V as Y,W,X as Q,Y as J,Z as K,$ as X,a0 as ee,a1 as ae,a2 as te,a3 as le,a4 as se,a5 as oe,a6 as re,a7 as ne,a8 as ie,a9 as ce,aa as ue,ab as de,ac as me,ad as pe,ae as he,af as ye,ag as ve,ah as ge,ai as fe,aj as we,ak as ke,al as _e,am as Te,an as be,ao as Se,ap as qe,aq as De,ar as Ce,as as Le,at as Me,au as Pe,av as $e,aw as xe,ax as Ie,ay as ze,az as Ee,aA as He,aB as Ve,aC as Ae,aD as Re,aE as je,aF as Ue,aG as Oe,aH as Ze,aI as Fe,aJ as Be,aK as Ne,aL as Ge,aM as Ye,aN as We,aO as Qe,aP as Je,aQ as Ke,aR as Xe,aS as ea,aT as aa,aU as ta,aV as la,aW as sa}from"./vendor-QWMq--4w.js";let oa=null,ra=null,na=null;const ia={electron:()=>"undefined"!=typeof electron,macOS:()=>!!ia.electron()&&"darwin"===electron.process.platform,windows:()=>!!ia.electron()&&"win32"===electron.process.platform,linux:()=>!!ia.electron()&&"linux"===electron.process.platform},ca=async(e,a,t,l)=>{try{const s=sessionStorage.getItem(`${e}Data`),o=sessionStorage.getItem(`${e}Timestamp`);if(s&&o){const e=(new Date).getTime(),t=parseInt(o,10);if((e-t)/6e4<=a)return JSON.parse(s)}const r=l?await t(l):await t(),n=(new Date).getTime();return void 0!==r&&(sessionStorage.setItem(`${e}Data`,JSON.stringify(r)),sessionStorage.setItem(`${e}Timestamp`,n.toString())),r}catch(s){throw console.error("缓存操作出错：",s),s}},ua=async(e,a=!1)=>{try{ra&&URL.revokeObjectURL(ra);const t=await electron.ipcRenderer.invoke("getMusicCover",e);if(t){const e=new Blob([t.coverData],{type:`image/${t.coverFormat}`});return ra=URL.createObjectURL(e),ra}return`/images/pic/${a?"album":"song"}.jpg?assest`}catch(t){throw console.error("获取本地音乐封面出错：",t),t}},da=async(e,a)=>{try{if(ia.electron()){await electron.ipcRenderer.invoke("copyData",e)?$message.success(`${a||"复制"}成功`):$message.error(`${a||"复制"}失败`)}else if(navigator.clipboard)try{await navigator.clipboard.writeText(e),$message.success(`${a||"复制"}成功`)}catch(t){console.error("复制出错：",t),$message.error("复制失败")}else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")?$message.success(`${a||"复制"}成功`):$message.error(`${a||"复制"}失败`)}catch(l){console.error("复制出错：",l),$message.error("复制失败")}finally{document.body.removeChild(t)}}}catch(t){console.error("复制出错：",t),$message.error("复制出现错误，请重试")}},ma=e=>{const a=Number(e);if(0===a||a<1e4)return a;if(a<1e8){const e=(a/1e4).toFixed(1);return e.endsWith(".0")?e.slice(0,-2)+" 万":e+" 万"}{const e=(a/1e8).toFixed(1);return e.endsWith(".0")?e.slice(0,-2)+" 亿":e+" 亿"}},pa=(e,a)=>{try{const t=a=>{for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const s=a[l];if("object"==typeof s&&null!==s&&t(s))return!0;if(s&&"string"==typeof s&&s.includes(e))return!0}return!1};return a?Array.isArray(a)?a.filter(t):t(a):[]}catch(t){return console.error("模糊搜索出现错误：",t),[]}},ha=e=>a.get(e)??localStorage.getItem(`cookie-${e}`),ya=e=>{a.remove(e),localStorage.removeItem(`cookie-${e}`)},va=()=>{const e=Nt(),a=void 0===ha("MUSIC_U")||null===ha("MUSIC_U");return e.userLoginStatus=!a,!a},ga=async(a=!0)=>{const t=Nt();await e({method:"GET",url:"/logout",params:{timestamp:(new Date).getTime()}}),ya("MUSIC_U"),ya("__csrf"),sessionStorage.clear(),t.userLoginStatus=!1,t.userData={},t.userLikeData={songs:[],playlists:[],albums:[],mvs:[]},t.dailySongsData={timestamp:null,data:[]},a&&$message.success("成功退出登录")};ia.electron()?e.defaults.baseURL="/api":e.defaults.baseURL="https://musicapi.lipangza.asia",e.defaults.timeout=15e3,e.defaults.withCredentials=!0,e.interceptors.request.use((e=>(e.params||(e.params={}),e.noCookie||!va()&&null===ha("MUSIC_U")||(e.params.cookie=`MUSIC_U=${ha("MUSIC_U")};`),e.noCookie&&(e.params.noCookie=!0),ia.electron()||(e.params.realIP="116.25.146.177"),e)),(e=>(console.error("请求失败，请稍后重试"),Promise.reject(e)))),e.interceptors.response.use((e=>e?.data),(e=>{const a=e.response;switch(a||$canNotConnect(e),a?.status){case 400:console.error("客户端错误：",a.status,a.statusText);break;case 401:console.error("未授权：",a.status,a.statusText);break;case 403:console.error("禁止访问：",a.status,a.statusText);break;case 404:console.error("未找到资源：",a.status,a.statusText);break;case 500:console.error("服务器错误：",a.status,a.statusText);break;default:console.error("未处理的错误：",e.message)}return Promise.reject(e)}));const fa={radarPlaylist:[{id:3136952023,name:"私人雷达"},{id:5320167908,name:"时光雷达"},{id:5327906368,name:"乐迷雷达"},{id:5362359247,name:"宝藏雷达"},{id:5300458264,name:"新歌雷达"},{id:5341776086,name:"神秘雷达"}]},wa=(a="songs")=>e({method:"GET",url:`/recommend/${a}`,params:{timestamp:(new Date).getTime()}}),ka=(a,t=12)=>e({method:"GET",url:a?`/personalized/${a}`:"/personalized",params:{limit:t}}),_a=async()=>{const a=fa.radarPlaylist.map((a=>e({method:"GET",url:"/playlist/detail",params:{id:a.id}})));return(await Promise.allSettled(a)).map((e=>e?.value.playlist))},Ta=(a=6)=>e({method:"GET",url:"/top/artists",params:{limit:a}}),ba=(a=0)=>e({method:"GET",url:"/top/song",params:{type:a}}),Sa=()=>e({method:"GET",url:"/album/newest"}),qa=(a="ALL",t=50,l=0)=>e({method:"GET",url:"/album/new",params:{area:a,limit:t,offset:l}}),Da=(a=!1)=>e({method:"GET",url:"/playlist/"+(a?"highquality/tags":"catlist")}),Ca=(a="全部",t=50,l=0,s=!1,o)=>e({method:"GET",url:s?"/top/playlist/highquality":"/top/playlist",params:{cat:a,limit:t,...!s&&{offset:l},...s&&{before:o}}}),La=(a=!0)=>e({method:"GET",url:a?"/toplist/detail":"/toplist"}),Ma=a=>e({method:"GET",url:"/playlist/detail",params:{id:a,timestamp:(new Date).getTime()}}),Pa=(a,t=50,l=0)=>e({method:"GET",url:"/playlist/track/all",params:{id:a,limit:t,offset:l,timestamp:(new Date).getTime()}}),$a=a=>e({method:"GET",url:"/playlist/delete",params:{id:a,timestamp:(new Date).getTime()}}),xa=(a,t,l=null,s=null)=>e({method:"GET",url:"/playlist/update",params:{id:a,name:t,desc:l,tags:s,timestamp:(new Date).getTime()}}),Ia=a=>e({method:"GET",url:"/playlist/privacy",params:{id:a,timestamp:(new Date).getTime()}}),za=(a,t,l="add")=>e({method:"GET",url:"/playlist/tracks",params:{op:l,pid:a,tracks:t,timestamp:(new Date).getTime()}}),Ea=(a,t)=>e({method:"GET",url:"/playlist/subscribe",noCookie:!0,params:{t:a,id:t,timestamp:(new Date).getTime()}}),Ha=(a=30,t=0)=>e({method:"GET",url:"/album/sublist",params:{limit:a,offset:t,timestamp:(new Date).getTime()}}),Va=()=>{const e=(new Date).getHours();let a;return a=e<6?"凌晨好":e<9?"早上好":e<12?"上午好":e<14?"中午好":e<17?"下午好":e<19?"傍晚好":e<22?"晚上好":"夜深了",a},Aa=e=>{const a=Math.floor(e/6e4);let t=Math.floor(e%6e4/1e3);return t<10&&(t=`0${t}`),`${a}:${t}`},Ra=(e,a=!0)=>{const t=new Date(parseInt(e)),l=t.getFullYear(),s=`0${t.getMonth()+1}`.slice(-2),o=`0${t.getDate()}`.slice(-2);return a?`${l}-${s}-${o}`:`${s}-${o}`},ja=e=>`${String(Math.floor(e/60)).padStart(2,"0")}:${String(Math.floor(e%60)).padStart(2,"0")}`,Ua=e=>{const a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999).getTime(),l=new Date(Number(e)),s=l.getHours()<10?`0${l.getHours()}`:l.getHours(),o=l.getMinutes()<10?`0${l.getMinutes()}`:l.getMinutes();if(a-e<=6e4)return"刚刚发布";if(a-e>6e4&&a-e<=36e5){return`${new Date(Number(a-e)).getMinutes()} 分钟前`}return t-e>36e5&&t-e<=864e5?`${s}:${o}`:a.getFullYear()===l.getFullYear()?`${l.getMonth()+1}月${l.getDate()}日 ${s}:${o}`:t-e<=1728e5?`昨天 ${s}:${o}`:`${l.getFullYear()}年${l.getMonth()+1}月${l.getDate()}日 ${s}:${o}`},Oa=e=>{const a=new Date,t=new Date(e),l=a-t,s=Math.floor(l/864e5),o=e=>e<10?`0${e}`:e;return 0===s?"今日":1===s?"昨日":s<=7?`${s}天前`:t.getFullYear()===a.getFullYear()-1?`${t.getFullYear()}-${o(t.getMonth()+1)}`:`${o(t.getMonth()+1)}-${o(t.getDate())}`},Za=(e,a="playlist",t=!1)=>{if(!e)return null;return(Array.isArray(e)?e:[e]).map((e=>{"song"===a&&(e?.songInfo?e=e.songInfo:e?.simpleSong&&(e=e.simpleSong));const l=e&&(e.picUrl||e.coverUrl||e.coverImgUrl||e.imgurl||e.cover||e.album&&e.album.picUrl||e.al&&(e.al.picUrl||e.al.xInfo?.picUrl)),s=Fa(l),o={s:Fa(l,100),m:Fa(l,300),l:Fa(l,1024),xl:Fa(l,1920)};switch(a){case"playlist":return{id:e.id,name:e.name,cover:s,coverSize:o,count:e.trackCount,creator:e.creator||e.updateFrequency,tracks:t?null:e.tracks,playCount:e.playCount,createTime:e.createTime,updateTime:e.updateTime||e.trackNumberUpdateTime,description:e.description,tags:e.tags||e.algTags,userId:e.userId};case"song":return{id:e.id,name:e.name,artists:e.artists||e.ar,album:e.album||e.al,cover:s,coverSize:o,mv:e.mv,alia:e.alia?.[0]||e.alias?.[0]||e.transNames?.[0],fee:e.fee,pc:e.pc,size:e.size,duration:Aa(e.duration||e.dt)};case"artist":return{id:e.id,name:e.name,description:e.briefDesc,cover:s,coverSize:o,alias:e.alias,size:{music:e.musicSize,album:e.albumSize,mv:e.mvSize,fans:e.fansCount}};case"album":return{id:e.id,name:e.name,alia:e.alias?.[0],cover:s,coverSize:o,artists:e.artists,description:e.description,publishTime:e.publishTime,tags:e.tags||e.algTags,count:e.size,share:e.info?.shareCount};case"mv":return{id:e.id||e.vid,name:e.name||e.title,artists:e.artists||e.creator,desc:e.copywriter,cover:s,coverSize:Fa(s,"464y260"),duration:e.duration||e.durationms,playCount:e.playCount||e.playTime};case"dj":return{id:e.mainTrackId||e.id||e.vid,name:e.name,creator:e.dj,count:e.programCount,desc:e.copywriter||e.lastProgramName||e.desc,cover:s,coverSize:o,tags:{id:e.categoryId,name:e.category},rcmdText:e.rcmdtext||e.rcmdText,playCount:e.playCount||e.listenerCount,createTime:e.createTime,updateTime:e.lastProgramCreateTime||e.scheduledPublishTime,duration:Aa(e.duration)};default:return null}}))},Fa=(e,a=null)=>{try{if(!e)return"/images/pic/song.jpg?assest";const t=a?"number"==typeof a?`?param=${a}y${a}`:`?param=${a}`:"",l=e?.replace(/^http:/,"https:");if(l.endsWith(".jpg"))return l+t;if(l.endsWith("&")){return(l+"cl").replace(/(thumbnail=[0-9]+y[0-9]+&cl)/,`thumbnail=${a}y${a}&`)}return l}catch(t){return console.error("图片链接处理出错：",t),"/images/pic/song.jpg?assest"}},Ba=(e,a,t)=>{let l=!1;return(...s)=>{l?t&&$message.warning(t):(l=!0,e.apply(void 0,s),setTimeout((()=>{l=!1}),a))}},Na=t("siteData",{state:()=>({searchHistory:[],userLoginStatus:!1,userData:{userId:null,detail:{},subcount:{}},userLikeData:{songs:[],playlists:[],artists:[],albums:[],mvs:[],djs:[]},dailySongsData:{timestamp:null,data:[]},plCatList:{allCat:[],catList:[],hqCatList:[]}}),getters:{getUserLikePlaylistId(){return va()&&this.userLikeData.playlists?.[0]?.id||null}},actions:{async setDailySongsData(e=!1){try{if(!va())return this.dailySongsData={timestamp:null,data:[]},!1;const a=this.dailySongsData.data,t=this.dailySongsData.timestamp,l=new Date(t);l.setDate(l.getDate()+1),l.setHours(6,0,0,0);const s=new Date(t).getHours(),o=new Date(t).toDateString()===(new Date).toDateString()&&s>=6;if(!e&&a?.[0]&&o&&t<=l.getTime())return!0;{const a=await wa(),t=Za(a.data.dailySongs,"song");this.dailySongsData={timestamp:(new Date).getTime(),data:t},e&&$message.success("日推更新成功")}}catch(a){Ga(a,"每日推荐加载失败")}},async setPlCatList(){if(this.plCatList.catList?.length&&this.plCatList.hqCatList?.length)return!1;try{const[e,a]=await Promise.all([Da(),Da(!0)]);this.plCatList.allCat=e.categories,this.plCatList.catList=e.sub,this.plCatList.hqCatList=a.tags}catch(e){Ga(e,"分类数据加载失败")}},async setUserProfile(){try{if(!va())return!1;const t=await e({method:"GET",url:"/user/account",params:{timestamp:(new Date).getTime()}});this.userData.detail=t,this.userData.userId=t.profile.userId;const l=await(a=this.userData.userId,e({method:"GET",url:"/user/detail",params:{uid:a,timestamp:(new Date).getTime()}}));l&&(this.userData.detail=l),this.userData.subcount=await e({method:"GET",url:"/user/subcount",params:{timestamp:(new Date).getTime()}});const s=[this.setUserLikeSongs(),this.setUserLikePlaylists(),this.setUserLikeArtists(),this.setUserLikeAlbums(),this.setUserLikeMvs(),this.setUserLikeDjs()];await Promise.all(s)}catch(t){Ga(t,"用户信息加载失败")}var a},async setUserLikeSongs(){try{if(!va()||!this.userData.userId)return!1;(a=this.userData.userId,e({method:"GET",url:"/likelist",params:{uid:a,timestamp:(new Date).getTime()}})).then((e=>{this.userLikeData.songs=e.ids}))}catch(t){Ga(t,"用户喜欢歌曲加载失败")}var a},async setUserLikePlaylists(){try{if(!va()||!this.userData.userId)return!1;const{createdPlaylistCount:a,subPlaylistCount:t}=this.userData.subcount,l=a+t;((a,t=30,l=0)=>e({method:"GET",url:"/user/playlist",params:{uid:a,limit:t,offset:l,timestamp:(new Date).getTime()}}))(this.userData.userId,l).then((e=>{this.userLikeData.playlists=Za(e.playlist)}))}catch(a){Ga(a,"用户喜欢歌单加载失败")}},async setUserLikeArtists(){try{if(!va())return!1;e({method:"GET",url:"/artist/sublist",params:{timestamp:(new Date).getTime()}}).then((e=>{this.userLikeData.artists=Za(e.data,"artist")}))}catch(a){Ga(a,"用户喜欢歌手加载失败")}},async setUserLikeAlbums(){try{if(!va())return!1;let e=0,a=null;for(this.userLikeData.albums=[];null===a||e<a;){const t=await Ha(50,e),l=Za(t.data,"album");this.userLikeData.albums=this.userLikeData.albums.concat(l),a=t.count,e+=50}}catch(e){Ga(e,"用户喜欢专辑加载失败")}},async setUserLikeMvs(){try{if(!va())return!1;e({method:"GET",url:"/mv/sublist",params:{timestamp:(new Date).getTime()}}).then((e=>{this.userLikeData.mvs=Za(e.data,"mv")}))}catch(a){Ga(a,"用户喜欢歌手加载失败")}},async setUserLikeDjs(){try{if(!va())return!1;e({method:"GET",url:"/dj/sublist",params:{timestamp:(new Date).getTime()}}).then((e=>{this.userLikeData.djs=Za(e.djRadios,"dj")}))}catch(a){Ga(a,"用户喜欢电台加载失败")}},getSongIsLike(e){return this.userLikeData.songs.includes(e)},async changeLikeList(e,a=!0,t=!1){Ya(e,a,t,this)}},persist:[{key:"siteData",storage:localStorage}]}),Ga=(e,a,t=!0)=>{console.error(a,e),t&&"undefined"!=typeof $message&&$message.error(a)},Ya=Ba((async(a,t,l,s)=>{try{if(!va())return $message.warning("请登录后使用"),"undefined"!=typeof $changeLogin&&$changeLogin(),!1;if(l)return $message.warning("本地歌曲暂不支持该操作");const o=s.userLikeData.songs,r=o.includes(a),n=await((a,t=!0)=>e({method:"GET",url:"/like",params:{id:a,like:t,timestamp:(new Date).getTime()}}))(a,t);200===n.code?t&&!r?o.push(a):!t&&r?o.splice(o.indexOf(a),1):t&&r&&$message.info("我喜欢的音乐中已存在该歌曲"):$message.error(t?"喜欢音乐时发生错误":"取消喜欢音乐时发生错误")}catch(o){console.error("歌曲喜欢操作失败：",o),$message.error("歌曲喜欢失败，请重试")}}),2e3,"请稍后再操作"),Wa=t("siteStatus",{state:()=>({asideMenuCollapsed:!1,searchInputFocus:!1,showPlayBar:!0,playState:!1,playLoading:!1,playUseOtherSource:!1,playListShow:!1,showFullPlayer:!1,playerControlShow:!0,controlTimeOut:null,playSeek:0,hasNextSong:!1,coverTheme:{},coverBackground:null,pureLyricMode:!1,spectrumsData:[],playSongLyricIndex:-1,playTimeData:{currentTime:0,duration:0,bar:0,played:"00:00",durationTime:"00:00"},playRate:1,playVolume:.7,playVolumeMute:0,playIndex:0,playMode:"normal",playSongMode:"normal",playHeartbeatMode:!1}),getters:{},actions:{},persist:[{key:"siteStatus",storage:localStorage,paths:["asideMenuCollapsed","pureLyricMode","playRate","playVolume","playVolumeMute","playIndex","playMode","playSongMode","playHeartbeatMode","playTimeData"]}]}),Qa=t("siteSettings",{state:()=>({closeTip:!0,closeType:"hide",showTaskbarProgress:!1,showSearchHistory:!0,autoSignIn:!0,showGithub:!0,showSider:!0,siderShowCover:!1,autoCheckUpdates:!0,themeType:"dark",themeAuto:!1,themeTypeName:"red",themeTypeData:{},themeAutoCover:!0,themeAutoCoverType:"secondary",playCoverType:"cover",songLevel:"exhigh",autoPlay:!1,songVolumeFade:!0,useUnmServer:!0,countDownShow:!0,bottomLyricShow:!0,playerBackgroundType:"blur",memorySeek:!0,playSearch:!1,showPlaylistCount:!0,showSpectrums:!1,useMusicCache:!1,loadSize:50,lrcMousePause:!1,lyricsFontSize:46,lyricsBlur:!1,showYrc:!0,showYrcAnimation:!0,lyricsPosition:"left",lyricsBlock:"start",showTransl:!0,showRoma:!0,downloadPath:null,downloadMeta:!0,downloadCover:!0,downloadLyrics:!0}),getters:{},actions:{setThemeType(e){this.themeType=e,this.themeAuto=!1,$message.info(`已切换至${"light"===e?"浅色":"深色"}模式`,{showIcon:!1})}},persist:[{key:"siteSettings",storage:localStorage}]}),Ja=a=>{const t=(new Date).getTime();return e({method:"POST",url:`/song/detail?timestamp=${t}`,data:{ids:a}})},Ka=a=>e({method:"GET",url:"/lyric/new",params:{id:a}}),Xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let jo=0;jo<64;jo++)et[Xa.charCodeAt(jo)]=jo;const at=([e,a,t])=>{e/=255,a/=255,t/=255;const l=Math.max(e,a,t),s=Math.min(e,a,t);let o,r,n=(l+s)/2;if(l===s)o=r=0;else{const i=l-s;switch(r=n>.5?i/(2-l-s):i/(l+s),l){case e:o=(a-t)/i+(a<t?6:0);break;case a:o=(t-e)/i+2;break;case t:o=(e-a)/i+4}o/=6}return[o,r,n]},tt=e=>{let[a,t,l]=e.map((e=>e/255));return[a,t,l]=[a,t,l].map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))),.2126*a+.7152*t+.0722*l},lt=e=>{if(!e)return[0,0,0];let[a,t,l]=e.map((e=>e/255));[a,t,l]=[a,t,l].map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))),[a,t,l]=[a,t,l].map((e=>100*e));const s=.4124*a+.3576*t+.1805*l,o=.2126*a+.7152*t+.0722*l,r=.0193*a+.1192*t+.9505*l,n=e=>e>.008856?Math.pow(e,1/3):7.787*e+16/116;return[116*n(o/100)-16,500*(n(s/95.047)-n(o/100)),200*(n(o/100)-n(r/108.883))]},st=(e,a)=>{const[t,l,s]=lt(e),[o,r,n]=lt(a),i=t-o,c=l-r,u=s-n;return Math.sqrt(i*i+c*c+u*u)},ot=e=>[e>>16&255,e>>8&255,255&e],rt=(e,a,t)=>255<<24|e<<16|a<<8|t,nt=e=>new Promise(((a,t)=>{try{const t=new l,s=new Image;s.crossOrigin="Anonymous",s.src=e,s.onload=async()=>{const e=(e=>{e=(e=(e=(e=e.sort(((e,a)=>tt(e)-tt(a)))).slice(e.length/2-4,e.length/2+4)).sort(((e,a)=>at(a)[1]-at(e)[1]))).slice(0,6);let a=new Array(6);for(let i=0;i<a.length;i++)a[i]=new Array(6).fill(0);for(let i=0;i<e.length;i++)for(let t=i+1;t<e.length;t++)a[i][t]=st(e[i],e[t]),a[t][i]=a[i][t];let t=new Array(6).fill(!1),l=1e7,s=[];const o=(e,r=[],n=-1)=>{if(6!==e)for(let l=0;l<6;l++)t[l]||(t[l]=!0,o(e+1,r.concat(l),Math.max(n,a[r[e-1]][l])),t[l]=!1);else n<l&&(l=n,s=r)};for(let i=0;i<6;i++)t[i]=!0,o(1,[i]),t[i]=!1;let r=[];for(let i of s)r.push(e[i]);let n="linear-gradient(-45deg,";for(let i=0;i<r.length;i++)n+=`rgb(${r[i][0]}, ${r[i][1]}, ${r[i][2]})`,i!==r.length-1&&(n+=",");return n+=")",n})(await t.getPalette(s));it(s),a(e)}}catch(s){console.error("图片渐变色生成失败：",s),t("linear-gradient(-45deg, #666, #fff)")}})),it=e=>{const a=Gt(),t=Yt(),l=document.createElement("canvas");l.width=50,l.height=50;const i=l.getContext("2d");i.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,50,50);const c=(u=i.getImageData(0,0,50,50).data,d=4,u.reduce(((e,a,t)=>t%d==0?[...e,[a]]:[...e.slice(0,-1),[...e.slice(-1)[0],a]]),[])).map((e=>(e[3]<<24>>>0|e[0]<<16>>>0|e[1]<<8>>>0|e[2])>>>0));var u,d;const m=s.quantize(c,128),p=Array.from(m).sort(((e,a)=>a[1]-e[1]));if(p.slice(0,5).map((e=>ot(e[0]))).every((e=>Math.max(...e)-Math.min(...e)<5)))return ct(),!0;const h=o.score(new Map(p.slice(0,50)))[0],y=r(h),v=t.themeAutoCoverType;a.coverTheme={dark:{dark:ut(y.schemes.dark[v]),primary:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,100).toInt()),shade:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,25).toInt()),shadeTwo:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,15).toInt()),bg:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,90).toInt()),mainBg:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,10).toInt())},light:{light:ut(y.schemes.light[v]),primary:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,20).toInt()),shade:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,80).toInt()),shadeTwo:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,90).toInt()),bg:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,20).toInt()),mainBg:ut(n.from(y.palettes[v].hue,y.palettes[v].chroma,100).toInt())}},"undefined"!=typeof $changeThemeColor&&t.themeAutoCover&&$changeThemeColor(a.coverTheme,t.themeAutoCover)},ct=()=>{Gt().coverTheme={dark:{dark:ut(rt(120,120,120)),primary:ut(rt(250,250,250)),shade:ut(rt(40,40,40)),shadeTwo:ut(rt(20,20,20)),bg:ut(rt(190,190,190)),mainBg:ut(rt(16,16,20))},light:{light:ut(rt(150,150,150)),primary:ut(rt(10,10,10)),shade:ut(rt(210,210,210)),shadeTwo:ut(rt(255,255,255)),bg:ut(rt(24,24,28)),mainBg:ut(rt(11,11,11))}}},ut=e=>{const[a,t,l]=[...ot(e)];return`${a}, ${t}, ${l}`},dt=(e,a,t)=>{const l=e,s=a;return l[0]&&s[0]&&l.forEach((e=>{s.forEach((a=>{(Number(e.time)===Number(a.time)||Math.abs(Number(e.time)-Number(a.time))<.6)&&(e[t]=a.content)}))})),l},mt=(e,a=!0)=>{if(!e)return[];try{const t=/^\[([^\]]+)\]\s*(.+?)\s*$/,l=e.split("\n").filter((e=>t.test(e))).map((e=>{const[,l,s]=e.match(t),o=l.split(":"),r=60*Number(o[0])+Number(o[1])+(o.length>2?Number(o[2])/1e3:0);return{time:Number(r.toFixed(2)),content:a?s.trim():s}})).filter((e=>e&&""!==e.content.trim()));return l.length&&/纯音乐，请欣赏/.test(l[0].content)?[]:l}catch(t){return console.error("普通歌词处理出错："+t),[]}},pt=e=>{if(!e)return[];try{return e.split("\n").map((e=>{const a=/\[(\d+),(\d+)\]/,t=e.match(a);if(!t)return null;const[l,s,o]=t;if(isNaN(s)||isNaN(o))return null;const r=e.replace(a,"");if(!r)return null;const n=r.split(/(\([1-9]\d*,[1-9]\d*,\d*\)[^(]*)/g).filter((e=>e.trim())).map((e=>{const a=/\((\d+),(\d+),(\d+)\)/,t=e.match(a);if(!t)return null;const[l,s,o]=t,r=e.replace(a,"").replace(/\(\d+,\d+,\d+\)/g,"");return r&&r.trim()?{time:Number(s)/1e3,duration:Number(o)/1e3,content:r.trim(),endsWithSpace:r.endsWith(" ")}:null})).filter((e=>e));return{time:Number(s)/1e3,endTime:Number(o)/1e3,content:n}})).filter((e=>e))}catch(a){return console.error("逐字歌词处理出错："+a),[]}};let ht,yt,vt,gt,ft=0,wt=!0,kt={audio:null,analyser:null,audioCtx:null},_t=document.title;const Tt=async(e=!1)=>{try{xt();const a=Wt(),t=Gt(),l=Yt(),{playIndex:s,playMode:o}=t,{playList:r}=a,n=a.getPlaySongData,i=!!n?.path;i&&(a.playSongData.localCover=await ua(n?.path));const c=i?a.playSongData?.localCover:n?.coverSize;if(t.playSongLyricIndex=-1,"fm"===o&&(a.playSongData={}),i){if(i&&r?.length){const a=r[s]?.path;e&&a&&(t.playState=!0),a?qt(a):Dt("next",e)}}else{const{id:a}=n;if(!a)return!1;t.playLoading=!0;const i=await bt(a,t,e);if(i)t.playUseOtherSource=!1,qt(i);else if(ia.electron()&&"dj"!==o&&l.useUnmServer){const a=await St(n,t,e);a?(t.playUseOtherSource=!0,qt(a)):(wt=!0,t.playUseOtherSource=!1,s===r.length-1?(t.playState=!1,$message.warning("当前列表歌曲无法播放，请更换歌曲")):($message.error("该歌曲暂无音源，跳至下一首"),Dt("next",!0)))}else s!==r.length-1?Dt():(t.playLoading=!1,t.playState=!1,$message.warning("列表中暂无可播放歌曲",{closable:!0,duration:5e3}))}"dj"!==o&&Et(i,n),Ht(n,c,i,"dj"===o),Vt(i,c)}catch(a){if(ft++,ft>10)return $dialog.error({title:"致命性错误",content:"歌曲播放中出现错误次数过多，请刷新后重试",positiveText:"刷新",onPositiveClick:()=>{location.reload()}}),!1;console.error("初始化音乐播放器出错：",a),$message.error("初始化音乐播放器出错")}},bt=async(a,t,l)=>{try{const s=Yt(),o=await((a,t="standard")=>e({method:"GET",url:"/song/url/v1",params:{id:a,level:t,timestamp:(new Date).getTime()}}))(a,s.songLevel);if(!o.data?.[0]||!o.data?.[0]?.url)return null;if(null!==o.data?.[0]?.freeTrialInfo&&ia.electron())return null;const r=o.data[0].url.replace(/^http:/,"https:");return l&&r&&(t.playState=!0),r}catch(s){throw t.playLoading=!1,console.error("获取歌曲地址遇到错误："+s),s}},St=async(e,a,t)=>{try{console.info("🎵 开始解灰：",e);let l=await electron.ipcRenderer.invoke("getMusicNumUrl",JSON.stringify(e));if(!l)return a.playLoading=!1,null;if(l.includes("bilivideo.com")){const e=(e=>{let a,t,l,s,o,r=.75*e.length,n=e.length,i=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);const c=new ArrayBuffer(r),u=new Uint8Array(c);for(a=0;a<n;a+=4)t=et[e.charCodeAt(a)],l=et[e.charCodeAt(a+1)],s=et[e.charCodeAt(a+2)],o=et[e.charCodeAt(a+3)],u[i++]=t<<2|l>>4,u[i++]=(15&l)<<4|s>>2,u[i++]=(3&s)<<6|63&o;return c})(await electron.ipcRenderer.invoke("getBiliUrlData",l)),a=URL.createObjectURL(new Blob([e]));l&&URL.revokeObjectURL(l),l=a}return t&&(a.playState=!0),a.playLoading=!1,l}catch(l){throw a.playLoading=!1,console.error("歌曲解灰遇到错误："+l.message),$message.error("歌曲解灰遇到错误"),l}},qt=async(a,t=!0)=>{try{const l=Wt(),s=Gt(),o=Yt(),{playMode:r}=s,{playSongSource:n,playList:c}=l,{showSpectrums:u,memorySeek:d,useMusicCache:m}=o,p=l.getPlaySongData,h=m&&"dj"!==r&&!p.pc?await(async e=>{try{if(oa&&URL.revokeObjectURL(oa),!e.startsWith("http://")&&!e.startsWith("https://")&&!e.startsWith("blob:"))return e;const a=await fetch(e);if(!a.ok)throw new Error("获取音频资源失败：",a.statusText);const t=await a.blob();return oa=URL.createObjectURL(t),oa}catch(a){throw console.error("获取 Blob 链接遇到错误："+a),a}})(a):a;ht&&xt(),ht=new i.Howl({src:[h],format:["mp3","flac","dolby","webm"],html5:!0,preload:"metadata",volume:s.playVolume,rate:s.playRate});return ht._sounds[0]._node.crossOrigin="anonymous",l.setPlayHistory(p),u&&ia.electron()&&At(ht),ht?.once("load",(()=>{console.info("🎵 加载完成",ht,s.playState),t&&s.playState&&(zt(),Lt("play")),d&&s.playTimeData?.duration-s.playTimeData?.currentTime>2?zt(s.playTimeData?.currentTime??0):(zt(),s.playTimeData.bar="0"),s.playLoading=!1,ia.electron()&&electron.ipcRenderer.send("songNameChange",jt()),va()&&!p?.path&&(clearTimeout(gt),gt=setTimeout((async()=>{const a=await((a,t=0,l=0)=>e({method:"GET",url:"/scrobble",params:{id:a,sourceid:t,time:l,timestamp:(new Date).getTime()}}))(p.id,n,5);a.code}),5e3))})),ht?.on("play",(()=>{console.info("🎵 开始播放：",p),wt=!1,Zt(),s.playState=!0,ia.electron()&&electron.ipcRenderer.send("songStateChange",!0),ia.electron()||(document.title=jt())})),ht?.on("pause",(()=>{console.info("⏸ 暂停播放"),Ot(),s.playState=!1,ia.electron()&&electron.ipcRenderer.send("songStateChange",!1),ia.electron()||(document.title=_t||"SPlayer")})),ht?.on("end",(()=>{console.info("🎵 播放结束"),wt=!0,Ot(),Dt(),ia.electron()&&electron.ipcRenderer.send("songStateChange",!1)})),ht?.on("loaderror",((e,a)=>{switch(s.playLoading=!1,a){case 1:$message.error("播放出错，用户代理中止了获取媒体");break;case 2:$message.error("播放出错，未知的网络错误");break;case 3:$message.error("播放出错，媒体进行解码时发生错误");break;case 4:$message.error("播放出错，不支持的音频格式或媒体资源不合适");break;default:$message.error("播放遇到未知错误")}c.length>1?Dt():s.playState=!1})),window.$player=ht}catch(l){throw console.error("播放遇到错误："+l),$message.error("播放遇到错误，请重试"),l}},Dt=async(e="next",a=!1)=>{const t=Wt(),l=Gt(),{playList:s}=t,{playSongMode:o,playMode:r,playHeartbeatMode:n}=l;if(Ot(),l.playSongLyricIndex=-1,"fm"===r)return await t.setPersonalFm(!0),wt||Lt("pause"),Tt(a),!0;const i=s?.length||0;if(l.hasNextSong?(l.playIndex+="next"===e?1:-1,l.hasNextSong=!1):"normal"===o||n?l.playIndex+="next"===e?1:-1:"random"===o?l.playIndex=Math.floor(Math.random()*i):"repeat"===o&&(zt(),Lt("play")),"repeat"!==o){l.playIndex<0?l.playIndex=i-1:l.playIndex>=i&&(l.playIndex=0);const e=s?.[l.playIndex];e?(t.playSongData=e,wt||Lt("pause"),Tt(a)):($message.error("歌曲信息读取错误，跳至下一曲"),Dt("next",a))}},Ct=(e,a=!1)=>{try{const t=Wt(),l=Gt();l.hasNextSong=!0;const s=t.playList.findIndex((a=>a.id===e.id));if(-1!==s){const e=l.playIndex,o=e+1;s!==e&&o<t.playList.length&&t.playList.splice(o,0,t.playList.splice(s,1)[0]),a&&(l.playIndex=o)}else t.playList.splice(l.playIndex+1,0,e),a&&l.playIndex++;a?Lt("play"):$message.success("已添加至下一首播放")}catch(t){console.error("添加播放歌曲失败：",t)}},Lt=(e="play")=>{const a=Gt(),t=Yt().songVolumeFade?300:0;if("play"===e){if(ht?.playing())return;ht?.play(),Zt(),ht?.once("play",(()=>{ht?.fade(0,a.playVolume,t)}))}else"pause"===e&&(ht?.fade(a.playVolume,0,t),ht?.once("fade",(()=>{ht?.pause(),Ot()})))},Mt=async()=>{const e=ht?.playing();Lt(e?"pause":"play")},Pt=e=>{ht?.rate(Number(e))},$t=e=>{ht?.volume(Number(e))},xt=()=>{i.Howler.unload()},It=()=>{const e=Gt();e.playVolume>0?(e.playVolumeMute=e.playVolume,e.playVolume=0):e.playVolume=e.playVolumeMute,ht?.volume(e.playVolume)},zt=(e=0)=>{ht?.seek(e)},Et=async(e,a)=>{if(!a?.id)return!1;try{const t=Wt(),l=()=>{t.playSongLyric={hasLrcTran:!1,hasLrcRoma:!1,hasYrc:!1,hasYrcTran:!1,hasYrcRoma:!1,lrc:[],yrc:[]}};if(e){const e=await electron.ipcRenderer.invoke("getMusicLyric",a?.path);if(e){const a=(e=>{try{const a=mt(e),t=[],l={hasLrcTran:!1,hasLrcRoma:!1,hasYrc:!1,hasYrcTran:!1,hasYrcRoma:!1,lrc:[],yrc:[]};for(let e=0;e<a.length;e++){let s=a[e],o=t.find((e=>Number(e.time)===Number(s.time)));o?(l.hasLrcTran=!0,o.tran=s.content):t.push({time:s.time,content:s.content})}return l.lrc=t,l}catch(a){return console.error("解析本地歌词时出现错误：",a),!1}})(e);t.playSongLyric=a?t.playSongLyric=a:l()}else l()}else{const e=await Ka(a?.id),s=e?.lrc;if(s){const a=(e=>{try{const a=e=>!!e&&!!e.lyric,{lrc:t,tlyric:l,romalrc:s,yrc:o,ytlrc:r,yromalrc:n}=e,i={lrc:t?.lyric||null,tlyric:l?.lyric||null,romalrc:s?.lyric||null,yrc:o?.lyric||null,ytlrc:r?.lyric||null,yromalrc:n?.lyric||null},c={hasLrcTran:a(l),hasLrcRoma:a(s),hasYrc:a(o),hasYrcTran:a(r),hasYrcRoma:a(n),lrc:[],yrc:[]};return i.lrc&&(c.lrc=mt(i.lrc),c.lrc=i.tlyric?dt(c.lrc,mt(i.tlyric),"tran"):c.lrc,c.lrc=i.romalrc?dt(c.lrc,mt(i.romalrc),"roma"):c.lrc),i.yrc&&(c.yrc=pt(i.yrc),c.yrc=i.ytlrc?dt(c.yrc,mt(i.ytlrc),"tran"):c.yrc,c.yrc=i.yromalrc?dt(c.yrc,mt(i.yromalrc,!1),"roma"):c.yrc),c}catch(a){return console.error("解析歌词时出现错误：",a),!1}})(e);a?t.playSongLyric=a:l()}else l()}}catch(t){$message.error("歌词处理出错"),console.error("歌词处理出错：",t)}},Ht=async(e,a,t,l)=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.name,artist:l?"电台节目":t?e.artists:e.artists?.map((e=>e.name))?.join(" & "),album:l?"电台节目":t?e.album:e.album.name,artwork:t?[{src:a,sizes:"1024x1024"}]:[{src:a?.s,sizes:"100x100"},{src:a?.m,sizes:"300x300"},{src:a?.l,sizes:"1024x1024"}],length:e?.duration}),navigator.mediaSession.setActionHandler("play",(async()=>{Lt("play")})),navigator.mediaSession.setActionHandler("pause",(async()=>{Lt("pause")})),navigator.mediaSession.setActionHandler("previoustrack",(()=>{Dt("prev",!0)})),navigator.mediaSession.setActionHandler("nexttrack",(()=>{Dt("next",!0)})))},Vt=async(e,a)=>{const t=Gt();try{if(!a)return t.coverTheme={};const l=e?a:a.s,s=await nt(l);t.coverBackground=s}catch(l){console.error("封面颜色获取失败：",l),t.coverTheme={}}},At=e=>{try{if(!kt.audioCtx){kt.audio?.disconnect(),kt.analyser?.disconnect(),kt.audioCtx?.close(),kt.audioCtx=new(window.AudioContext||window.webkitAudioContext);const a=e._sounds[0]._node;a.crossOrigin="anonymous";const t=kt.audioCtx.createMediaElementSource(a),l=kt.audioCtx.createAnalyser();l.fftSize=1024,t.connect(l),l.connect(kt.audioCtx.destination);const s=new Uint8Array(l.frequencyBinCount);Rt(l,s),kt.audio=t,kt.analyser=l}}catch(a){console.error("音乐频谱生成失败："+a)}},Rt=(e,a)=>{const t=Gt();e.getByteFrequencyData(a),t.spectrumsData=[...a],requestAnimationFrame((()=>{Rt(e,a)}))},jt=()=>{const e=Gt(),a=Wt().getPlaySongData;return(a.name||"未知曲目")+" - "+("dj"===e.playMode?"电台节目":Array.isArray(a.artists)?a.artists.map((e=>e.name)).join(" / "):a.artists||"未知歌手")},Ut=async(e,a="normal")=>{try{const t=Wt(),l=Gt();if(!e)return!1;l.playHeartbeatMode=!1,l.playMode=a,t.playList=e.slice();const s=t.getPlaySongData?.id,o=e.findIndex((e=>e.id===s));-1!==o&&s?(t.playSongData=e[o],l.playIndex=o,Lt()):(t.playSongData=e[0],l.playIndex=0,await Tt(!0)),t.getPlaySongData?.path&&(t.playSongData.localCover=await ua(t.getPlaySongData?.path)),$message.info("已开始播放",{showIcon:!1})}catch(t){console.error("播放全部歌曲出错：",t),$message.error("播放全部歌曲出现错误")}},Ot=()=>{clearInterval(yt),clearInterval(vt),yt=null,vt=null},Zt=()=>{Ot(),yt=setInterval((()=>(()=>{if(ht?.playing()){const e=Wt(),a=Gt(),t=Yt(),l=ht?.seek(),s=ht?._duration,o=s?(l/s*100).toFixed(2):0,r=ja(l),n=ja(s),i=e.playSongLyric.hasYrc&&t.showYrc?e.playSongLyric.yrc:e.playSongLyric.lrc,c=i?.findIndex((e=>e?.time>=l));a.playTimeData={currentTime:l,duration:s,bar:o,played:r,durationTime:n},a.playSongLyricIndex=-1===c?i.length-1:c-1,ia.electron()&&t.showTaskbarProgress&&electron.ipcRenderer.send("setProgressBar",o)}})()),250),vt=setInterval((()=>(()=>{if(ht?.playing()){const e=Gt(),a=ht?.seek()||0;e.playSeek=a}})()),17)},Ft=t("musicData",{state:()=>({playList:[],playListOld:[],historyPlaylist:[],playSongData:{},playSongSource:0,playSongLyric:{hasLrcTran:!1,hasLrcRoma:!1,hasYrc:!1,hasYrcTran:!1,hasYrcRoma:!1,lrc:[],yrc:[]},localSongPath:[],privateFmIndex:0,privateFmData:[],privateFmSong:{}}),getters:{getPlaySongData:e=>"fm"===Gt().playMode&&e.privateFmSong?e.privateFmSong:e.playSongData},actions:{setPlayHistory(e,a=!1){if(a)this.historyPlaylist=[];else{const a=this.historyPlaylist.findIndex((a=>a?.id===e?.id));if(-1!==a&&this.historyPlaylist.splice(a,1),e&&Object.keys(e).length>0)if(0===this.historyPlaylist.length)this.historyPlaylist.push(e);else{-1===this.historyPlaylist.findIndex((a=>a?.id===e?.id))&&(this.historyPlaylist.unshift(e),this.historyPlaylist.length>500&&this.historyPlaylist.pop())}}},async setPersonalFm(a=!1){try{const t=Gt(),l=async()=>{const a=await e({method:"GET",url:"/personal_fm",params:{timestamp:(new Date).getTime()}});this.privateFmData=Za(a.data,"song")};this.privateFmData?.length||await l(),0!==Object.keys(this.privateFmSong).length&&-1!==this.privateFmIndex||(this.privateFmSong=this.privateFmData[0]),a&&(t.playMode="fm",this.privateFmIndex++,this.privateFmIndex<this.privateFmData.length?this.privateFmSong=this.privateFmData[this.privateFmIndex]:(this.privateFmIndex=0,await l(),this.privateFmSong=this.privateFmData[0]))}catch(t){this.privateFmSong={},console.error("私人FM加载失败：",t),$message.error("私人FM出现错误，请重试")}},async setPersonalFmToTrash(a){try{if(!va())return $message.warning("请登录后使用");const t=Gt(),l=await(a=>e({method:"GET",url:"/fm_trash",params:{id:a,timestamp:(new Date).getTime()}}))(a);200===l.code&&($message.success("已移至垃圾桶"),t.playMode="fm",Dt("next",!0))}catch(t){console.error("移至垃圾桶失败：",t),$message.error("移至垃圾桶失败，请重试")}}},persist:[{key:"musicData",storage:localStorage}]}),Bt=t("indexedDB",{state:()=>({filesDB:c.createInstance({name:"filesDB"}),usersDB:c.createInstance({name:"usersDB"})}),getters:{},actions:{async setfilesDB(e,a){try{await this.filesDB.setItem(e,a)}catch(t){throw console.error("Error setting data in IndexedDB:",t),t}},async getfilesDB(e){try{return await this.filesDB.getItem(e)}catch(a){throw console.error("Error retrieving data from IndexedDB:",a),a}}}}),Nt=()=>Na(),Gt=()=>Wa(),Yt=()=>Qa(),Wt=()=>Ft(),Qt=()=>Bt(),Jt={red:{name:"欢快派对",label:"red",primaryColor:"#fe7971",primaryColorHover:"#F57B74",primaryColorSuppl:"#F57B74",primaryColorPressed:"#F64B41"},orange:{name:"柑橘桔梦",label:"orange",primaryColor:"#ff8c00",primaryColorHover:"#ffa033",primaryColorSuppl:"#ffa033",primaryColorPressed:"#ff6b00"},blue:{name:"深海蓝梦",label:"blue",primaryColor:"#3b5998",primaryColorHover:"#5475a3",primaryColorSuppl:"#8b9dc3",primaryColorPressed:"#2d4373"},pink:{name:"粉色梦幻",label:"pink",primaryColor:"#e91e63",primaryColorHover:"#f06292",primaryColorSuppl:"#f06292",primaryColorPressed:"#c2185b"},brown:{name:"深棕林荫",label:"brown",primaryColor:"#795548",primaryColorHover:"#8d6e63",primaryColorSuppl:"#8d6e63",primaryColorPressed:"#5d4037"},indigo:{name:"星空靛蓝",label:"indigo",primaryColor:"#3f51b5",primaryColorHover:"#5c6bc0",primaryColorSuppl:"#5c6bc0",primaryColorPressed:"#3949ab"},green:{name:"生命绿洲",label:"green",primaryColor:"#2ecc71",primaryColorHover:"#3ddc88",primaryColorSuppl:"#3ddc88",primaryColorPressed:"#27ae60"},purple:{name:"皇室紫梦",label:"purple",primaryColor:"#9c27b0",primaryColorHover:"#ba68c8",primaryColorSuppl:"#ba68c8",primaryColorPressed:"#7b1fa2"},yellow:{name:"金色阳光",label:"yellow",primaryColor:"#FBC02D",primaryColorHover:"#FFD54F",primaryColorSuppl:"#FFD54F",primaryColorPressed:"#FFC107"},teal:{name:"海洋碧绿",label:"teal",primaryColor:"#009688",primaryColorHover:"#26a69a",primaryColorSuppl:"#26a69a",primaryColorPressed:"#00796b"}},Kt={__name:"Provider",setup(e){const a=Gt(),t=Yt(),l=u(),{coverTheme:s}=d(a),{themeType:o,themeAuto:r,themeTypeName:n,themeTypeData:i,themeAutoCover:c}=d(t),V=m(null),A=m("dark"===o.value?p:null),R={xs:320,s:540,sm:780,m:1024,l:1280,xl:1536},j=()=>{const e=document.querySelector('meta[name="theme-color"]');"light"===o.value?(A.value=null,e.setAttribute("content","#ffffff")):"dark"===o.value&&(A.value=p,e.setAttribute("content","#18181c"))},U=(e,a=!1)=>{try{const t=a&&Object.keys(e)?.length?e[o.value]:"custom"!==e?Jt[e]:i.value,l=a?`rgb(${t.bg})`:t.primaryColor,s=a?`rgba(${t.bg}, 0.29)`:l+"29",r=a?`rgba(${t.bg}, 0.26)`:l+"26",n=a?`rgba(${t.bg}, 0.05)`:l+"05",c=a?"dark"===o.value?e.light.bg:"250, 250, 252":null;V.value={common:a&&Object.keys(e)?.length?"dark"===o.value?{primaryColor:l,primaryColorHover:s,primaryColorPressed:r,primaryColorSuppl:n,textColor1:`rgba(${t.bg}, 0.9)`,textColor2:`rgba(${t.bg}, 0.82)`,textColor3:`rgba(${t.bg}, 0.52)`,bodyColor:`rgb(${e.dark.mainBg})`,cardColor:`rgb(${c})`,tagColor:`rgb(${c})`,modalColor:`rgb(${c})`,popoverColor:`rgb(${c})`}:{primaryColor:l,primaryColorHover:s,primaryColorPressed:r,primaryColorSuppl:n}:t,Icon:{color:a?l:null}},a||(i.value=t),O("--main-color",l),O("--main-second-color",s),O("--main-boxshadow-color",r),O("--main-boxshadow-hover-color",n)}catch(t){V.value={},console.error("切换主题色出现错误：",t),$message.error("切换主题色出现错误，已使用默认配置")}},O=(e,a)=>{document.body.style.setProperty(e,a)},Z=q({setup(){window.$loadingBar=I(),window.$notification=z(),window.$message=E(),window.$dialog=H()},render:()=>D("div",{className:"main-tools"})});return h((()=>o.value),(()=>{j(),U(c.value&&Object.keys(s.value)?.length?s.value:n.value,c.value&&Object.keys(s.value)?.length)})),h((()=>l.value),(e=>{r.value&&(o.value="dark"===e?"dark":"light")})),h((()=>n.value),(e=>U(e))),h((()=>i.value),(e=>U(e.label))),h((()=>s.value),(e=>{c.value&&U(e,c.value)})),y((()=>{j(),U(n.value)})),v((()=>{window.$changeThemeColor=U})),(e,a)=>{const t=C,l=L,s=M,o=P,r=$,n=x;return g(),f(n,{locale:T(b),"date-locale":T(S),breakpoints:R,theme:T(A),"theme-overrides":T(V),abstract:"","inline-theme-disabled":""},{default:w((()=>[k(t),k(r,null,{default:w((()=>[k(o,null,{default:w((()=>[k(s,null,{default:w((()=>[k(l,{max:1,placement:"bottom"},{default:w((()=>[_(e.$slots,"default"),k(T(Z))])),_:3})])),_:3})])),_:3})])),_:3})])),_:3},8,["locale","date-locale","theme","theme-overrides"])}}},Xt={album:"M12 11a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1m0 5.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5s4.5 2 4.5 4.5s-2 4.5-4.5 4.5M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z","chevron-up":"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6l1.41 1.41Z","chevron-down":"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z",play:"M9.525 18.025q-.5.325-1.012.038T8 17.175V6.825q0-.6.513-.888t1.012.038l8.15 5.175q.45.3.45.85t-.45.85l-8.15 5.175Z","play-circle":"M10 16.5v-9l6 4.5M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z","pause-circle":"M15 16h-2V8h2m-4 8H9V8h2m1-6A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2","play-next":"m10 16.5l6-4.5l-6-4.5M22 12c0-5.54-4.46-10-10-10c-1.17 0-2.3.19-3.38.56l.7 1.94c.85-.34 1.74-.53 2.68-.53c4.41 0 8.03 3.62 8.03 8.03c0 4.41-3.62 8.03-8.03 8.03c-4.41 0-8.03-3.62-8.03-8.03c0-.94.19-1.88.53-2.72l-1.94-.66C2.19 9.7 2 10.83 2 12c0 5.54 4.46 10 10 10s10-4.46 10-10M5.47 3.97c.85 0 1.53.71 1.53 1.5C7 6.32 6.32 7 5.47 7c-.79 0-1.5-.68-1.5-1.53c0-.79.71-1.5 1.5-1.5Z","playlist-add":"M4 16q-.425 0-.713-.288T3 15q0-.425.288-.713T4 14h5q.425 0 .713.288T10 15q0 .425-.288.713T9 16H4Zm0-4q-.425 0-.713-.288T3 11q0-.425.288-.713T4 10h9q.425 0 .713.288T14 11q0 .425-.288.713T13 12H4Zm0-4q-.425 0-.713-.288T3 7q0-.425.288-.713T4 6h9q.425 0 .713.288T14 7q0 .425-.288.713T13 8H4Zm13 12q-.425 0-.713-.288T16 19v-3h-3q-.425 0-.713-.288T12 15q0-.425.288-.713T13 14h3v-3q0-.425.288-.713T17 10q.425 0 .713.288T18 11v3h3q.425 0 .713.288T22 15q0 .425-.288.713T21 16h-3v3q0 .425-.288.713T17 20Z","account-music":"M11 14c1 0 2.05.16 3.2.44c-.81.87-1.2 1.89-1.2 3.06c0 .89.25 1.73.78 2.5H3v-2c0-1.19.91-2.15 2.74-2.88C7.57 14.38 9.33 14 11 14m0-2c-1.08 0-2-.39-2.82-1.17C7.38 10.05 7 9.11 7 8c0-1.08.38-2 1.18-2.82C9 4.38 9.92 4 11 4c1.11 0 2.05.38 2.83 1.18C14.61 6 15 6.92 15 8c0 1.11-.39 2.05-1.17 2.83c-.78.78-1.72 1.17-2.83 1.17m7.5-2H22v2h-2v5.5a2.5 2.5 0 0 1-2.5 2.5a2.5 2.5 0 0 1-2.5-2.5a2.5 2.5 0 0 1 2.5-2.5c.36 0 .69.07 1 .21V10Z","music-note":"M12 3v10.55c-.59-.34-1.27-.55-2-.55c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4V7h4V3h-6Z","calendar-blank":"M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1",clock:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m4.2 14.2L11 13V7h1.5v5.2l4.5 2.7l-.8 1.3Z",ip:"M16 11h-2V9h2v2M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5m7 2H8v10h2V7m2 10h2v-4h2a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-4v10Z",cloud:"M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48q1.18-1.53 3.08-1.95q.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5q1.14 1.28 1.14 3q0 1.88-1.31 3.19T18.5 20Z","cloud-arrow-up":"M13 19c0 .34.04.67.09 1H6.5c-1.5 0-2.81-.5-3.89-1.57C1.54 17.38 1 16.09 1 14.58c0-1.3.39-2.46 1.17-3.48S4 9.43 5.25 9.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 4 12 4c1.95 0 3.6.68 4.96 2.04C18.32 7.4 19 9.05 19 11c1.15.13 2.1.63 2.86 1.5c.51.57.84 1.21 1 1.92A5.908 5.908 0 0 0 19 13c-3.31 0-6 2.69-6 6m3-1h2v4h2v-4h2l-3-3l-3 3Z","cloud-clock":"M23 15.5c0-.71-.16-1.36-.45-1.96a6.998 6.998 0 0 0-3.69-3.92a6.547 6.547 0 0 0-1.9-3.58C15.6 4.68 13.95 4 12 4c-1.58 0-3 .47-4.25 1.43s-2.08 2.19-2.5 3.72c-1.25.28-2.29.93-3.08 1.95S1 13.28 1 14.58c0 1.51.54 2.8 1.61 3.85C3.69 19.5 5 20 6.5 20h3.76c1.27 1.81 3.36 3 5.74 3c3.87 0 7-3.13 7-7v-.5M16 21c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5m.5-4.75l2.86 1.69l-.75 1.22L15 17v-5h1.5v4.25Z","window-close":"M13.46 12L19 17.54V19h-1.46L12 13.46L6.46 19H5v-1.46L10.54 12L5 6.46V5h1.46L12 10.54L17.54 5H19v1.46L13.46 12Z","window-restore":"M4 8h4V4h12v12h-4v4H4V8m12 0v6h2V6h-8v2h6M6 12v6h8v-6H6Z","window-maximize":"M4 4h16v16H4V4m2 4v10h12V8H6Z","window-minimize":"M20 14H4v-4h16",refresh:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35Z","chevron-left":"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6l6 6l1.41-1.42Z","chevron-right":"M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z","account-circle":"M12 19.2c-2.5 0-4.71-1.28-6-3.2c.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10c0-5.53-4.5-10-10-10Z","menu-down":"m7 10l5 5l5-5H7Z",menu:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5s1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5S5.5 6.83 5.5 6S4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5s1.5-.68 1.5-1.5s-.67-1.5-1.5-1.5zM8 19h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0-6h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 6c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z","calendar-check":"M19 19H5V8h14m0-5h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-2.47 8.06L15.47 10l-4.88 4.88l-2.12-2.12l-1.06 1.06L10.59 17l5.94-5.94Z","calendar-badge":"M19.5 16c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5s3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5m-5.29 5H5a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v9.21c-.5-.13-1-.21-1.5-.21c-.17 0-.33 0-.5.03V8H5v11h9.03c-.03.17-.03.33-.03.5c0 .5.08 1 .21 1.5Z","round-wb-sunny":"m6.05 4.14l-.39-.39a.993.993 0 0 0-1.4 0l-.01.01a.984.984 0 0 0 0 1.4l.39.39c.39.39 1.01.39 1.4 0l.01-.01a.984.984 0 0 0 0-1.4zM3.01 10.5H1.99c-.55 0-.99.44-.99.99v.01c0 .55.44.99.99.99H3c.56.01 1-.43 1-.98v-.01c0-.56-.44-1-.99-1zm9-9.95H12c-.56 0-1 .44-1 .99v.96c0 .55.44.99.99.99H12c.56.01 1-.43 1-.98v-.97c0-.55-.44-.99-.99-.99zm7.74 3.21c-.39-.39-1.02-.39-1.41-.01l-.39.39a.984.984 0 0 0 0 1.4l.01.01c.39.39 1.02.39 1.4 0l.39-.39a.984.984 0 0 0 0-1.4zm-1.81 15.1l.39.39a.996.996 0 1 0 1.41-1.41l-.39-.39a.993.993 0 0 0-1.4 0c-.4.4-.4 1.02-.01 1.41zM20 11.49v.01c0 .55.44.99.99.99H22c.55 0 .99-.44.99-.99v-.01c0-.55-.44-.99-.99-.99h-1.01c-.55 0-.99.44-.99.99zM12 5.5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm-.01 16.95H12c.55 0 .99-.44.99-.99v-.96c0-.55-.44-.99-.99-.99h-.01c-.55 0-.99.44-.99.99v.96c0 .55.44.99.99.99zm-7.74-3.21c.39.39 1.02.39 1.41 0l.39-.39a.993.993 0 0 0 0-1.4l-.01-.01a.996.996 0 0 0-1.41 0l-.39.39c-.38.4-.38 1.02.01 1.41z","round-dark-mode":"M11.01 3.05C6.51 3.54 3 7.36 3 12a9 9 0 0 0 9 9c4.63 0 8.45-3.5 8.95-8c.09-.79-.78-1.42-1.54-.95A5.403 5.403 0 0 1 11.1 7.5c0-1.06.31-2.06.84-2.89c.45-.67-.04-1.63-.93-1.56z","round-settings":"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23a.987.987 0 0 0-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41a7.343 7.343 0 0 0 0 1.35l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68zm-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z",logout:"m17 8l-1.4 1.4l1.6 1.6H9v2h8.2l-1.6 1.6L17 16l4-4l-4-4M5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5Z",login:"M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5l-5-5m9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14Z","fullscreen-exit-rounded":"M8 16H6q-.425 0-.713-.288T5 15q0-.425.288-.713T6 14h3q.425 0 .713.288T10 15v3q0 .425-.288.713T9 19q-.425 0-.713-.288T8 18v-2Zm8 0v2q0 .425-.288.713T15 19q-.425 0-.713-.288T14 18v-3q0-.425.288-.713T15 14h3q.425 0 .713.288T19 15q0 .425-.288.713T18 16h-2ZM8 8V6q0-.425.288-.713T9 5q.425 0 .713.288T10 6v3q0 .425-.288.713T9 10H6q-.425 0-.713-.288T5 9q0-.425.288-.713T6 8h2Zm8 0h2q.425 0 .713.288T19 9q0 .425-.288.713T18 10h-3q-.425 0-.713-.288T14 9V6q0-.425.288-.713T15 5q.425 0 .713.288T16 6v2Z","fullscreen-rounded":"M7 17h2q.425 0 .713.288T10 18q0 .425-.288.713T9 19H6q-.425 0-.713-.288T5 18v-3q0-.425.288-.713T6 14q.425 0 .713.288T7 15v2ZM7 7v2q0 .425-.288.713T6 10q-.425 0-.713-.288T5 9V6q0-.425.288-.713T6 5h3q.425 0 .713.288T10 6q0 .425-.288.713T9 7H7Zm10 10v-2q0-.425.288-.713T18 14q.425 0 .713.288T19 15v3q0 .425-.288.713T18 19h-3q-.425 0-.713-.288T14 18q0-.425.288-.713T15 17h2Zm0-10h-2q-.425 0-.713-.288T14 6q0-.425.288-.713T15 5h3q.425 0 .713.288T19 6v3q0 .425-.288.713T18 10q-.425 0-.713-.288T17 9V7Z","keyboard-arrow-down-rounded":"M12 14.975q-.2 0-.375-.062T11.3 14.7l-4.6-4.6q-.275-.275-.275-.7t.275-.7q.275-.275.7-.275t.7.275l3.9 3.9l3.9-3.9q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z","pan-zoom-rounded":"M6.4 19H8q.425 0 .713.288T9 20q0 .425-.288.713T8 21H4q-.425 0-.713-.288T3 20v-4q0-.425.288-.713T4 15q.425 0 .713.288T5 16v1.6l2.4-2.4q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7L6.4 19ZM19 6.4l-2.4 2.4q-.275.275-.7.275t-.7-.275q-.275-.275-.275-.7t.275-.7L17.6 5H16q-.425 0-.713-.288T15 4q0-.425.288-.713T16 3h4q.425 0 .713.288T21 4v4q0 .425-.288.713T20 9q-.425 0-.713-.288T19 8V6.4Z","skip-previous-rounded":"M6.5 18q-.425 0-.713-.288T5.5 17V7q0-.425.288-.713T6.5 6q.425 0 .713.288T7.5 7v10q0 .425-.288.713T6.5 18Zm10.45-1.025l-6.2-4.15q-.45-.3-.45-.825t.45-.825l6.2-4.15q.5-.325 1.025-.037t.525.887v8.25q0 .6-.525.9t-1.025-.05Z","skip-next-rounded":"M17.5 18q-.425 0-.713-.288T16.5 17V7q0-.425.288-.713T17.5 6q.425 0 .713.288T18.5 7v10q0 .425-.288.713T17.5 18ZM7.05 16.975q-.5.35-1.025.05t-.525-.9v-8.25q0-.6.525-.888t1.025.038l6.2 4.15q.45.3.45.825t-.45.825l-6.2 4.15Z","pause-rounded":"M16 19q-.825 0-1.413-.588T14 17V7q0-.825.588-1.413T16 5q.825 0 1.413.588T18 7v10q0 .825-.588 1.413T16 19Zm-8 0q-.825 0-1.413-.588T6 17V7q0-.825.588-1.413T8 5q.825 0 1.413.588T10 7v10q0 .825-.588 1.413T8 19Z","play-arrow-rounded":"M9.525 18.025q-.5.325-1.012.038T8 17.175V6.825q0-.6.513-.888t1.012.038l8.15 5.175q.45.3.45.85t-.45.85l-8.15 5.175Z","speed-rounded":"M10.45 15.5q.625.625 1.575.588T13.4 15.4l4.225-6.325q.225-.35-.062-.638t-.638-.062L10.6 12.6q-.65.45-.712 1.363t.562 1.537ZM5.1 20q-.55 0-1.012-.238t-.738-.712q-.65-1.175-1-2.438T2 14q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 4q2.05 0 3.85.775T19 6.888q1.35 1.337 2.15 3.125t.825 3.837q.025 1.375-.313 2.688t-1.037 2.512q-.275.475-.738.713T18.875 20H5.1Z","no-sound-rounded":"m18 13.4l-1.9 1.9q-.275.275-.7.275t-.7-.275q-.275-.275-.275-.7t.275-.7l1.9-1.9l-1.9-1.9q-.275-.275-.275-.7t.275-.7q.275-.275.7-.275t.7.275l1.9 1.9l1.9-1.9q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7L19.4 12l1.9 1.9q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275L18 13.4ZM7 15H4q-.425 0-.713-.288T3 14v-4q0-.425.288-.713T4 9h3l3.3-3.3q.475-.475 1.088-.213t.612.938v11.15q0 .675-.613.938T10.3 18.3L7 15Z","volume-mute-rounded":"M11 15H8q-.425 0-.713-.288T7 14v-4q0-.425.288-.713T8 9h3l3.3-3.3q.475-.475 1.088-.213t.612.938v11.15q0 .675-.613.938T14.3 18.3L11 15Z","volume-down-rounded":"M9 15H6q-.425 0-.713-.288T5 14v-4q0-.425.288-.713T6 9h3l3.3-3.3q.475-.475 1.088-.213t.612.938v11.15q0 .675-.613.938T12.3 18.3L9 15Zm9.5-3q0 1.05-.475 1.988t-1.25 1.537q-.25.15-.512.013T16 15.1V8.85q0-.3.263-.438t.512.013q.775.625 1.25 1.575t.475 2Z","volume-up-rounded":"M19 11.975q0-2.075-1.1-3.787t-2.95-2.563q-.375-.175-.55-.537t-.05-.738q.15-.4.537-.575t.788 0Q18.1 4.85 19.55 7.063T21 11.974q0 2.7-1.45 4.913t-3.875 3.287q-.4.175-.788 0t-.537-.575q-.125-.375.05-.738t.55-.537q1.85-.85 2.95-2.563t1.1-3.787ZM7 15H4q-.425 0-.713-.288T3 14v-4q0-.425.288-.713T4 9h3l3.3-3.3q.475-.475 1.088-.213t.612.938v11.15q0 .675-.613.938T10.3 18.3L7 15Zm9.5-3q0 1.05-.475 1.988t-1.25 1.537q-.25.15-.513.013T14 15.1V8.85q0-.3.263-.438t.512.013q.775.625 1.25 1.575t.475 2Z","queue-music-rounded":"M16 20q-1.25 0-2.125-.875T13 17q0-1.25.875-2.125T16 14q.275 0 .525.038T17 14.2V7q0-.425.288-.713T18 6h3q.425 0 .713.288T22 7q0 .425-.288.713T21 8h-2v9q0 1.25-.875 2.125T16 20ZM4 16q-.425 0-.713-.288T3 15q0-.425.288-.713T4 14h6q.425 0 .713.288T11 15q0 .425-.288.713T10 16H4Zm0-4q-.425 0-.713-.288T3 11q0-.425.288-.713T4 10h10q.425 0 .713.288T15 11q0 .425-.288.713T14 12H4Zm0-4q-.425 0-.713-.288T3 7q0-.425.288-.713T4 6h10q.425 0 .713.288T15 7q0 .425-.288.713T14 8H4Z","favorite-outline-rounded":"M12 20.325q-.35 0-.713-.125t-.637-.4l-1.725-1.575q-2.65-2.425-4.788-4.813T2 8.15Q2 5.8 3.575 4.225T7.5 2.65q1.325 0 2.5.562t2 1.538q.825-.975 2-1.538t2.5-.562q2.35 0 3.925 1.575T22 8.15q0 2.875-2.125 5.275T15.05 18.25l-1.7 1.55q-.275.275-.637.4t-.713.125ZM11.05 6.75q-.725-1.025-1.55-1.562t-2-.538q-1.5 0-2.5 1t-1 2.5q0 1.3.925 2.763t2.213 2.837q1.287 1.375 2.65 2.575T12 18.3q.85-.775 2.213-1.975t2.65-2.575q1.287-1.375 2.212-2.837T20 8.15q0-1.5-1-2.5t-2.5-1q-1.175 0-2 .537T12.95 6.75q-.175.25-.425.375T12 7.25q-.275 0-.525-.125t-.425-.375Zm.95 4.725Z","favorite-rounded":"M12 20.325q-.35 0-.713-.125t-.637-.4l-1.725-1.575q-2.65-2.425-4.788-4.813T2 8.15Q2 5.8 3.575 4.225T7.5 2.65q1.325 0 2.5.562t2 1.538q.825-.975 2-1.538t2.5-.562q2.35 0 3.925 1.575T22 8.15q0 2.875-2.125 5.275T15.05 18.25l-1.7 1.55q-.275.275-.637.4t-.713.125Z",history:"M12 21q-3.15 0-5.575-1.913T3.275 14.2q-.1-.375.15-.687t.675-.363q.4-.05.725.15t.45.6q.6 2.25 2.475 3.675T12 19q2.925 0 4.963-2.038T19 12q0-2.925-2.038-4.963T12 5q-1.725 0-3.225.8T6.25 8H8q.425 0 .713.288T9 9q0 .425-.288.713T8 10H4q-.425 0-.713-.288T3 9V5q0-.425.288-.713T4 4q.425 0 .713.288T5 5v1.35q1.275-1.6 3.113-2.475T12 3q1.875 0 3.513.713t2.85 1.924q1.212 1.213 1.925 2.85T21 12q0 1.875-.713 3.513t-1.924 2.85q-1.213 1.212-2.85 1.925T12 21Zm1-9.4l2.5 2.5q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275l-2.8-2.8q-.15-.15-.225-.337T11 11.975V8q0-.425.288-.713T12 7q.425 0 .713.288T13 8v3.6Z",delete:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12Z","delete-sweep":"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3zM14 5h-3l-1-1H6L5 5H2v2h12z",fire:"M17.66 11.2c-.23-.3-.51-.56-.77-.82c-.67-.6-1.43-1.03-2.07-1.66C13.33 7.26 13 4.85 13.95 3c-.95.23-1.78.75-2.49 1.32c-2.59 2.08-3.61 5.75-2.39 8.9c.04.1.08.2.08.33c0 .22-.15.42-.35.5c-.23.1-.47.04-.66-.12a.58.58 0 0 1-.14-.17c-1.13-1.43-1.31-3.48-.55-5.12C5.78 10 4.87 12.3 5 14.47c.06.5.12 1 .29 1.5c.14.6.41 1.2.71 1.73c1.08 1.73 2.95 2.97 4.96 3.22c2.14.27 4.43-.12 6.07-1.6c1.83-1.66 2.47-4.32 1.53-6.6l-.13-.26c-.21-.46-.77-1.26-.77-1.26m-3.16 6.3c-.28.24-.74.5-1.1.6c-1.12.4-2.24-.16-2.9-.82c1.19-.28 1.9-1.16 2.11-2.05c.17-.8-.15-1.46-.28-2.23c-.12-.74-.1-1.37.17-2.06c.19.38.39.76.63 1.06c.77 1 1.98 1.44 2.24 2.8c.04.14.06.28.06.43c.03.82-.33 1.72-.93 2.27Z","search-rounded":"M9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.612 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.6 5.6q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275l-5.6-5.6q-.75.6-1.725.95T9.5 16Zm0-2q1.875 0 3.188-1.313T14 9.5q0-1.875-1.313-3.188T9.5 5Q7.625 5 6.312 6.313T5 9.5q0 1.875 1.313 3.188T9.5 14Z","search-off":"m7 17.7l1.4 1.425q.15.15.35.15t.35-.15q.15-.15.15-.363T9.1 18.4L7.7 17l1.425-1.425q.15-.15.15-.35t-.15-.35q-.15-.15-.35-.15t-.35.15L7 16.3l-1.425-1.425q-.15-.15-.35-.15t-.35.15q-.15.15-.15.35t.15.35L6.3 17l-1.425 1.425q-.15.15-.15.35t.15.35q.15.15.35.15t.35-.15L7 17.7ZM7 22q-2.075 0-3.538-1.463T2 17q0-2.075 1.463-3.538T7 12q2.075 0 3.538 1.463T12 17q0 2.075-1.463 3.538T7 22Zm7.2-7.4q-.3-.325-.638-.663T12.9 13.3q.95-.6 1.525-1.6T15 9.5q0-1.875-1.313-3.188T10.5 5Q8.625 5 7.312 6.313T6 9.5q0 .15.013.288t.037.287q-.45.05-.987.2t-.963.35q-.05-.275-.075-.55T4 9.5q0-2.725 1.888-4.612T10.5 3q2.725 0 4.612 1.888T17 9.5q0 1.075-.338 2.038t-.937 1.762l5.575 5.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275l-5.7-5.7Z","folder-cog":"M4 4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h8.08a7 7 0 0 1-.08-1a7 7 0 0 1 7-7a7 7 0 0 1 3 .69V8a2 2 0 0 0-2-2h-8l-2-2H4m14 10a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.193 4.193 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5c0-.17-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14h-2m1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5Z","folder-music":"M22 8v3h-5.5v5.11c-1.84.42-3.24 1.98-3.46 3.89H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h8a2 2 0 0 1 2 2m-3.5 5v5.21a2.5 2.5 0 1 0-1 4.79a2.5 2.5 0 0 0 2.5-2.5V15h2v-2h-3.5Z","folder-open":"M19 20H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h7a2 2 0 0 1 2 2H4v10l2.14-8h17.07l-2.28 8.5c-.23.87-1.01 1.5-1.93 1.5Z","folder-plus-outline":"M13 19c0 .34.04.67.09 1H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h8a2 2 0 0 1 2 2v5.81c-.61-.35-1.28-.59-2-.72V8H4v10h9.09c-.05.33-.09.66-.09 1m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3Z","folder-plus":"M13 19c0 .34.04.67.09 1H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h8a2 2 0 0 1 2 2v5.81c-.88-.51-1.9-.81-3-.81c-3.31 0-6 2.69-6 6m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3Z",video:"m10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9c.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83c-.25.9-.83 1.48-1.73 1.73c-.47.13-1.33.22-2.65.28c-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44c-.9-.25-1.48-.83-1.73-1.73c-.13-.47-.22-1.1-.28-1.9c-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83c.25-.9.83-1.48 1.73-1.73c.47-.13 1.33-.22 2.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44c.9.25 1.48.83 1.73 1.73Z","comment-text":"M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29H9M5 5v2h14V5H5m0 4v2h8V9H5m0 4v2h10v-2H5Z","comment-text-multiple":"M3 15H1V3a2 2 0 0 1 2-2h16v2H3v12m9 8a1 1 0 0 1-1-1v-3H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.1l-3.7 3.71c-.2.18-.44.29-.7.29H12M9 9v2h10V9H9m0 4v2h8v-2H9Z","thumb-up":"M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32c0-.41-.17-.79-.44-1.06L14.17 1L7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2M1 21h4V9H1v12Z","thumb-up-outline":"M5 9v12H1V9h4m4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21H9m0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03V19Z","thumb-down":"M3 16q-.8 0-1.4-.6T1 14v-2q0-.175.037-.375t.113-.375l3-7.05q.225-.5.75-.85T6 3h8q.825 0 1.413.587T16 5v10.175q0 .4-.163.763t-.437.637l-5.425 5.4q-.375.35-.887.425t-.988-.175q-.475-.25-.687-.7t-.088-.925L8.45 16H3ZM20 3q.825 0 1.413.588T22 5v9q0 .825-.588 1.413T20 16q-.825 0-1.413-.588T18 14V5q0-.825.588-1.413T20 3Z",share:"m21 12l-7-7v4C7 10 4 15 3 20c2.5-3.5 6-5.1 11-5.1V19l7-7Z","format-list-bulleted":"M7 5h14v2H7V5m0 8v-2h14v2H7M4 4.5A1.5 1.5 0 0 1 5.5 6A1.5 1.5 0 0 1 4 7.5A1.5 1.5 0 0 1 2.5 6A1.5 1.5 0 0 1 4 4.5m0 6A1.5 1.5 0 0 1 5.5 12A1.5 1.5 0 0 1 4 13.5A1.5 1.5 0 0 1 2.5 12A1.5 1.5 0 0 1 4 10.5M7 19v-2h14v2H7m-3-2.5A1.5 1.5 0 0 1 5.5 18A1.5 1.5 0 0 1 4 19.5A1.5 1.5 0 0 1 2.5 18A1.5 1.5 0 0 1 4 16.5Z",link:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5a5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1c0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5a5 5 0 0 0-5-5Z",home:"M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z","discover-fill":"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Zm13-3l-3.693.739a2 2 0 0 0-1.568 1.568L9 15l3.693-.739a2 2 0 0 0 1.569-1.568L15 9Z","content-copy":"M9 18q-.825 0-1.413-.588T7 16V4q0-.825.588-1.413T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.588 1.413T18 18H9Zm-4 4q-.825 0-1.413-.588T3 20V6h2v14h11v2H5Z","update-rounded":"M12 21q-1.875 0-3.513-.713t-2.85-1.924q-1.212-1.213-1.924-2.85T3 12q0-1.875.713-3.513t1.924-2.85q1.213-1.212 2.85-1.924T12 3q2.05 0 3.888.875T19 6.35V5q0-.425.288-.713T20 4q.425 0 .713.288T21 5v4q0 .425-.288.713T20 10h-4q-.425 0-.713-.288T15 9q0-.425.288-.713T16 8h1.75q-1.025-1.4-2.525-2.2T12 5Q9.075 5 7.037 7.038T5 12q0 2.925 2.038 4.963T12 19q2.375 0 4.25-1.425t2.475-3.675q.125-.4.45-.6t.725-.15q.425.05.675.362t.15.688q-.725 2.975-3.15 4.888T12 21Zm1-9.4l2.5 2.5q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275l-2.8-2.8q-.15-.15-.225-.337T11 11.975V8q0-.425.288-.713T12 7q.425 0 .713.288T13 8v3.6Z",headphones:"M9 21H5q-.825 0-1.413-.588T3 19v-7q0-1.875.713-3.513t1.924-2.85q1.213-1.212 2.85-1.924T12 3q1.875 0 3.513.713t2.85 1.924q1.212 1.213 1.925 2.85T21 12v7q0 .825-.588 1.413T19 21h-4v-8h4v-1q0-2.925-2.038-4.963T12 5Q9.075 5 7.037 7.038T5 12v1h4v8Z",edit:"M14 11c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1s.45-1 1-1h9c.55 0 1 .45 1 1zM3 7c0 .55.45 1 1 1h9c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm7 8c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1h5c.55 0 1-.45 1-1zm8.01-2.13l.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71l-2.12-2.12zm-.71.71l-5.16 5.16c-.09.09-.14.21-.14.35v1.41c0 .28.22.5.5.5h1.41c.13 0 .26-.05.35-.15l5.16-5.16l-2.12-2.11z",heartbit:"M14.9 6.5c2 0 3.7 1.6 4.1 3.6 1.3.4 2 1 2 1.9 0 1.1-1.1 1.7-3 2.1-.5.7-1.1 1.4-2 2.1-.7.6-1.4 1.1-2.2 1.6-.2.2-.5.3-.7.4-.1.1-.2.1-.3.2-.2.1-.5.1-.7 0-.1 0-.2-.1-.3-.2-.2-.1-.5-.3-.7-.4-.8-.5-1.5-1-2.2-1.6-.7-.7-1.4-1.4-1.9-2.1-2-.4-3-1-3-2.1 0-.9.7-1.5 2.1-1.9.3-2 2-3.6 4.1-3.6.9 0 1.7.3 2.4.8.6-.5 1.4-.8 2.3-.8zm-3.8 6.4c-.1.1-.2.2-.4.5-.1.1-.1.2-.2.3-.5.5-.8.7-1.2.7-.3 0-.6 0-.9-.1.3.4.7.7 1.2 1.1.7.6 1.4 1.1 2.1 1.6.2.2.5.3.7.4l.1.1s.1 0 .1-.1c.2-.1.4-.3.7-.4l2.1-1.5c.5-.4.9-.8 1.2-1.1-.4 0-.9.1-1.4.1l-.4.4-.1.1-.5.5c-.3.1-.4.2-.7.2-.3.1-.5-.1-.8-.6-.2-.3-.4-.5-.8-1.1-.4-.5-.5-.8-.7-1 0 0 0-.1-.1-.1zm3.8-5.4c-.7 0-1.5.3-2 .8l-.4.3-.3-.3c-.6-.5-1.3-.8-2-.8C8.4 7.5 7 9 7 10.9c0 .8.2 1.6.6 2.3.5.1 1.1.1 1.8.2 0 0 .1-.1.3-.4.1-.1.2-.1.3-.2.2-.3.4-.5.5-.6.3-.3.4-.4.7-.4s.5.2.8.7c.2.2.3.5.7 1.1s.5.8.7 1c0 .1.1.1.1.1l.5-.5c.5-.5.8-.7 1.1-.7.9-.1 1.6-.1 2.3-.2.4-.8.6-1.6.6-2.4 0-1.9-1.4-3.4-3.1-3.4zM6 11.2c-.7.2-1 .5-1 .8 0 .4.5.7 1.4.9-.2-.5-.4-1.1-.4-1.7zm13 0v.2c0 .5-.2 1-.4 1.5.9-.2 1.4-.5 1.4-.9 0-.3-.3-.6-1-.8z",location:"M11 22.95v-2q-3.125-.35-5.363-2.587T3.05 13h-2v-2h2q.35-3.125 2.588-5.363T11 3.05v-2h2v2q3.125.35 5.363 2.588T20.95 11h2v2h-2q-.35 3.125-2.587 5.363T13 20.95v2h-2ZM12 19q2.9 0 4.95-2.05T19 12q0-2.9-2.05-4.95T12 5Q9.1 5 7.05 7.05T5 12q0 2.9 2.05 4.95T12 19Zm0-3q-1.65 0-2.825-1.175T8 12q0-1.65 1.175-2.825T12 8q1.65 0 2.825 1.175T16 12q0 1.65-1.175 2.825T12 16Z",add:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z","list-lock-open":"M23 17.3v3.5c0 .6-.6 1.2-1.3 1.2h-5.5c-.6 0-1.2-.6-1.2-1.3v-3.5c0-.6.6-1.2 1.2-1.2v-2.5c0-1.4 1.4-2.5 2.8-2.5s2.8 1.1 2.8 2.5v.5h-1.3v-.5c0-.8-.7-1.3-1.5-1.3s-1.5.5-1.5 1.3V16h4.3c.6 0 1.2.6 1.2 1.3M3 13v-2h12v2H3m0-7h18v2H3V6m0 12v-2h6v2H3",code:"M8.7 15.9L4.8 12l3.9-3.9a.984.984 0 0 0 0-1.4a.984.984 0 0 0-1.4 0l-4.59 4.59a.996.996 0 0 0 0 1.41l4.59 4.6c.39.39 1.01.39 1.4 0a.984.984 0 0 0 0-1.4zm6.6 0l3.9-3.9l-3.9-3.9a.984.984 0 0 1 0-1.4a.984.984 0 0 1 1.4 0l4.59 4.59c.39.39.39 1.02 0 1.41l-4.59 4.6a.984.984 0 0 1-1.4 0a.984.984 0 0 1 0-1.4z",more:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z","more-vert":"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z",download:"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z",radio:"M3.24 6.15C2.51 6.43 2 7.17 2 8v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1L3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z","person-add":"M15.39 14.56C13.71 13.7 11.53 13 9 13s-4.71.7-6.39 1.56A2.97 2.97 0 0 0 1 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66zM9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4zm11-3V7c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z","person-remove":"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4s4-1.79 4-4zM2 18v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4s-8 1.34-8 4zm16-8h4c.55 0 1 .45 1 1s-.45 1-1 1h-4c-.55 0-1-.45-1-1s.45-1 1-1z",github:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z",phone:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm1 17H7V4h10v14zm-3 3h-4v-1h4v1z",password:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48l1.3-.75l-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7L4 8.47L3.15 7l-1.3.75l.85 1.47H1v1.5h1.7l-.85 1.48l1.3.75zm6.7-.75l1.3.75l.85-1.48l.85 1.48l1.3-.75l-.85-1.48H15v-1.5h-1.7l.85-1.47l-1.3-.75L12 8.47L11.15 7l-1.3.75l.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47l-1.3-.75L20 8.47L19.15 7l-1.3.75l.85 1.47H17v1.5h1.7l-.85 1.48l1.3.75l.85-1.48l.85 1.48l1.3-.75l-.85-1.48H23v-1.5z",star:"m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z",record:"M17 18.25v3.25H7v-3.25c0-1.38 2.24-2.5 5-2.5s5 1.12 5 2.5M12 5.5a6.5 6.5 0 0 1 6.5 6.5c0 1.25-.35 2.42-.96 3.41L16 14.04c.32-.61.5-1.31.5-2.04c0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5c0 .73.18 1.43.5 2.04l-1.54 1.37c-.61-.99-.96-2.16-.96-3.41A6.5 6.5 0 0 1 12 5.5m0-4A10.5 10.5 0 0 1 22.5 12c0 2.28-.73 4.39-1.96 6.11l-1.5-1.35c.92-1.36 1.46-3 1.46-4.76A8.5 8.5 0 0 0 12 3.5A8.5 8.5 0 0 0 3.5 12c0 1.76.54 3.4 1.46 4.76l-1.5 1.35A10.473 10.473 0 0 1 1.5 12A10.5 10.5 0 0 1 12 1.5m0 8a2.5 2.5 0 0 1 2.5 2.5a2.5 2.5 0 0 1-2.5 2.5A2.5 2.5 0 0 1 9.5 12A2.5 2.5 0 0 1 12 9.5Z",storage:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2m4 1H4V5h2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4z","lrc-text":"M13.8 22H5c-1.7 0-3-1.3-3-3v-1h11.1c-.1.3-.1.7-.1 1c0 1.1.3 2.1.8 3m0-6H5V5c0-1.7 1.3-3 3-3h11c1.7 0 3 1.3 3 3v1h-2V5c0-.6-.4-1-1-1s-1 .4-1 1v8.1c-1.8.3-3.3 1.4-4.2 2.9M8 8h7V6H8zm0 4h6v-2H8zm9 4v6l5-3z"},el=["width","height"],al=["d"],tl={key:0,class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},ll=[R("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 17h2.735a4 4 0 0 0 3.43-1.942l3.67-6.116A4 4 0 0 1 16.265 7H21m0 0l-2-2m2 2l-2 2M3 7h2.735a4 4 0 0 1 2.871 1.215M21 17h-4.735a4 4 0 0 1-2.871-1.215M21 17l-2 2m2-2l-2-2"},null,-1)],sl={key:1,class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},ol=[R("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"2"},[R("path",{"stroke-linejoin":"round",d:"m19 5l2 2m0 0l-2 2m2-2H7M5 19l-2-2m0 0l2-2m-2 2h14"}),R("path",{d:"M3 11a4 4 0 0 1 4-4m14 6a4 4 0 0 1-4 4"})],-1)],rl={key:2,class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},nl=[R("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"2"},[R("path",{"stroke-linejoin":"round",d:"M21 9V4l-2 1m-4 2H7M5 19l-2-2m0 0l2-2m-2 2h14"}),R("path",{d:"M3 11a4 4 0 0 1 4-4m14 6a4 4 0 0 1-4 4"})],-1)],il={key:3,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 48 48"},cl=[R("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[R("path",{"stroke-miterlimit":"2",d:"m11 32l7-9l6 9l6-9l5 8h9"}),R("path",{d:"M44 19c0-6.075-4.925-11-11-11c-3.72 0-7.01 1.847-9 4.674A10.987 10.987 0 0 0 15 8C8.925 8 4 12.925 4 19c0 11 13 21 20 23.326c1.194-.397 2.562-1.016 4.01-1.826"})],-1)],ul={__name:"SvgIcon",props:{icon:{type:String,required:!0},width:{type:String,default:"32"},height:{type:String,default:"32"},size:{type:String},showSlot:{type:Boolean,default:!1},isSpecial:{type:Boolean,default:!1}},setup:e=>(a,t)=>e.showSlot?_(a.$slots,"default",{key:0}):(g(),V(j,{key:1},[e.isSpecial?(g(),V(j,{key:1},["shuffle"===e.icon?(g(),V("svg",tl,ll)):U("",!0),"repeat-list"===e.icon?(g(),V("svg",sl,ol)):U("",!0),"repeat-song"===e.icon?(g(),V("svg",rl,nl)):U("",!0),"heartbit"===e.icon?(g(),V("svg",il,cl)):U("",!0)],64)):(g(),V("svg",{key:0,class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,style:A(e.size?`font-size:${e.size}px`:null),viewBox:"0 0 24 24"},[R("path",{fill:"currentColor",d:T(Xt)[e.icon]},null,8,al)],12,el))],64))},dl=(e,a,t)=>{let l,s=0;return(...o)=>{Date.now()-s<a&&t?$message.warning(t):(clearTimeout(l),l=setTimeout((()=>{e.apply(void 0,o),s=Date.now()}),a))}},ml=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t},pl={class:"pl-name"},hl={class:"list"},yl=["id","onClick","onDblclick"],vl={class:"info"},gl={key:0,class:"artist"},fl={key:1,class:"artist"},wl={key:2,class:"artist"},kl=ml({__name:"Playlist",setup(e){const a=Wt(),t=Gt(),l=Yt(),{useMusicCache:s}=d(l),{playSongData:o,playList:r}=d(a),{coverTheme:n,showFullPlayer:i,playListShow:c,playIndex:u,playMode:p,playLoading:h}=d(t),y=m(null),v=O((()=>r.value?.[0]?r.value.slice().map(((e,a)=>(e.key=`${a}`,e))):[])),_=()=>{K().then((()=>{const e=document.getElementById(`pl-song-${u.value}`);e?.scrollIntoView({behavior:"smooth",block:"center"})}))},b=dl((async(e,a)=>{if(s.value&&h.value)return $message.warning("歌曲正在缓冲中，请稍后"),!1;"dj"!==p.value&&(p.value="normal"),u.value=a,o.value?.id===e?.id?Lt():(o.value=e,await Tt(!0))}),300),S=()=>{xt(),u.value=0,r.value=[],o.value={},c.value=!1,i.value=!1,$message.success("已清空播放列表")};return(e,a)=>{const t=X,l=ee,s=ae,d=te,m=le,h=se,q=oe;return g(),f(q,{show:T(c),"onUpdate:show":a[1]||(a[1]=e=>J(c)?c.value=e:null),class:G(["main-playlist",{"full-player":T(i)}]),style:A({"--cover-main-color":`rgb(${T(n)?.light?.shadeTwo})`||"#efefef","--cover-second-color":`rgba(${T(n)?.light?.shadeTwo}, 0.14)`||"#efefef14"}),"auto-focus":!1,onAfterEnter:_,onAfterLeave:a[2]||(a[2]=e=>c.value=!1),onMaskClick:a[3]||(a[3]=e=>c.value=!1)},{default:w((()=>[k(h,{"native-scrollbar":!1,closable:""},{header:w((()=>[R("div",pl,[k(T(Z),{class:"title"},{default:w((()=>[F("播放队列")])),_:1}),T(r)?.length?(g(),f(T(Z),{key:0,class:"count",depth:"3"},{default:w((()=>[F(B(T(r)?.length)+" 首歌曲 ",1)])),_:1})):U("",!0)])])),default:w((()=>[R("div",hl,[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(r)?.length?(g(),f(t,{key:0,ref_key:"playListRef",ref:y,"item-size":76,items:T(v),"default-scroll-index":T(u),style:{"max-height":"calc(100vh - 158px)"}},{default:w((({item:e,index:a})=>[(g(),V("div",{id:`songs-${a}`,key:e.id,class:G(["songs-item",{play:T(o)?.id===e?.id,player:T(i)}]),onClick:Y((t=>T(b)(e,a)),["stop"]),onDblclick:Y((t=>T(b)(e,a)),["stop"])},[T(o)?.id!==e?.id?(g(),f(T(Z),{key:0,class:"num",depth:"3"},{default:w((()=>[F(B(a+1),1)])),_:2},1024)):(g(),f(T(W),{key:1,class:"play",size:"18"},{default:w((()=>[k(T(ul),{icon:"music-note"})])),_:1})),R("div",vl,[k(T(Z),{class:"name",depth:"2"},{default:w((()=>[F(B(e?.name||"未知曲目"),1)])),_:2},1024),Array.isArray(e?.artists)?(g(),V("div",gl,[(g(!0),V(j,null,Q(e.artists,(e=>(g(),f(T(Z),{key:e.id,depth:"3",class:"ar"},{default:w((()=>[F(B(e.name),1)])),_:2},1024)))),128))])):"dj"===T(p)?(g(),V("div",fl,[k(T(Z),{class:"ar"},{default:w((()=>[F(" 电台节目 ")])),_:1})])):(g(),V("div",wl,[k(T(Z),{class:"ar"},{default:w((()=>[F(B(e?.artists||"未知艺术家"),1)])),_:2},1024)]))]),k(T(W),{class:"delete",size:"18",onClick:Y((e=>(async e=>{if(1===r.value.length)return S(),!1;e===u.value?(r.value.splice(e,1),Dt("next",!0)):e<u.value?(u.value--,r.value.splice(e,1)):e>u.value&&r.value.splice(e,1)})(a)),["stop"])},{default:w((()=>[k(T(ul),{icon:"delete"})])),_:2},1032,["onClick"])],42,yl))])),_:1},8,["items","default-scroll-index"])):(g(),f(l,{key:1,description:"播放列表暂无歌曲，快去添加吧",class:"tip",style:{"margin-top":"60px"},size:"large"}))])),_:1})]),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(r)?.length?(g(),f(m,{key:0,cols:2,"x-gap":"16",class:"controls"},{default:w((()=>[k(d,null,{default:w((()=>[k(s,{size:"large",tag:"div",strong:"",secondary:"",onClick:a[0]||(a[0]=e=>T(y)?.scrollTo({index:T(u)}))},{icon:w((()=>[k(T(W),null,{default:w((()=>[k(T(ul),{icon:"location"})])),_:1})])),default:w((()=>[F(" 当前播放 ")])),_:1})])),_:1}),k(d,null,{default:w((()=>[k(s,{size:"large",tag:"div",strong:"",secondary:"",onClick:S},{icon:w((()=>[k(T(W),null,{default:w((()=>[k(T(ul),{icon:"delete-sweep"})])),_:1})])),default:w((()=>[F(" 清空列表 ")])),_:1})])),_:1})])),_:1})):U("",!0)])),_:1})])),_:1})])),_:1},8,["show","class","style"])}}},[["__scopeId","data-v-3397773e"]]),_l=ml({__name:"Spectrum",props:{show:{type:Boolean,default:!0},height:{type:Number,default:80},barWidth:{type:Number,default:4},radius:{type:Number,default:2}},setup(e){const a=e,t=Gt(),{spectrumsData:l}=d(t),s=m(null),o=m(!0),r=e=>{if(!o.value)return;s.value.width=document.body.clientWidth>=1600?1600:document.body.clientWidth,s.value.height=a.height;const i=s.value.getContext("2d"),c=a.barWidth,u=a.radius;i.clearRect(0,0,s.value.width,s.value.height);for(let a=0;a<360;a++){const l=e[a]/255*s.value.height,o=a*(2*c),r=s.value.height-l;i.fillStyle=`rgb(${t.coverTheme?.light?.shadeTwo})`||"#efefef",l>0&&n(i,o,r,c,l,u)}requestAnimationFrame((()=>{r(l.value)}))},n=(e,a,t,l,s,o)=>{e.beginPath(),e.moveTo(a+o,t),e.lineTo(a+l-o,t),e.quadraticCurveTo(a+l,t,a+l,t+o),e.lineTo(a+l,t+s-o),e.quadraticCurveTo(a+l,t+s,a+l-o,t+s),e.lineTo(a+o,t+s),e.quadraticCurveTo(a,t+s,a,t+s-o),e.lineTo(a,t+o),e.quadraticCurveTo(a,t,a+o,t),e.closePath(),e.fill()};return v((()=>{r(l.value)})),re((()=>{o.value=!1})),(a,t)=>(g(),V("div",{style:A({opacity:e.show?"0.6":"0.1"}),class:"spectrum"},[R("canvas",{ref_key:"canvasRef",ref:s,style:A({height:e.height+"px"}),class:"spectrum-line"},null,4)],4))}},[["__scopeId","data-v-85f0194b"]]),Tl={key:0},bl={class:"song-data"},Sl=ml({__name:"DownloadSong",setup(a,{expose:t}){const l=ne(),s=Nt(),o=Yt(),{userData:r}=d(s),{downloadPath:n,downloadMeta:i,downloadCover:c,downloadLyrics:u}=d(o),p=m(null),h=m(null),y=m(null),v=m(!1),_=m(!1),b=m(null),S=m(null),q=async(a,t,l)=>{try{v.value=!0;const s=await((a,t=999e3)=>e({method:"GET",url:"/song/download/url",params:{id:a,br:t,timestamp:(new Date).getTime()}}))(a?.id,l);if(!n.value&&ia.electron()&&$notification.warning({content:"缺少配置",meta:"请前往设置页配置默认下载目录",duration:3e3}),!s.data?.url)return v.value=!1,$message.error("下载失败，请重试");const o=await(async(e,a,t,l)=>{try{const s=ia.electron(),o=e.type.toLowerCase(),r=a.name+"-"+(Array.isArray(a.artists)?a.artists.map((e=>e.name)).join("&"):a.artists||"未知歌手");if(s&&l.path)return l.path,await electron.ipcRenderer.invoke("downloadFile",JSON.stringify({url:e?.url,data:a,lyric:t,name:r,type:o}),JSON.stringify(l));{na&&URL.revokeObjectURL(na);const a=await fetch(e?.url.replace(/^http:/,"https:"));if(!a.ok)throw new Error("下载出错，请重试");const t=await a.blob();na=URL.createObjectURL(t);const l=document.createElement("a");return l.href=na,l.download=`${r}.${o}`,document.body.appendChild(l),l.click(),l.remove(),!0}}catch(s){return console.error("下载出错：",s),!1}})(s.data,a,t,{path:n.value,downloadMeta:i.value,downloadCover:c.value,downloadLyrics:u.value});o?($message.success("下载完成"),L()):(v.value=!1,$message.error("下载失败，请重试"))}catch(s){console.error("歌曲下载出错：",s),$message.error("歌曲下载失败，请重试")}},D=e=>{const a=e.privileges[0].downloadMaxbr;S.value=[{value:"128000",label:"标准音质",disabled:!(a>=128e3),size:C(e,"l")},{value:"192000",label:"较高音质",disabled:!(a>=192e3),size:C(e,"m")},{value:"320000",label:"极高音质",disabled:!(a>=32e4),size:C(e,"h")},{value:"420000",label:"无损音质",disabled:[128e3,192e3,32e4].includes(parseInt(a)),size:C(e,"sq")},{value:"999000",label:"Hi-Res",disabled:!(a>=999e3),size:C(e,"hr")}],S.value},C=(e,a)=>{let t=0;const l=e=>e?(e/1048576).toFixed(2):0;return"l"===a?t=l(e.songs[0]?.l?.size):"m"===a?t=l(e.songs[0]?.m?.size):"h"===a?t=l(e.songs[0]?.h?.size):"sq"===a?t=l(e.songs[0]?.sq?.size):"hr"===a&&(t=l(e.songs[0]?.hr?.size)),t},L=()=>{p.value=null,h.value=null,v.value=!1,_.value=!1,b.value=null};return t({openDownloadModal:e=>{const a=()=>{p.value=e.id.toString(),_.value=!0,(async e=>{try{const a=await Ja(e),t=await Ka(e);h.value=Za(a?.songs?.[0],"song")[0],y.value=t?.lrc?.lyric||null,D(a)}catch(a){L(),console.error("歌曲信息获取失败：",a)}})(p.value)};if(va()){if("cloud"===l.currentRoute.value.name||0===e?.fee||e?.pc||0!==r.value.detail?.profile?.vipType)return a();if(0!==e?.fee&&11!==r.value.detail?.profile?.vipType&&!e?.pc)return $message.warning("账号会员等级不足，请提升权限");$message.warning("账号会员等级不足，请提升权限")}else $message.warning("请登录后使用")}}),(e,a)=>{const t=ie,l=Z,s=ce,o=ue,r=de,n=ae,i=me;return g(),f(i,{show:T(_),"onUpdate:show":a[2]||(a[2]=e=>J(_)?_.value=e:null),bordered:!1,"close-on-esc":!1,"auto-focus":!1,"mask-closable":!T(v),"on-after-leave":L,class:"download-song",preset:"card",title:"歌曲下载"},{footer:w((()=>[k(o,{justify:"end"},{default:w((()=>[k(n,{onClick:L},{default:w((()=>[F(" 关闭 ")])),_:1}),k(n,{disabled:!T(b),loading:T(v),focusable:!1,type:"primary",onClick:a[1]||(a[1]=e=>q(T(h),T(y),T(b)))},{default:w((()=>[F(" 下载 ")])),_:1},8,["disabled","loading"])])),_:1})])),default:w((()=>[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(h)?(g(),V("div",Tl,[T(h).pc?(g(),f(t,{key:0,"show-icon":!1,class:"tip"},{default:w((()=>[F(" 当前为云盘歌曲，下载的文件均为最高音质 ")])),_:1})):U("",!0),k(r,{value:T(b),"onUpdate:value":a[0]||(a[0]=e=>J(b)?b.value=e:null),class:"download-group",name:"downloadGroup"},{default:w((()=>[k(o,{vertical:""},{default:w((()=>[(g(!0),V(j,null,Q(T(S),(e=>(g(),f(s,{key:e,value:e.value,disabled:e.disabled},{default:w((()=>[R("div",bl,[k(l,{class:"name",depth:e.disabled?3:0},{default:w((()=>[F(B(e.label),1)])),_:2},1032,["depth"]),e.size?(g(),f(l,{key:0,depth:"3",class:"size"},{default:w((()=>[F(B(e.size)+" MB ",1)])),_:2},1024)):e.disabled?U("",!0):(g(),f(l,{key:1,depth:"3",class:"size"},{default:w((()=>[F(" 文件大小获取失败 ")])),_:1}))])])),_:2},1032,["value","disabled"])))),128))])),_:1})])),_:1},8,["value"])])):(g(),f(l,{key:1},{default:w((()=>[F("歌曲信息获取中")])),_:1}))])),_:1})])),_:1},8,["show","mask-closable"])}}},[["__scopeId","data-v-e6a06a89"]]),ql={__name:"CreatePlaylist",setup(a,{expose:t}){const l=Nt(),s=m(!1),o=m(!1),r=m(null),n=async(a,t=!1)=>{const s=await((a,t=!1)=>e({method:"GET",url:"/playlist/create",params:{name:a,privacy:t,timestamp:(new Date).getTime()}}))(a,t?"10":null);200===s.code?(i(),$message.success("新建歌单成功"),await l.setUserLikePlaylists()):$message.error("新建歌单失败，请重试")},i=()=>{r.value=null,o.value=!1,s.value=!1};return t({openCreatePlaylist:()=>{s.value=!0}}),(e,a)=>{const t=pe,l=he,c=ae,u=ue,d=me;return g(),f(d,{show:T(s),"onUpdate:show":a[3]||(a[3]=e=>J(s)?s.value=e:null),"auto-focus":!1,bordered:!1,class:"create-playlist",title:"新建歌单",preset:"card","transform-origin":"center",onAfterLeave:i},{footer:w((()=>[k(u,{justify:"end"},{default:w((()=>[k(c,{onClick:i},{default:w((()=>[F(" 取消 ")])),_:1}),k(c,{disabled:!T(r),type:"primary",onClick:a[2]||(a[2]=e=>n(T(r),T(o)))},{default:w((()=>[F(" 新建 ")])),_:1},8,["disabled"])])),_:1})])),default:w((()=>[k(t,{value:T(r),"onUpdate:value":a[0]||(a[0]=e=>J(r)?r.value=e:null),placeholder:"输入歌单标题",style:{"margin-bottom":"12px"},maxlength:"40","show-count":"",clearable:""},null,8,["value"]),k(l,{checked:T(o),"onUpdate:checked":a[1]||(a[1]=e=>J(o)?o.value=e:null)},{default:w((()=>[F(" 设为隐私歌单 ")])),_:1},8,["checked"])])),_:1},8,["show"])}}},Dl=""+new URL("../images/pic/album.jpg?assest",import.meta.url).href,Cl=R("div",{class:"cover-loading"},[R("img",{class:"loading-img",src:Dl,alt:"song"})],-1),Ll={__name:"AddPlaylist",setup(e,{expose:a}){const t=Nt(),{userLikeData:l,userData:s}=d(t),o=m(null),r=m(!1),n=m(null),i=()=>{r.value=!1};return a({openAddToPlaylist:async e=>{if(!va())return $message.warning("请登录后使用");n.value=e,r.value=!0,await t.setUserLikePlaylists()}}),(e,a)=>{const c=ul,u=W,d=ye,m=ve,p=ge,h=Z,y=fe,v=we,_=me,b=ql;return g(),V(j,null,[k(_,{show:T(r),"onUpdate:show":a[2]||(a[2]=e=>J(r)?r.value=e:null),"auto-focus":!1,bordered:!1,class:"add-playlist",preset:"card",title:"添加到歌单","transform-origin":"center",onAfterLeave:i},{default:w((()=>[k(v,{style:{"max-height":"70vh"}},{default:w((()=>[k(y,{class:"playlists-list",hoverable:"",clickable:""},{default:w((()=>[k(m,{class:"playlist add",onClick:a[0]||(a[0]=e=>T(o)?.openCreatePlaylist())},{prefix:w((()=>[k(u,{size:"20"},{default:w((()=>[k(c,{icon:"add"})])),_:1})])),default:w((()=>[k(d,{title:"创建新歌单"})])),_:1}),(g(!0),V(j,null,Q(T(l).playlists.filter((e=>e.userId===T(s)?.userId)),((e,l)=>(g(),f(m,{key:l,class:"playlist",onClick:a=>(async(e,a,l)=>{const s=await za(e,a);200===s.status?(i(),$message.success("添加歌曲至歌单成功"),0===l&&await t.setUserLikeSongs()):$message.error(s?.message||"添加失败，请重试")})(e.id,T(n),l)},{prefix:w((()=>[k(p,{src:e?.coverSize?.s||"/images/pic/album.jpg?assest",class:"cover","preview-disabled":"",lazy:"",onLoad:a[1]||(a[1]=e=>{e.target.style.opacity=1})},{placeholder:w((()=>[Cl])),_:2},1032,["src"])])),default:w((()=>[k(d,{title:e.name},{description:w((()=>[k(h,{depth:"3",class:"size"},{default:w((()=>[F(B(e.count)+" 首音乐",1)])),_:2},1024)])),_:2},1032,["title"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"]),k(b,{ref_key:"createPlaylistRef",ref:o},null,512)],64)}}},Ml={class:"left"},Pl={class:"center"},$l={class:"btn"},xl={class:"slider"},Il={class:"right"},zl=ml({__name:"PlayerControl",setup(e){const a=ne(),t=Nt(),l=Wt(),s=Gt(),{playList:o,playListOld:r}=d(l),{playIndex:n,playerControlShow:i,controlTimeOut:c,playLoading:u,playState:p,showFullPlayer:h,playListShow:y,playTimeData:v,playMode:_,playSongMode:b,playHeartbeatMode:S,playVolume:q,coverTheme:D}=d(s),C=m(null),L=m(null),M=()=>{P(v.value?.bar),Mt()},P=e=>{if(v.value?.duration){const a=v.value.duration/100*e;zt(a)}},$=dl((async(e,a)=>{if("fmTrash"===e)return await l.setPersonalFmToTrash(a),!0;Dt(e,!0)}),300),x=()=>{S.value&&(S.value=!1,n.value=0,o.value=r.value,r.value=[]),b.value={normal:"random",random:"shuffle",shuffle:"normal"}[b.value]||"normal"},I=e=>{const a=e.deltaY;a>0?q.value>=0&&(q.value=Math.max(q.value-.05,0)):a<0&&q.value<1&&(q.value=Math.min(q.value+.05,1)),$t(q.value)},z=()=>{c.value&&clearTimeout(c.value),i.value=!0},E=e=>{e.target.closest(".slider")||e.stopPropagation()};return(e,s)=>{const o=ul,r=W,n=ae,c=be,d=Z,m=Se,H=Ll,V=Sl;return g(),f(N,{name:"fade",mode:"out-in"},{default:w((()=>[ke(R("div",{class:"control",onMousemove:E,onMouseenter:z},[R("div",Ml,[T(l).getPlaySongData.path?U("",!0):(g(),f(r,{key:0,size:"24",onClick:s[0]||(s[0]=Y((e=>T(t).changeLikeList(T(l).getPlaySongData.id,!T(t).getSongIsLike(T(l).getPlaySongData.id),T(l).getPlaySongData?.path)),["stop"]))},{default:w((()=>[k(o,{icon:T(t).getSongIsLike(T(l).getPlaySongData.id)?"favorite-rounded":"favorite-outline-rounded"},null,8,["icon"])])),_:1})),T(l).getPlaySongData.path?U("",!0):(g(),f(r,{key:1,class:"hidden",size:"24",onClick:s[1]||(s[1]=Y((e=>T(C)?.openAddToPlaylist(T(l).getPlaySongData?.id)),["stop"]))},{default:w((()=>[k(o,{icon:"playlist-add"})])),_:1})),T(l).getPlaySongData.path?U("",!0):(g(),f(r,{key:2,class:"hidden",size:"24",onClick:s[2]||(s[2]=Y((e=>T(L)?.openDownloadModal(T(l).getPlaySongData)),["stop"]))},{default:w((()=>[k(o,{icon:"download"})])),_:1}))]),R("div",Pl,[R("div",$l,[k(N,{name:"fade",mode:"out-in"},{default:w((()=>["fm"!==T(_)?(g(),f(r,{key:0,class:"play-prev",size:"24",onClick:s[3]||(s[3]=Y((e=>T($)("prev")),["stop"]))},{default:w((()=>[k(o,{icon:"skip-previous-rounded"})])),_:1})):(g(),f(r,{key:1,class:"play-prev",size:"24",onClick:s[4]||(s[4]=Y((e=>T($)("fmTrash",T(l).getPlaySongData.id)),["stop"]))},{default:w((()=>[k(o,{size:"18",icon:"thumb-down"})])),_:1}))])),_:1}),k(n,{loading:T(u),keyboard:!1,focusable:!1,class:"play-control",strong:"",secondary:"",circle:"",onClick:Y(T(Mt),["stop"])},{icon:w((()=>[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),f(r,{key:T(p),size:"28"},{default:w((()=>[k(o,{icon:T(p)?"pause-rounded":"play-arrow-rounded"},null,8,["icon"])])),_:1}))])),_:1})])),_:1},8,["loading","onClick"]),k(r,{class:"play-next",size:"24",onClick:s[5]||(s[5]=Y((e=>T($)("next")),["stop"]))},{default:w((()=>[k(o,{icon:"skip-next-rounded"})])),_:1})]),R("div",xl,[R("span",null,B(T(v).played),1),k(T(_e),{modelValue:T(v).bar,"onUpdate:modelValue":s[6]||(s[6]=e=>T(v).bar=e),"use-keyboard":!1,tooltip:"none",width:"100%",onDragStart:s[7]||(s[7]=e=>T(Lt)("pause")),onDragEnd:M,onClick:s[8]||(s[8]=Y((e=>P(T(v).bar)),["stop"]))},null,8,["modelValue"]),R("span",null,B(T(v).durationTime),1)])]),R("div",Il,[T(l).getPlaySongData.mv?(g(),f(r,{key:0,class:"hidden",size:"22",onClick:s[9]||(s[9]=Y((e=>(h.value=!1,T(a).push(`/videos-player?id=${T(l).getPlaySongData.mv}`))),["stop"]))},{default:w((()=>[k(o,{icon:"video"})])),_:1})):U("",!0),T(l).getPlaySongData?.path?U("",!0):(g(),f(r,{key:1,class:"hidden",size:"22",onClick:s[10]||(s[10]=Y((e=>(h.value=!1,T(a).push(`/comment?id=${T(l).getPlaySongData?.id}`))),["stop"]))},{default:w((()=>[k(o,{icon:"comment-text"})])),_:1})),k(m,{trigger:"hover","show-arrow":!1,raw:""},{trigger:w((()=>[k(r,{class:"volume hidden",size:"22",onClick:Y(T(It),["stop"]),onWheel:I},{default:w((()=>[0===T(q)?(g(),f(o,{key:0,icon:"no-sound-rounded"})):T(q)>0&&T(q)<.4?(g(),f(o,{key:1,icon:"volume-mute-rounded"})):T(q)>=.4&&T(q)<.7?(g(),f(o,{key:2,icon:"volume-down-rounded"})):(g(),f(o,{key:3,icon:"volume-up-rounded"}))])),_:1},8,["onClick"])])),default:w((()=>[R("div",{style:A({"--cover-main-color":`rgb(${T(D)?.light?.shadeTwo})`||"#efefef","--cover-second-color":`rgba(${T(D)?.light?.shadeTwo}, 0.14)`||"#efefef14"}),class:"slider-content hidden",onWheel:I},[k(c,{value:T(q),"onUpdate:value":[s[11]||(s[11]=e=>J(q)?q.value=e:null),T($t)],tooltip:!1,min:0,max:1,step:.01,vertical:"",style:{height:"120px"}},null,8,["value","onUpdate:value"]),k(d,{class:"slider-num",depth:"3"},{default:w((()=>[F(B((100*T(q)).toFixed(0))+"%",1)])),_:1})],36)])),_:1}),"normal"===T(_)?(g(),f(r,{key:2,class:"hidden",size:"22",onClick:Y(x,["stop"])},{default:w((()=>[k(o,{icon:T(S)?"heartbit":"normal"===T(b)?"repeat-list":"random"===T(b)?"shuffle":"repeat-song",isSpecial:""},null,8,["icon"])])),_:1})):U("",!0),"normal"===T(_)?(g(),f(r,{key:3,size:"22",onClick:s[12]||(s[12]=Y((e=>y.value=!T(y)),["stop"]))},{default:w((()=>[k(o,{icon:"queue-music-rounded"})])),_:1})):U("",!0)]),k(H,{ref_key:"addPlaylistRef",ref:C},null,512),k(V,{ref_key:"downloadSongRef",ref:L},null,512)],544),[[Te,T(i)]])])),_:1})}}},[["__scopeId","data-v-572a7fc9"]]),El=["id"],Hl=ml({__name:"CountDown",props:{isFirst:{type:Boolean,default:!1},start:{type:Number,default:0},duration:{type:Number,default:0},seek:{type:Number,default:0}},setup(e){const a=Gt(),t=e,l=O((()=>!t.isFirst||t.seek+.5<t.start+t.duration)),s=e=>{if(t.isFirst){const a=t.duration/3,l=t.seek-t.start;if(l<=0)return 0;if(l<a*(e+1)){return.1+.7*(1-(l-a*e)/a)}}return.1};return(t,o)=>(g(),f(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(l)?(g(),V("div",{key:0,id:e.isFirst?"lrc-1":null,style:A({animationPlayState:T(a).playState?"running":"paused"}),class:"count-down"},[(g(),V(j,null,Q(3,((e,a)=>R("div",{key:a,class:"point",style:A({opacity:s(a)})},null,4))),64))],12,El)):U("",!0)])),_:1}))}},[["__scopeId","data-v-dfbb5c66"]]),Vl={class:"placeholder"},Al=["id","onClick"],Rl={key:1,class:"lrc-roma"},jl={class:"placeholder"},Ul=["id","onClick"],Ol={class:"word"},Zl={key:1,class:"lrc-roma"},Fl=(e=>(qe("data-v-3c0f37c9"),e=e(),De(),e))((()=>R("div",{class:"placeholder"},null,-1))),Bl=ml({__name:"Lyric",props:{cursorShow:{type:Boolean,default:!0}},setup(e){const a=Wt(),t=Yt(),l=Gt(),{playSeek:s,pureLyricMode:o,playSongLyricIndex:r}=d(l),{playSongLyric:n}=d(a),{showYrc:i,showYrcAnimation:c,countDownShow:u,lyricsFontSize:p,lrcMousePause:y,lyricsBlock:_,lyricsPosition:b,lyricsBlur:S,showTransl:q,showRoma:D,playCoverType:C}=d(t),L=m(null),M=m(!1),P=()=>{M.value=!1,$(r.value)},$=e=>{const a=document.getElementById("lrc"+e);if(a&&!M.value){const e=a.parentElement,t=a.offsetTop-e.offsetTop-80;"center"===_.value?a?.scrollIntoView({behavior:"smooth",block:"center"}):L.value?.scrollTo({top:t,behavior:"smooth"})}},x=e=>{if(!e)return!1;zt(e),Lt()};return"undefined"!=typeof electron&&electron.ipcRenderer.on("lyricsScroll",(()=>{$(r.value)})),h((()=>r.value),(e=>$(e))),h((()=>o.value),(()=>$(r.value))),v((()=>{K().then((()=>{$(r.value)}))})),(a,t)=>{const d=Hl,m=we;return g(),V("div",{style:A({cursor:e.cursorShow?"pointer":"none"}),class:G(["lyric",`lyric-${T(b)}`,{pure:T(o)},T(C)]),onMouseenter:t[2]||(t[2]=e=>M.value=!!T(y)),onMouseleave:P},[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(n).lrc?.[0]&&T(n).lrc?.length>4?(g(),V("div",{key:T(n).lrc?.[0],class:"lyric-all",onAfterEnter:t[0]||(t[0]=e=>$(T(r))),onAfterLeave:t[1]||(t[1]=e=>$(T(r)))},[k(m,{ref_key:"lyricScroll",ref:L,style:{width:"100%"}},{default:w((()=>[T(i)&&T(n).hasYrc?T(n).yrc?.[0]?(g(),V(j,{key:1},[R("div",jl,[T(u)?(g(),f(d,{key:0,start:0,duration:T(n).yrc[0].time||0,seek:T(s),isFirst:""},null,8,["duration","seek"])):U("",!0)]),(g(!0),V(j,null,Q(T(n).yrc,((e,a)=>(g(),V("div",{id:"lrc"+a,key:a,class:G({"lrc-line":!0,on:Number(T(r))===a,isyrc:!0}),style:A({filter:T(S)?`blur(${Math.min(1.5*Math.abs(Number(T(r))-a),10)}px)`:"blur(0)"}),onClick:Y((a=>x(e?.time)),["stop"])},[R("div",{style:A({fontSize:T(p)+"px"}),class:"lrc-content"},[(g(!0),V(j,null,Q(e.content,((e,t)=>{return g(),V("div",{key:t,class:G({"lrc-text":!0,"lrc-long":e.duration>=1.5,"end-with-space":e.endsWithSpace})},[R("span",Ol,B(e.content),1),R("span",{class:"filler",style:A((o=e,n=a,c.value?r.value!==n?{transitionDuration:"0ms, 0ms, 0.35s",transitionDelay:"0ms"}:!1===l.playLoading&&o.time+o.duration-s.value>0?{transitionDuration:"0s, 0s, 0.35s",transitionDelay:"0ms",WebkitMaskPositionX:100-Math.max((s.value-o.time)/o.duration*100,0)+"%"}:{transitionDuration:`${o.duration}ms, ${.8*o.duration}ms, 0.35s`,transitionDelay:`${o.time-s.value}ms, ${o.time-s.value+.5*o.duration}ms, 0ms`}:r.value!==n||!1===l.playLoading&&o.time>=s.value?{opacity:0}:{opacity:1}))},B(e.content),5)],2);var o,n})),128))],4),T(q)&&T(n).hasLrcTran&&e.tran?(g(),V("span",{key:0,style:A({fontSize:T(p)-(T(p)<40?10:16)+"px"}),class:"lrc-fy"},B(e.tran),5)):U("",!0),T(D)&&T(n).hasLrcRoma&&e.roma?(g(),V("span",Zl,B(e.roma),1)):U("",!0)],14,Ul)))),128))],64)):U("",!0):(g(),V(j,{key:0},[R("div",Vl,[T(u)?(g(),f(d,{key:0,start:0,duration:T(n).lrc[0]?.time||0,seek:T(s),isFirst:""},null,8,["duration","seek"])):U("",!0)]),(g(!0),V(j,null,Q(T(n).lrc,((e,a)=>(g(),V("div",{id:"lrc"+a,key:a,class:G({"lrc-line":!0,on:Number(T(r))===a,islrc:!0}),style:A({filter:T(S)?`blur(${Math.min(1.5*Math.abs(Number(T(r))-a),10)}px)`:"blur(0)"}),onClick:Y((a=>x(e?.time)),["stop"])},[R("span",{style:A({fontSize:T(p)+"px"}),class:"lrc-content"},B(e.content),5),T(q)&&T(n).hasLrcTran&&e.tran?(g(),V("span",{key:0,style:A({fontSize:T(p)-(T(p)<40?10:16)+"px"}),class:"lrc-fy"},B(e.tran),5)):U("",!0),T(D)&&T(n).hasLrcRoma&&e.roma?(g(),V("span",Rl,B(e.roma),1)):U("",!0)],14,Al)))),128))],64)),Fl])),_:1},512)],32)):U("",!0)])),_:1})],38)}}},[["__scopeId","data-v-3c0f37c9"]]),Nl=""+new URL("../images/pic/pointer.png?assest",import.meta.url).href,Gl=""+new URL("../images/pic/song.jpg?assest",import.meta.url).href,Yl=(e=>(qe("data-v-43ccadb8"),e=e(),De(),e))((()=>R("div",{class:"cover-loading"},[R("img",{class:"loading-img",src:Gl,alt:"loading-img"})],-1))),Wl=ml({__name:"PlayerCover",setup(e){const a=Wt(),t=Gt(),l=Yt(),{playCoverType:s}=d(l),{playState:o}=d(t);return(e,t)=>{const l=ge;return g(),V("div",{class:G(["cover",T(s)])},["record"===T(s)?(g(),V("img",{key:0,class:G({pointer:!0,play:T(o)}),src:Nl,alt:"pointer"},null,2)):U("",!0),k(l,{src:T(a).getPlaySongData?.coverSize?.l||T(a).getPlaySongData?.cover||T(a).getPlaySongData?.localCover,style:A({animationPlayState:T(o)?"running":"paused"}),class:"cover-img","preview-disabled":"",onLoad:t[0]||(t[0]=e=>{e.target.style.opacity=1})},{placeholder:w((()=>[Yl])),_:1},8,["src","style"]),k(l,{class:"cover-shadow","preview-disabled":"",src:T(a).getPlaySongData?.coverSize?.l||T(a).getPlaySongData?.cover||T(a).getPlaySongData?.localCover},null,8,["src"])],2)}}},[["__scopeId","data-v-43ccadb8"]]),Ql=["src"],Jl=["src"],Kl={class:"menu"},Xl={class:"left"},es={class:"right"},as={class:"desc"},ts={class:"title"},ls={class:"name"},ss=[(e=>(qe("data-v-f7341e2f"),e=e(),De(),e))((()=>R("span",null,"该歌曲暂时无法播放，为您采用其他音源，可能会与原曲存在差别",-1)))],os={key:0,class:"alia"},rs={class:"artist"},ns={key:0,class:"all-ar"},is=["onClick"],cs={key:1,class:"all-ar"},us={class:"ar"},ds={key:0,class:"al"},ms={key:1,class:"album"},ps={class:"data"},hs={class:"name"},ys={class:"name-text"},vs={key:0,class:"name-alias"},gs={class:"other"},fs={class:"artist"},ws={key:0,class:"all-ar"},ks=["onClick"],_s={key:1,class:"all-ar"},Ts={class:"ar"},bs={key:0,class:"al"},Ss={key:1,class:"album"},qs=ml({__name:"FullPlayer",setup(e){const a=ne(),t=Wt(),l=Gt(),s=Yt(),{playList:o,playSongLyric:r}=d(t),{playerBackgroundType:n,showYrc:i,playCoverType:c,showSpectrums:u}=d(s),{playerControlShow:p,controlTimeOut:y,showFullPlayer:v,playUseOtherSource:_,coverTheme:b,coverBackground:S,pureLyricMode:q}=d(l),D=O((()=>r.value.lrc?.[0]&&r.value.lrc?.length>4)),C=m(!1),L=()=>{Le.isEnabled&&(Le.toggle(),C.value=!Le.isFullscreen)},M=()=>{if(window.innerWidth<=700)return!1;p.value=!1},P=Ba((()=>{if(p.value=!0,window.innerWidth<=700)return!1;y.value&&clearTimeout(y.value),y.value=setTimeout((()=>{p.value=!1}),2e3)}),300);return h((()=>v.value),(e=>{e&&i.value&&o.value})),Ce((()=>{clearTimeout(y.value)})),(e,l)=>{const s=ul,o=W,r=Wl,i=Me,d=Se,m=Bl,h=zl,y=_l;return g(),f(N,{name:"up",mode:"out-in"},{default:w((()=>[T(v)?(g(),V("div",{key:0,style:A({"--cover-main-color":`rgb(${T(b)?.light?.shadeTwo})`||"#efefef","--cover-second-color":`rgba(${T(b)?.light?.shadeTwo}, 0.14)`||"#efefef14","--cover-bg":T(S),cursor:T(p)?"auto":"none"}),class:"full-player",onMousemove:l[4]||(l[4]=(...e)=>T(P)&&T(P)(...e)),onMouseleave:M},[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),V("div",{key:`${T(n)}-${T(S)}-${T(t).getPlaySongData?.coverSize?.s||T(t).getPlaySongData?.localCover}`,class:G(["overlay",T(n)])},["blur"===T(n)?(g(),V("img",{key:0,class:"overlay-img",src:T(t).getPlaySongData?.coverSize?.s||T(t).getPlaySongData?.localCover,alt:"overlay"},null,8,Ql)):"animation"===T(n)?(g(),V(j,{key:1},Q(4,(e=>R("img",{key:e,src:T(t).getPlaySongData?.coverSize?.s||T(t).getPlaySongData?.localCover,style:A({transform:`rotate(${180*e}deg)`}),class:"overlay-img",alt:"overlay"},null,12,Jl))),64)):U("",!0)],2))])),_:1}),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[ke(R("div",Kl,[R("div",Xl,[T(D)?(g(),f(o,{key:0,class:G(["lrc-open",{open:T(q)}]),size:"28",onClick:l[0]||(l[0]=e=>q.value=!T(q))},{default:w((()=>[k(s,{icon:"lrc-text"})])),_:1},8,["class"])):U("",!0)]),R("div",es,[k(o,{class:"hidden",onClick:Y(L,["stop"])},{default:w((()=>[k(s,{icon:T(C)?"fullscreen-exit-rounded":"fullscreen-rounded"},null,8,["icon"])])),_:1}),T(C)?U("",!0):(g(),f(o,{key:0,onClick:l[1]||(l[1]=Y((e=>v.value=!1),["stop"]))},{default:w((()=>[k(s,{icon:"keyboard-arrow-down-rounded"})])),_:1}))])],512),[[Te,T(p)]])])),_:1}),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),V("div",{key:`${T(q)}-${T(c)}-${T(D)}-${T(t).getPlaySongData?.id}`,class:"main-player"},[ke(R("div",{class:G(["content",{"no-lrc":!T(D)}])},[k(r),ke(R("div",{class:G(["data",T(c)])},[R("div",as,[R("div",ts,[R("span",ls,B(T(t).getPlaySongData.name||"未知曲目"),1),k(d,{"show-arrow":!1,placement:"right-start",trigger:"hover",raw:""},{trigger:w((()=>[ke(k(i,{style:A({color:`rgb(${T(b)?.light?.shadeTwo})`||"#efefef",backgroundColor:`rgba(${T(b)?.light?.shadeTwo}, 0.14)`||"#efefef14"}),round:""},{default:w((()=>[F(" 其他音源 ")])),_:1},8,["style"]),[[Te,T(_)]])])),default:w((()=>[R("div",{style:A({color:`rgb(${T(b)?.light?.shadeTwo})`||"#efefef",backgroundColor:`rgba(${T(b)?.light?.shadeTwo}, 0.14)`||"#efefef14"}),class:"title-tip"},ss,4)])),_:1})]),T(t).getPlaySongData.alia?(g(),V("span",os,B(T(t).getPlaySongData.alia),1)):U("",!0),R("div",rs,[k(o,{depth:"3",size:"20"},{default:w((()=>[k(s,{icon:"account-music"})])),_:1}),Array.isArray(T(t).getPlaySongData.artists)?(g(),V("div",ns,[(g(!0),V(j,null,Q(T(t).getPlaySongData.artists,(e=>(g(),V("span",{key:e.id,class:"ar",onClick:Y((()=>{v.value=!1,T(a).push(`/artist?id=${e.id}`)}),["stop"])},B(e.name),9,is)))),128))])):(g(),V("div",cs,[R("span",us,B(T(t).getPlaySongData.artists||"未知艺术家"),1)]))]),R("div",{class:"album",onClick:l[2]||(l[2]=Y((()=>{"string"!=typeof T(t).getPlaySongData.album&&(v.value=!1,T(a).push(`/album?id=${T(t).getPlaySongData?.album.id}`))}),["stop"]))},[k(o,{depth:"3",size:"20"},{default:w((()=>[k(s,{icon:"album"})])),_:1}),T(t).getPlaySongData.album?(g(),V("span",ds,B("string"==typeof T(t).getPlaySongData.album?T(t).getPlaySongData.album:T(t).getPlaySongData.album.name),1)):(g(),V("span",ms,"未知专辑"))])])],2),[[Te,"cover"===T(c)||!T(D)]])],2),[[Te,!(T(q)&&T(D))]]),R("div",{class:G(["right",{pure:T(q)&&T(D)}])},[ke(R("div",ps,[R("div",hs,[R("span",ys,B(T(t).getPlaySongData.name||"未知曲目"),1),T(t).getPlaySongData.alia?(g(),V("span",vs,B(T(t).getPlaySongData.alia),1)):U("",!0)]),R("div",gs,[R("div",fs,[k(o,{depth:"3",size:"20"},{default:w((()=>[k(s,{icon:"account-music"})])),_:1}),Array.isArray(T(t).getPlaySongData.artists)?(g(),V("div",ws,[(g(!0),V(j,null,Q(T(t).getPlaySongData.artists,(e=>(g(),V("span",{key:e.id,class:"ar",onClick:Y((()=>{v.value=!1,T(a).push(`/artist?id=${e.id}`)}),["stop"])},B(e.name),9,ks)))),128))])):(g(),V("div",_s,[R("span",Ts,B(T(t).getPlaySongData.artists||"未知艺术家"),1)]))]),R("div",{class:"album",onClick:l[3]||(l[3]=Y((()=>{"string"!=typeof T(t).getPlaySongData.album&&(v.value=!1,T(a).push(`/album?id=${T(t).getPlaySongData?.album.id}`))}),["stop"]))},[k(o,{depth:"3",size:"20"},{default:w((()=>[k(s,{icon:"album"})])),_:1}),T(t).getPlaySongData.album?(g(),V("span",bs,B("string"==typeof T(t).getPlaySongData.album?T(t).getPlaySongData.album:T(t).getPlaySongData.album.name),1)):(g(),V("span",Ss,"未知专辑"))])])],512),[[Te,T(q)&&T(D)||"record"===T(c)&&T(D)]]),k(m,{cursorShow:T(p)},null,8,["cursorShow"])],2)]))])),_:1}),k(h),T(u)?(g(),f(y,{key:0,show:!T(p),height:60},null,8,["show"])):U("",!0)],36)):U("",!0)])),_:1})}}},[["__scopeId","data-v-f7341e2f"]]),Ds={class:"slider-tooltip"},Cs={class:"player"},Ls={class:"info"},Ms=(e=>(qe("data-v-8dd887a1"),e=e(),De(),e))((()=>R("div",{class:"cover-loading"},[R("img",{class:"loading-img",src:Gl,alt:"loading-img"})],-1))),Ps={class:"song-info"},$s={class:"name"},xs={key:0,class:"artist"},Is={key:1,class:"ar"},zs={class:"time hidden"},Es={class:"slider-content"},Hs=ml({__name:"MainControl",setup(e){const a=ne(),t=Nt(),l=Wt(),s=Gt(),o=Yt(),{playList:r,playListOld:n,playSongLyric:i}=d(l),{playLoading:c,playState:u,playListShow:p,showPlayBar:y,showFullPlayer:v,playSongLyricIndex:_,playTimeData:b,playRate:S,playVolume:q,playIndex:C,playMode:L,playSongMode:M,playHeartbeatMode:P}=d(s),{showYrc:$,bottomLyricShow:x,showSider:I,showPlaylistCount:z,showSpectrums:E,playCoverType:H}=d(o),K=m(null),X=m(null),ee=(e,a=!1)=>()=>D(W,null,{default:()=>D(ul,{icon:e,isSpecial:a})}),te=m([{label:"单曲循环",key:"repeat",icon:ee("repeat-song",!0)},{label:"列表循环",key:"normal",icon:ee("repeat-list",!0)},{label:"随机播放",key:"random",icon:ee("shuffle",!0)}]),le=O((()=>[{key:"add-pl",label:"添加到歌单",props:{onClick:()=>{K.value?.openAddToPlaylist(l.getPlaySongData?.id)}},icon:ee("playlist-add")},{key:"comment",label:"查看评论",props:{onClick:()=>{a.push({path:"/comment",query:{id:l.getPlaySongData?.id}})}},icon:ee("comment-text")},{key:"mv",label:"观看 MV",show:!(!l.getPlaySongData?.mv||0===l.getPlaySongData?.mv),props:{onClick:()=>{a.push({path:"/videos-player",query:{id:l.getPlaySongData?.mv}})}},icon:ee("video")},{key:"download",label:"下载歌曲",show:!l.getPlaySongData?.path,props:{onClick:()=>{X.value?.openDownloadModal(l.getPlaySongData)}},icon:ee("download")}])),se=O((()=>ja(b.value.duration/100*b.value.bar))),oe=()=>{re(b.value?.bar),Mt()},re=e=>{if(b.value?.duration){const a=b.value.duration/100*e;zt(a)}},ie=()=>{if("dj"===L.value)return $message.warning("当前为电台模式，无法开启播放器"),!1;E.value&&"undefined"!=typeof $player&&At($player),v.value=!0},ce=dl((async(e,a)=>{if("fmTrash"===e)return await l.setPersonalFmToTrash(a),!0;Dt(e,!0)}),300),ue=e=>{const a={normal:"random",random:"shuffle",shuffle:"normal"};P.value&&(P.value=!1,C.value=0,r.value=n.value,n.value=[]),M.value=e||(a[M.value]||"normal")},de=e=>{const a=e.deltaY;a>0?q.value>=0&&(q.value=Math.max(q.value-.05,0)):a<0&&q.value<1&&(q.value=Math.min(q.value+.05,1)),$t(q.value)};return h((()=>P.value),(e=>$message.success(`已${e?"开启":"退出"}心动模式`))),(e,s)=>{const o=ge,n=Z,d=Pe,m=ae,h=be,v=Se,D=$e,C=Ll,E=Sl,O=xe;return g(),f(O,{class:G({"main-player":!0,"show-bar":T(l).getPlaySongData?.id&&T(y),"no-sider":!T(I)}),"content-style":"padding: 0",onDblclick:Y(ie,["stop"])},{default:w((()=>[k(T(_e),{modelValue:T(b).bar,"onUpdate:modelValue":s[0]||(s[0]=e=>T(b).bar=e),"use-keyboard":!1,tooltip:"active",width:"100%",height:"3px",class:"slider",onDragStart:s[1]||(s[1]=e=>T(Lt)("pause")),onDragEnd:oe,onClick:s[2]||(s[2]=Y((e=>re(T(b).bar)),["stop"]))},{tooltip:w((()=>[R("div",Ds,B(T(se)),1)])),_:1},8,["modelValue"]),R("div",Cs,[R("div",Ls,[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),V("div",{key:`${T(l).getPlaySongData?.id}-${T(H)}`,class:G(["cover",T(H)]),onClick:Y(ie,["stop"])},[k(o,{src:T(l).getPlaySongData?.coverSize?.s||T(l).getPlaySongData?.cover||T(l).getPlaySongData?.localCover,style:A({animationPlayState:T(u)?"running":"paused"}),class:"cover-img","preview-disabled":"",onLoad:s[3]||(s[3]=e=>{e.target.style.opacity=1})},{placeholder:w((()=>[Ms])),_:1},8,["src","style"]),k(T(W),{class:"open",size:"30"},{default:w((()=>[k(T(ul),{icon:"pan-zoom-rounded"})])),_:1})],2))])),_:1}),R("div",Ps,[R("div",$s,[k(n,{class:"text"},{default:w((()=>[F(B(T(l).getPlaySongData?.name||"未知曲目"),1)])),_:1}),"dj"!==T(L)?(g(),f(T(W),{key:0,class:"favorite",onClick:s[4]||(s[4]=Y((e=>T(t).changeLikeList(T(l).getPlaySongData?.id,!T(t).getSongIsLike(T(l).getPlaySongData?.id),T(l).getPlaySongData?.path)),["stop"])),onDblclick:s[5]||(s[5]=Y((()=>{}),["stop"]))},{default:w((()=>[k(T(ul),{icon:T(t).getSongIsLike(T(l).getPlaySongData?.id)?"favorite-rounded":"favorite-outline-rounded"},null,8,["icon"])])),_:1})):U("",!0),"dj"===T(L)||T(l).getPlaySongData?.path?U("",!0):(g(),f(d,{key:1,options:T(le),"show-arrow":!0,placement:"top-start",trigger:"click"},{default:w((()=>[k(T(W),{depth:"3",size:"20",class:"more",onClick:s[6]||(s[6]=Y((()=>{}),["stop"])),onDblclick:s[7]||(s[7]=Y((()=>{}),["stop"]))},{default:w((()=>[k(T(ul),{icon:"format-list-bulleted"})])),_:1})])),_:1},8,["options"]))]),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(T(u)&&T(x)&&"dj"!==T(L)||!T(i).lrc?.length)&&-1!==T(_)?(g(),V("div",{key:T(_),class:"lrc"},[T(i).hasYrc&&T($)?(g(),f(n,{key:0,class:"lrc-text",depth:3},{default:w((()=>[(g(!0),V(j,null,Q(T(i).yrc[T(_)]?.content,((e,a)=>(g(),V("span",{key:a,class:G({space:e.endsWithSpace})},B(e.content),3)))),128))])),_:1})):(g(),f(n,{key:1,class:"lrc-text",depth:3},{default:w((()=>[F(B(T(i).lrc[T(_)]?.content),1)])),_:1}))])):(g(),V("div",xs,[T(l).getPlaySongData?.artists&&Array.isArray(T(l).getPlaySongData.artists)?(g(!0),V(j,{key:0},Q(T(l).getPlaySongData.artists,(e=>(g(),f(n,{key:e.id,class:"ar",onClick:Y((t=>T(a).push(`/artist?id=${e.id}`)),["stop"])},{default:w((()=>[F(B(e.name),1)])),_:2},1032,["onClick"])))),128)):"dj"===T(L)?(g(),V("div",Is,"电台节目")):(g(),f(n,{key:2,class:"ar"},{default:w((()=>[F(B(T(l).getPlaySongData?.artists||"未知艺术家"),1)])),_:1}))]))])),_:1})])]),R("div",{class:"control",onDblclick:s[11]||(s[11]=Y((()=>{}),["stop"]))},[k(N,{name:"fade",mode:"out-in"},{default:w((()=>["fm"!==T(L)?(g(),f(T(W),{key:0,class:"play-prev",size:"24",onClick:s[8]||(s[8]=Y((e=>T(ce)("prev")),["stop"]))},{default:w((()=>[k(T(ul),{icon:"skip-previous-rounded"})])),_:1})):(g(),f(T(W),{key:1,class:"play-prev",size:"24",onClick:s[9]||(s[9]=Y((e=>T(ce)("fmTrash",T(l).getPlaySongData.id)),["stop"]))},{default:w((()=>[k(T(ul),{size:"18",icon:"thumb-down"})])),_:1}))])),_:1}),k(m,{loading:T(c),focusable:!1,tag:"div",type:"primary",class:"play-control",strong:"",secondary:"",circle:"",onClick:Y(T(Mt),["stop"])},{icon:w((()=>[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),f(T(W),{key:T(u),size:"28"},{default:w((()=>[k(T(ul),{icon:T(u)?"pause-rounded":"play-arrow-rounded"},null,8,["icon"])])),_:1}))])),_:1})])),_:1},8,["loading","onClick"]),k(T(W),{class:"play-next",size:"24",onClick:s[10]||(s[10]=Y((e=>T(ce)("next")),["stop"]))},{default:w((()=>[k(T(ul),{icon:"skip-next-rounded"})])),_:1})],32),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[(g(),V("div",{key:T(L),class:"menu"},[R("div",zs,[k(n,{class:"played",depth:"3"},{default:w((()=>[F(B(T(b).played),1)])),_:1}),k(n,{depth:"3"},{default:w((()=>[F(B(T(b).durationTime),1)])),_:1})]),"fm"!==T(L)?(g(),f(d,{key:0,options:T(te),"show-arrow":!0,trigger:"hover",onSelect:ue},{default:w((()=>[k(T(W),{class:"mode hidden",size:"22",onClick:s[12]||(s[12]=Y((e=>ue(!1)),["stop"])),onDblclick:s[13]||(s[13]=Y((()=>{}),["stop"]))},{default:w((()=>[k(T(ul),{icon:T(P)?"heartbit":"normal"===T(M)?"repeat-list":"random"===T(M)?"shuffle":"repeat-song",isSpecial:""},null,8,["icon"])])),_:1})])),_:1},8,["options"])):U("",!0),k(v,{"show-arrow":!1,trigger:"hover",placement:"top-end",raw:""},{trigger:w((()=>[R("div",{class:"speed hidden",onClick:s[14]||(s[14]=Y((e=>(S.value=1,T(Pt)(1))),["stop"])),onDblclick:s[15]||(s[15]=Y((()=>{}),["stop"]))},[1===T(S)?(g(),f(T(W),{key:0,size:"22"},{default:w((()=>[k(T(ul),{icon:"speed-rounded"})])),_:1})):(g(),f(n,{key:1,class:"speed-text"},{default:w((()=>[F(B(T(S))+"x",1)])),_:1}))],32)])),default:w((()=>[R("div",Es,[k(h,{value:T(S),"onUpdate:value":[s[16]||(s[16]=e=>J(S)?S.value=e:null),T(Pt)],tooltip:!1,min:.1,max:2,step:.1,marks:{.1:"减速",1:"正常",2:"加速"},style:{width:"220px"}},null,8,["value","onUpdate:value"])])])),_:1}),k(v,{trigger:"hover","show-arrow":!1,raw:""},{trigger:w((()=>[k(T(W),{class:"volume hidden",size:"22",onClick:Y(T(It),["stop"]),onWheel:de},{default:w((()=>[0===T(q)?(g(),f(T(ul),{key:0,icon:"no-sound-rounded"})):T(q)>0&&T(q)<.4?(g(),f(T(ul),{key:1,icon:"volume-mute-rounded"})):T(q)>=.4&&T(q)<.7?(g(),f(T(ul),{key:2,icon:"volume-down-rounded"})):(g(),f(T(ul),{key:3,icon:"volume-up-rounded"}))])),_:1},8,["onClick"])])),default:w((()=>[R("div",{style:{padding:"10px 0",width:"50px"},class:"slider-content hidden",onWheel:de},[k(h,{value:T(q),"onUpdate:value":[s[17]||(s[17]=e=>J(q)?q.value=e:null),T($t)],tooltip:!1,min:0,max:1,step:.01,vertical:"",style:{height:"120px"}},null,8,["value","onUpdate:value"]),k(n,{class:"slider-num",depth:"3"},{default:w((()=>[F(B((100*T(q)).toFixed(0))+"%",1)])),_:1})],32)])),_:1}),"fm"!==T(L)?(g(),f(D,{key:1,value:T(r)?.length??0,show:T(z),max:999,style:A({marginRight:T(z)?"12px":null}),class:"playlist"},{default:w((()=>[k(T(W),{size:"22",onClick:s[18]||(s[18]=Y((e=>p.value=!T(p)),["stop"]))},{default:w((()=>[k(T(ul),{icon:"queue-music-rounded"})])),_:1})])),_:1},8,["value","show","style"])):U("",!0)]))])),_:1})]),k(C,{ref_key:"addPlaylistRef",ref:K},null,512),k(E,{ref_key:"downloadSongRef",ref:X},null,512)])),_:1},8,["class"])}}},[["__scopeId","data-v-8dd887a1"]]),Vs=ml({__name:"MainLayout",setup(e){const a=Wt(),t=Gt(),l=Yt(),{showPlayBar:s}=d(t),{showSider:o}=d(l);return(e,t)=>{const l=ul,r=W,n=He,i=Ie("router-view");return g(),V("main",{id:"main-layout",class:G(["main-layout",{"no-sider":!T(o)}])},[k(n,{bottom:T(a).getPlaySongData?.id&&T(s)?110:50,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},{default:w((()=>[k(r,{size:"26"},{default:w((()=>[k(l,{icon:"chevron-up"})])),_:1})])),_:1},8,["bottom"]),k(i,{class:"main-router"},{default:w((({Component:e})=>[(g(),f(ze,null,[k(N,{name:"router",mode:"out-in"},{default:w((()=>[(g(),f(Ee(e)))])),_:2},1024)],1024))])),_:1})],2)}}},[["__scopeId","data-v-18bfbaff"]]),As={__name:"CoverDropdown",setup(e,{expose:a}){const t=Nt(),l=m(0),s=m(0),o=m(!1),r=m(null),n=(e,a,t=0)=>()=>D(W,{size:a??"18",style:{transform:`translateX(2px) translateY(${t}px)`}},(()=>D(ul,{icon:e})));return a({openDropdown:(e,a,i)=>{if(e.preventDefault(),!i)return!1;"like-songs"===i&&(i=t.getUserLikePlaylistId),o.value=!1,K().then((()=>{r.value=[{key:"copy",label:"复制分享链接",props:{onClick:()=>{da(`https://music.163.com/#/${a}?id=${i}`)}},icon:n("content-copy",20)},{key:"open",label:"打开源页面链接",props:{onClick:()=>{window.open(`https://music.163.com/#/${a}?id=${i}`)}},icon:n("link",20)}],o.value=!0,l.value=e.clientX,s.value=e.clientY}))}}),(e,a)=>{const t=Pe;return g(),f(t,{x:T(l),y:T(s),show:T(o),options:T(r),class:"cover-list-dropdown",placement:"bottom-start",trigger:"manual",size:"large",onSelect:a[0]||(a[0]=e=>o.value=!1),onClickoutside:a[1]||(a[1]=e=>o.value=!1)},null,8,["x","y","show","options"])}}},Rs=ml({__name:"Menu",setup(a){const t=ne(),l=Nt(),s=Wt(),o=Gt(),r=Yt(),{siderShowCover:n}=d(r),{asideMenuCollapsed:i,showSider:c,showFullPlayer:u,playIndex:p,playMode:y,playHeartbeatMode:f}=d(o),{userData:w,userLikeData:_,userLoginStatus:b}=d(l),{playList:S,playListOld:q,playSongData:C,privateFmSong:L}=d(s),M=m(null),P=m(null),$=(e,a)=>()=>D(W,{size:a},{default:()=>D(ul,{icon:e},null)}),x=m({label:()=>D("div",{class:"user-list"},[D("span",{class:"name"},["创建的歌单"]),va()?D(ae,{class:"add",size:"small",type:"tertiary",round:!0,strong:!0,secondary:!0,renderIcon:$("add"),onclick:e=>{e.stopPropagation(),P.value?.openCreatePlaylist()}}):null]),key:"user-playlists",children:[]}),I=m({label:()=>D("div",{class:"user-list"},[D("span",{class:"name"},["收藏的歌单"])]),key:"favorite-playlists",children:[]}),z=m(null),E=m(t.currentRoute.value.name??"home"),H=O((()=>[{type:"group",label:"在线音乐",key:"online",children:[],show:!i.value},{label:()=>D(Ve,{to:{name:"home"}},(()=>["个性推荐"])),key:"home",icon:$("home")},{label:()=>D(Ve,{to:{name:"discover"}},(()=>["发现音乐"])),key:"discover",icon:$("discover-fill")},{label:"私人漫游",key:"fm",icon:$("radio")},{label:()=>D(Ve,{to:{name:"dj-hot"}},(()=>["播客电台"])),key:"dj-hot",icon:$("record")},{key:"divider-1",type:"divider"},{type:"group",label:"我的音乐",key:"user",children:[],show:!i.value},{label:()=>D(Ve,{to:{path:"/like-songs"},class:"user-playlist"},(()=>[D("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},[D("span",null,["喜欢的音乐"]),D(ae,{size:"small",type:"tertiary",round:!0,strong:!0,secondary:!0,class:i.value?"heart-rate-btn collapsed":"heart-rate-btn",renderIcon:$("heartbit","26"),onclick:()=>{U()}})])])),key:"like-songs",icon:$("favorite-rounded")},{label:()=>D(Ve,{to:{name:"like"}},(()=>["我的收藏"])),key:"like",icon:$("star")},{label:()=>D(Ve,{to:{name:"local"}},(()=>["本地歌曲"])),key:"local",show:ia.electron(),icon:$("folder-open")},{label:()=>D(Ve,{to:{name:"cloud"}},(()=>["我的云盘"])),key:"cloud",icon:$("cloud")},{label:()=>D(Ve,{to:{name:"history"}},(()=>["最近播放"])),key:"history",icon:$("history")},{key:"divider-2",type:"divider"},{...x.value,show:!i.value},{...I.value,show:!i.value}])),A=e=>{if(!va()||!e?.length)return x.value.children=[],I.value.children=[],!1;const a=w.value?.userId,l=e.filter((e=>e.userId===a)),s=e.filter((e=>e.userId!==a));x.value.children=l.slice(1).map((e=>({label:()=>n.value?D("div",{class:"user-pl-cover",onclick:()=>{t.push({path:"/playlist",query:{id:e.id}})}},[D(Ae,{src:e?.coverSize?.s,fallbackSrc:"/images/pic/album.jpg?assest"}),D(Z,null,(()=>[e.name]))]):D(Ve,{to:{path:"/playlist",query:{id:e.id}},class:"user-playlist"},(()=>[D(Z,null,(()=>[e.name]))])),key:e.id,icon:n.value?null:$("queue-music-rounded")}))),I.value.children=s.map((e=>({label:()=>n.value?D("div",{class:"user-pl-cover",onclick:()=>{t.push({path:"/playlist",query:{id:e.id}})}},[D(Ae,{src:e?.coverSize?.s,fallbackSrc:"/images/pic/album.jpg?assest"}),D(Z,null,(()=>[e.name]))]):D(Ve,{to:{path:"/playlist",query:{id:e.id}},class:"user-playlist"},(()=>[D(Z,null,(()=>[e.name]))])),key:e.id,icon:n.value?null:$("queue-music-rounded")})))},R=async e=>{if("fm"===e){if(!L.value||!Object.keys(L.value)?.length)return $message.error("开启私人漫游出错，请重试");"fm"===y.value?Lt():(y.value="fm",await Tt(!0)),u.value=!0,$message.info("已开启私人漫游",{icon:$("radio")})}if(e)if(["search","videos-player","playlist","like-songs"].includes(e)){const a=()=>{const e=Number(t.currentRoute.value.query.id||0),a=_.value.playlists.find((a=>a.id===e));E.value=a?e:"discover"};switch(e){case"videos-player":E.value="videos";break;case"playlist":a();break;case"like-songs":E.value="like-songs";break;default:E.value="discover"}}else E.value=e;else E.value="home";z.value?.showOption(e)},U=dl((async()=>{try{if(!va())return!1;if(f.value)return Lt();const a=_.value.songs,t=C.value?.id,s=l.getUserLikePlaylistId;if(0===a?.length||!s)return $message.warning("心动模式开启失败，请先收藏一些歌曲");const o=-1===a.findIndex((e=>e===t))?a[0]:t;$message.loading("心动模式开启中");const r=await((a,t,l)=>e({method:"GET",url:"/playmode/intelligence/list",params:{id:a,pid:t,sid:l,timestamp:(new Date).getTime()}}))(o,s);if(200===r.code){const e=Za(r.data,"song");y.value="normal",f.value=!0,q.value=S.value,S.value=e,C.value=e[0],p.value=0,Tt(!0)}else $message.error("心动模式开启出错，请重试")}catch(a){console.error("心动模式开启出错：",a),$message.error("心动模式开启出错")}}),300);return h((()=>t.currentRoute.value),(e=>{const a=e.matched[0]?.name??e?.name;R(a)})),h([()=>_.value.playlists,()=>b.value,()=>n.value],(()=>A(_.value.playlists))),v((()=>{A(_.value.playlists)})),(e,a)=>{const t=Re,l=As,s=ql;return g(),V(j,null,[k(t,{ref_key:"mainMenuRef",ref:z,value:T(E),"onUpdate:value":[a[0]||(a[0]=e=>J(E)?E.value=e:null),R],class:G(["main-menu",{cover:T(n)}]),"root-indent":T(c)?36:26,indent:0,collapsed:T(i).value,defaultExpandedKeys:["user-playlists","favorite-playlists"],"collapsed-width":64,"collapsed-icon-size":22,options:T(H),onContextmenu:a[1]||(a[1]=Y((()=>{}),["stop"]))},null,8,["value","class","root-indent","collapsed","options"]),k(l,{ref_key:"coverDropdownRef",ref:M},null,512),k(s,{ref_key:"createPlaylistRef",ref:P},null,512)],64)}}},[["__scopeId","data-v-05c9d767"]]),js={class:"title-bar"},Us=ml({__name:"TitleBar",setup(e){const a=Yt(),{closeTip:t,closeType:l}=d(a),s=m(!1),o=m(null),r=m(!1),n=m(!1),i=()=>{electron.ipcRenderer.send("window-min")},c=()=>{electron.ipcRenderer.send("window-maxOrRestore")},u=()=>{electron.ipcRenderer.send("window-close")},p=()=>{const e=document.getElementById("closeTipModal");e&&(e.style.display="none"),o.value=setTimeout((()=>{electron.ipcRenderer.send("window-hide")}),100)},h=()=>{t.value?r.value=!0:"close"===l.value?u():p()},y=e=>{const a={cancel:()=>{n.value=!1},hide:()=>{n.value&&(t.value=!1),l.value="hide",p()},close:()=>{n.value&&(t.value=!1),l.value="close",u()}}[e];a&&a(),r.value=!1};return electron.ipcRenderer.on("windowState",((e,a)=>{s.value=a})),re((()=>{clearTimeout(o.value)})),(e,a)=>{const t=je,l=ul,o=W,u=ae,d=Z,m=he,p=ue,v=me;return g(),V("div",js,[k(t,{vertical:""}),k(u,{focusable:!1,class:"bar-icon",tag:"div",style:{"margin-left":"0"},quaternary:"",circle:"",onClick:i},{icon:w((()=>[k(o,{depth:2},{default:w((()=>[k(l,{icon:"window-minimize"})])),_:1})])),_:1}),k(u,{focusable:!1,class:"bar-icon",tag:"div",quaternary:"",circle:"",onClick:c},{icon:w((()=>[k(o,{depth:2},{default:w((()=>[k(l,{icon:T(s)?"window-restore":"window-maximize"},null,8,["icon"])])),_:1})])),_:1}),k(u,{focusable:!1,class:"bar-icon",tag:"div",quaternary:"",circle:"",onClick:h},{icon:w((()=>[k(o,{depth:2},{default:w((()=>[k(l,{icon:"window-close"})])),_:1})])),_:1}),k(v,{id:"closeTipModal",show:T(r),"onUpdate:show":a[4]||(a[4]=e=>J(r)?r.value=e:null),"auto-focus":!1,"mask-closable":!1,bordered:!1,"close-on-esc":!1,closable:!1,preset:"card",title:"关闭软件","transform-origin":"center"},{footer:w((()=>[k(p,{justify:"space-between"},{default:w((()=>[k(u,{strong:"",secondary:"",onClick:a[1]||(a[1]=e=>y("cancel"))},{default:w((()=>[F(" 取消 ")])),_:1}),k(p,{class:"type"},{default:w((()=>[k(u,{strong:"",secondary:"",onClick:a[2]||(a[2]=e=>y("close"))},{default:w((()=>[F(" 退出 ")])),_:1}),k(u,{type:"primary",strong:"",secondary:"",onClick:a[3]||(a[3]=e=>y("hide"))},{default:w((()=>[F(" 最小化 ")])),_:1})])),_:1})])),_:1})])),default:w((()=>[k(d,{class:"close-tip"},{default:w((()=>[F("确认关闭软件吗？")])),_:1}),k(m,{checked:T(n),"onUpdate:checked":a[0]||(a[0]=e=>J(n)?n.value=e:null)},{default:w((()=>[F(" 记住且不再询问 ")])),_:1},8,["checked"])])),_:1},8,["show"])])}}},[["__scopeId","data-v-96ff3d66"]]),Os=()=>({textRule:{required:!0,message:"请填写必要信息",trigger:"blur"},numberRule:{type:"number",required:!0,message:"请填写必要信息",trigger:"blur"},emailRule:{required:!0,validator:(e,a)=>a?!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||new Error("请输入正确的电子邮箱"):new Error("请输入电子邮箱"),trigger:["input","blur"]},mobileRule:{key:"phone",required:!0,validator:(e,a)=>a?!!/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(a)||new Error("请输入正确的手机号码"):new Error("请输入手机号码"),trigger:["input","blur"]}}),Zs={class:"login-phone"},Fs=ml({__name:"LoginPhone",emits:["setLoginData"],setup(a,{emit:t}){const l=t,{numberRule:s,mobileRule:o}=Os(),r=m(null),n=m({phone:null,captcha:null}),i={phone:o,captcha:s},c=m(null),u=m("获取验证码"),d=m(!1),p=a=>{clearInterval(c.value),r.value?.validate((async t=>{if(t)$message.error("请检查你的输入");else{const t=await(a=>e({method:"GET",noCookie:!0,url:"/captcha/sent",params:{phone:a,timestamp:(new Date).getTime()}}))(a);if(200==t.code){$message.success("验证码发送成功");let e=60;d.value=!0,c.value=setInterval((()=>{e--,u.value=e+"s",0===e&&(clearInterval(c.value),u.value="重新获取",d.value=!1)}),1e3)}else $message.error("验证码发送失败，请重试")}}),(e=>"phone"===e?.key))},h=a=>{try{a.preventDefault(),r.value?.validate((async a=>{if(a)$message.error("请检查你的输入");else{const a=await(t=n._value.phone,s=n._value.captcha,e({method:"GET",noCookie:!0,url:"/captcha/verify",params:{phone:t,captcha:s,timestamp:(new Date).getTime()}}));if(200==a.code){const a=await((a,t)=>e({method:"GET",noCookie:!0,url:"/login/cellphone",params:{phone:a,captcha:t,timestamp:(new Date).getTime()}}))(n._value.phone,n._value.captcha);200===a.code&&(a.cookie=a.cookie.replaceAll(" HTTPOnly",""),a.cookie&&a.cookie.includes("MUSIC_U")?l("setLoginData",a):$message.error("登录出错，请重试"))}}var t,s}))}catch(t){n.value.captcha=null,console.error("登录出错：",t),$message.error("登录出错，请重试")}};return(e,a)=>{const t=ul,l=W,s=pe,o=Ue,c=Oe,m=ae,y=Ze;return g(),V("div",Zs,[k(y,{ref_key:"phoneFormRef",ref:r,model:T(n),rules:i,"show-label":!1,class:"phone-form"},{default:w((()=>[k(o,{path:"phone"},{default:w((()=>[k(s,{value:T(n).phone,"onUpdate:value":a[0]||(a[0]=e=>T(n).phone=e),placeholder:"请输入手机号"},{prefix:w((()=>[k(l,null,{default:w((()=>[k(t,{icon:"phone"})])),_:1})])),_:1},8,["value"])])),_:1}),k(o,{path:"captcha"},{default:w((()=>[k(c,{value:T(n).captcha,"onUpdate:value":a[1]||(a[1]=e=>T(n).captcha=e),"show-button":!1,style:{width:"100%"},placeholder:"请输入短信验证码"},{prefix:w((()=>[k(l,null,{default:w((()=>[k(t,{icon:"password"})])),_:1})])),_:1},8,["value"]),k(m,{disabled:T(d),type:"primary",style:{"margin-left":"12px"},onClick:a[2]||(a[2]=e=>p(T(n).phone))},{default:w((()=>[F(B(T(u)),1)])),_:1},8,["disabled"])])),_:1}),k(o,null,{default:w((()=>[k(m,{style:{width:"100%"},type:"primary",onClick:h},{default:w((()=>[F(" 登录 ")])),_:1})])),_:1})])),_:1},8,["model"])])}}},[["__scopeId","data-v-3bf95252"]]),Bs={class:"login-qr"},Ns={class:"qr-img"},Gs=ml({__name:"LoginQRCode",emits:["setLoginData"],setup(a,{emit:t}){const l=t,s=m(null),o=m(null),r=m(801),n={800:"二维码过期，即将重试",801:"请打开云音乐 APP 扫码登录",802:"扫描成功，请在客户端确认登录",803:"登录成功"},i=async()=>{try{clearInterval(o.value),r.value=801;const a=await e({method:"GET",noCookie:!0,url:"/login/qr/key",params:{timestamp:(new Date).getTime()}});s.value=`https://music.163.com/login?codekey=${a.data.unikey}`,c(a.data.unikey)}catch(a){clearInterval(o.value),console.error("二维码获取失败：",a)}},c=a=>{try{clearInterval(o.value),o.value=setInterval((()=>{(a=>e({method:"GET",noCookie:!0,url:"/login/qr/check",params:{key:a,timestamp:(new Date).getTime()}}))(a).then((e=>{switch(e.code){case 800:r.value=800,i();break;case 801:r.value=801;break;case 802:r.value=802;break;case 803:clearInterval(o.value),r.value=803,e.code=200,e.cookie=e.cookie.replaceAll(" HTTPOnly",""),e.cookie&&e.cookie.includes("MUSIC_U")?l("setLoginData",e):($message.error("登录出错，请重试"),i())}}))}),1e3)}catch(t){clearInterval(o.value),console.error("登录出错：",t)}};return y((()=>{i()})),re((()=>{clearInterval(o.value)})),(e,a)=>{const t=Fe,l=Be,o=ul,c=W,u=Z;return g(),V("div",Bs,[R("div",Ns,[k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(s)?(g(),f(t,{key:0,value:T(s),class:G(["qr",802===T(r)?"hidden":null]),size:156,"icon-size":30,"icon-src":"/images/icons/favicon.png?asset","error-correction-level":"H"},null,8,["value","class"])):(g(),f(l,{key:1,class:"qr"}))])),_:1}),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[802===T(r)?(g(),V("div",{key:0,class:"refresh",onClick:i},[k(c,{size:"22"},{default:w((()=>[k(o,{icon:"refresh"})])),_:1}),k(u,{depth:"3"},{default:w((()=>[F("重试")])),_:1})])):U("",!0)])),_:1})]),k(u,{class:"tip",depth:"3"},{default:w((()=>[F(B(n[T(r)]),1)])),_:1})])}}},[["__scopeId","data-v-0e9a7593"]]),Ys=""+new URL("../images/icons/favicon.png?asset",import.meta.url).href,Ws=async()=>{const a=Yt();try{if(!va())return!1;const a=(new Date).toLocaleDateString();if(sessionStorage.getItem("lastSignInDate")!==a){const t=await((a=0)=>e({method:"GET",url:"/daily_signin",params:{type:a,timestamp:(new Date).getTime()}}))(1);if(sessionStorage.setItem("lastSignInDate",a),400===t.status)return console.log("重复签到");$notification.success({content:"签到通知",meta:"🎉 每日签到成功",duration:3e3})}}catch(t){if(400===t.request.status)return sessionStorage.setItem("lastSignInDate",(new Date).toLocaleDateString()),!1;a.autoSignIn=!1,console.error("签到过程中发生错误：",t),$notification.error({content:"签到通知",meta:"签到过程中发生错误，已关闭自动签到，详细信息可查看控制台输出，请及时向开发者报告",duration:8e3})}},Qs={class:"login-content"},Js=R("div",{class:"title"},[R("img",{class:"logo",src:Ys,alt:"logo"})],-1),Ks={__name:"Login",setup(a,{expose:t}){const l=Nt(),s=Yt(),{userData:o}=d(l),{autoSignIn:r}=d(s),n=m(!1),i=()=>{va()?$dialog.warning({title:"退出登录",content:"确认退出当前用户登录？",positiveText:"登出",negativeText:"取消",onPositiveClick:()=>{ga()}}):n.value=!0},c=async e=>{if(!e)return!1;200===e.code?(n.value=!1,e.cookie.split(";;").map((e=>{document.cookie=e;const a=e.split(";")[0].split("=");localStorage.setItem(`cookie-${a[0]}`,a[1])})),await l.setUserProfile(),await l.setDailySongsData(),r.value&&await Ws(),l.userLoginStatus=!0,$message.success("登录成功")):$message.error(e.msg??e.message??"账号或密码错误，请重试")},u=()=>{const a=Date.now(),t=new Date(localStorage.getItem("lastRefreshDate")).getTime();(a-t>=2592e5||!t)&&e({method:"GET",url:"/login/refresh",params:{timestamp:(new Date).getTime()}}).then((e=>{200===e.code?localStorage.setItem("lastRefreshDate",new Date(a).toLocaleDateString()):console.error("刷新登录失败")}))},p=async()=>{try{const a=await e({method:"GET",url:"/login/status",params:{timestamp:(new Date).getTime()}});a.data?.profile?h(a.data?.profile):Object.keys(o.value.detail)?.length&&v()}catch(a){console.error("检查登录状态失败：",a)}},h=async e=>{u(),l.userLoginStatus=!0,await l.setUserProfile()},v=()=>{ga(),l.userLoginStatus=!1,n.value=!0,$message.warning("登录已过期，请重新登录",{duration:2e3})};return t({openLoginModal:i}),y((()=>{p(),window.$changeLogin=i})),(e,a)=>{const t=Gs,l=Ne,s=Fs,o=Ge,r=ul,i=W,u=ae,d=me;return g(),f(d,{show:T(n),"onUpdate:show":a[1]||(a[1]=e=>J(n)?n.value=e:null),"auto-focus":!1,"mask-closable":!1,bordered:!1,"close-on-esc":!1,closable:!1,style:{width:"400px"},preset:"card","transform-origin":"center"},{default:w((()=>[R("div",Qs,[Js,k(o,{class:"login-tabs","default-value":"login-qr",type:"segment",animated:""},{default:w((()=>[k(l,{name:"login-qr",tab:"扫码登录"},{default:w((()=>[k(t,{onSetLoginData:c})])),_:1}),k(l,{name:"login-phone",tab:"验证码登录"},{default:w((()=>[k(s,{onSetLoginData:c})])),_:1})])),_:1}),k(u,{focusable:!1,class:"close",strong:"",secondary:"",round:"",onClick:a[0]||(a[0]=e=>(n.value=!1,T(ga)(!1)))},{icon:w((()=>[k(i,{depth:2},{default:w((()=>[k(r,{icon:"window-close"})])),_:1})])),_:1})])])),_:1},8,["show"])}}},Xs=""+new URL("../images/pic/vip.png?assest",import.meta.url).href,eo={class:"avatar"},ao={class:"user-data"},to={key:0,class:"vip",src:Xs},lo=ml({__name:"UserData",setup(e){const a=Nt(),t=ne(),l=Yt(),{userLoginStatus:s,userData:o,userLikeData:r}=d(a),{themeType:n}=d(l),i=m(!1),c=m(null),u=e=>()=>D(W,null,(()=>D(ul,{icon:e}))),p=(e,a,l=1e3)=>D("div",{className:"user-pl",onclick:()=>{i.value=!1,t.push("/like/"+("歌单"===a?"playlists?":"专辑"===a?"albums":"artists"))}},[D(Ye,{from:0,to:e,duration:l}),D(Z,{depth:3,style:{fontSize:"12px"}},(()=>[a]))]),h=()=>{const e=!!sessionStorage.getItem("lastSignInDate");return D("div",{className:"nav-user-data"},s.value?[D("div",{className:"nav-user-num"},[p(r.value.playlists?.length||0,"歌单"),p(r.value.albums?.length||0,"专辑"),p(r.value.artists?.length||0,"歌手")]),D("div",{className:"nav-user-silder"},[D(ae,{round:!0,renderIcon:u(e?"calendar-check":"calendar-badge"),disabled:e,onclick:async()=>{i.value=!1,await Ws()}},(()=>[e?"今日已签到":"立即签到"]))])]:D(Z,{depth:3},(()=>["登录后可享受完整功能"])))},y=O((()=>[{key:"header",type:"render",render:h},{type:"divider",key:"d1"},{label:"dark"===n.value?"浅色模式":"深色模式",key:"darkOrlight",icon:u("dark"===n.value?"round-wb-sunny":"round-dark-mode")},{label:"全局设置",key:"setting",icon:u("round-settings")},{label:s.value?"退出登录":"登录账号",key:"logoutOrlogin",icon:u(s.value?"logout":"login")}])),v=e=>{switch(i.value=!1,e){case"darkOrlight":l.setThemeType("light"===n.value?"dark":"light");break;case"logoutOrlogin":c.value.openLoginModal();break;case"setting":t.push("/setting")}};return(e,a)=>{const t=Ae,l=Pe,r=Ks;return g(),V(j,null,[(g(),f(l,{key:T(s),"show-arrow":!0,show:T(i),options:T(y),placement:"bottom-end",onSelect:v,onClickoutside:a[1]||(a[1]=e=>i.value=!1)},{default:w((()=>[R("div",{class:"user",style:A({pointerEvents:T(i)?"none":"auto"}),onClick:a[0]||(a[0]=e=>i.value=!T(i))},[R("div",eo,[T(s)?(g(),f(t,{key:0,src:T(o).detail?.profile?.avatarUrl,round:""},null,8,["src"])):(g(),f(t,{key:1,round:""},{default:w((()=>[k(T(W),{depth:"3"},{default:w((()=>[k(T(ul),{icon:"account-circle"})])),_:1})])),_:1}))]),R("div",ao,[(g(),f(T(Z),{key:T(s),class:"name"},{default:w((()=>[F(B(T(s)?T(o).detail?.profile?.nickname||"未知用户名":"未登录"),1)])),_:1})),T(s)&&11===T(o).detail?.profile?.vipType?(g(),V("img",to)):U("",!0),k(T(W),{depth:"3",class:"more"},{default:w((()=>[k(T(ul),{icon:"menu-down"})])),_:1})])],4)])),_:1},8,["show","options"])),k(r,{ref_key:"loginRef",ref:c},null,512)],64)}}},[["__scopeId","data-v-5a7c10da"]]),so=()=>e({method:"GET",url:"/search/hot/detail",params:{timestamp:(new Date).getTime()}}),oo=(a,t=50,l=0,s=1)=>e({method:"GET",url:"/cloudsearch",params:{keywords:a,limit:t,offset:l,type:s}}),ro={class:"suggestions-type"},no=["onClick"],io=ml({__name:"SearchSuggestions",props:{searchValue:{type:[String,null],required:!0}},emits:["toSearch","closeSearch"],setup(a,{emit:t}){const l=Gt(),{searchInputFocus:s}=d(l),o=t,r=a,n=m({}),i=m(0),c=m(null),u=m(null),p={songs:{name:"单曲",icon:"music-note"},artists:{name:"歌手",icon:"account-music"},albums:{name:"专辑",icon:"album"},playlists:{name:"歌单",icon:"queue-music-rounded"}},y=dl((a=>{const t=a?.trim();t&&""!==t&&((a,t=!1)=>e({method:"GET",url:"/search/suggest",params:{keywords:a,...t&&{type:"mobile"}}}))(t).then((e=>{n.value=e.result,K().then((()=>{v()}))}))}),300),v=()=>{try{const e=c.value?.offsetHeight,a=u.value?.offsetHeight,t=!!e,l=!!a;if(t||l){const s=(t?e:0)+(l?a:0)+(l?8:0)+20;i.value=s}else i.value=0}catch(e){console.error("计算高度时出现错误："+e)}},_=(e,a="song")=>{o("toSearch",e,a)};return h((()=>r.searchValue),(e=>{e&&(n.value={},y(e))})),(e,t)=>{const l=ul,r=W,d=Z,m=we,h=xe;return g(),f(N,{name:"fadeDown",mode:"out-in",onAfterEnter:v,onAfterLeave:v},{default:w((()=>[T(s)&&a.searchValue?(g(),f(h,{key:0,class:"search-suggestions","content-style":"padding: 0",style:A({height:`${T(i)}px`,border:0===T(i)?"none":null}),onClick:t[1]||(t[1]=e=>o("closeSearch"))},{default:w((()=>[k(m,{class:"scrollbar"},{default:w((()=>[R("div",{ref_key:"directSearchRef",ref:c,class:"direct",onClick:t[0]||(t[0]=e=>_(a.searchValue))},[k(r,{depth:"3"},{default:w((()=>[k(l,{icon:"search-rounded"})])),_:1}),k(d,{class:"text"},{default:w((()=>[F("直接搜索："+B(a.searchValue),1)])),_:1})],512),k(N,{name:"fade",mode:"out-in",onAfterEnter:v,onAfterLeave:v},{default:w((()=>[Object.keys(T(n))?.length&&T(n)?.order?(g(),V("div",{key:0,ref_key:"searchSuggestionsRef",ref:u,class:"all-suggestions"},[(g(!0),V(j,null,Q(T(n).order,((e,a)=>(g(),V("div",{key:a,class:"suggestions"},[R("div",ro,[k(r,{class:"type-icon"},{default:w((()=>[k(l,{icon:p[e].icon},null,8,["icon"])])),_:2},1024),k(d,{class:"type-name"},{default:w((()=>[F(B(p[e].name),1)])),_:2},1024)]),(g(!0),V(j,null,Q(T(n)[e],(a=>(g(),V("div",{key:a.id,class:"suggestions-item",onClick:t=>_(a.id,e)},[k(d,{class:"item-name"},{default:w((()=>[F(B(a.name),1)])),_:2},1024)],8,no)))),128))])))),128))],512)):U("",!0)])),_:1})])),_:1})])),_:1},8,["style"])):U("",!0)])),_:1})}}},[["__scopeId","data-v-c879aebc"]]),co={key:0,class:"history"},uo={class:"title"},mo={key:1,class:"hot-list"},po={class:"title"},ho=["onClick"],yo={class:"hot-desc"},vo={class:"name"},go=ml({__name:"SearchHot",props:{searchValue:{type:[String,null],required:!0}},emits:["toSearch","closeSearch"],setup(e,{emit:a}){const t=Nt(),l=Gt(),s=Yt(),{searchHistory:o}=d(t),{searchInputFocus:r}=d(l),{showSearchHistory:n}=d(s),i=a,c=m([]),u=()=>{ca("searchHot",10,so).then((e=>{c.value=e.data})).catch((e=>{console.error("热榜获取失败：",e)}))},p=(e,a="song")=>{i("toSearch",e,a)},h=()=>{$dialog.warning({title:"删除历史",content:"确认删除全部的搜索历史？这将无法恢复！",positiveText:"确认",negativeText:"取消",onPositiveClick:()=>{o.value=[]}})};return y((()=>{u()})),(a,t)=>{const l=ul,s=W,d=Z,m=Me,y=ue,v=we,_=xe;return g(),f(N,{name:"fadeDown",mode:"out-in",onBeforeEnter:u},{default:w((()=>[T(r)&&!e.searchValue&&(T(o)[0]||T(c)[0])?(g(),f(_,{key:0,class:"search-suggestions","content-style":"padding: 0",onClick:t[0]||(t[0]=e=>i("closeSearch"))},{default:w((()=>[k(v,{class:"scrollbar"},{default:w((()=>[T(n)&&T(o)[0]?(g(),V("div",co,[R("div",uo,[k(s,null,{default:w((()=>[k(l,{icon:"history"})])),_:1}),k(d,null,{default:w((()=>[F("搜索历史")])),_:1}),k(s,{class:"history-delete",depth:"3",onClick:Y(h,["stop"])},{default:w((()=>[k(l,{icon:"delete"})])),_:1})]),k(y,null,{default:w((()=>[(g(!0),V(j,null,Q(T(o),((e,a)=>(g(),f(m,{key:a,bordered:!1,round:"",onClick:a=>p(e)},{default:w((()=>[F(B(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])):U("",!0),T(c)[0]?(g(),V("div",mo,[R("div",po,[k(s,null,{default:w((()=>[k(l,{icon:"fire"})])),_:1}),k(d,null,{default:w((()=>[F("热搜榜")])),_:1})]),(g(!0),V(j,null,Q(T(c),((e,a)=>(g(),V("div",{key:a,class:"hot-item",onClick:a=>p(e.searchWord)},[R("div",{class:G(a<3?"num hot":"num")},B(a+1),3),R("div",yo,[R("div",vo,[k(d,{class:"text"},{default:w((()=>[F(B(e.searchWord),1)])),_:2},1024),e.iconUrl?(g(),f(m,{key:0,type:1==e.iconType?"error":"warning",bordered:!1,class:"tag",size:"small",round:""},{default:w((()=>[F(B(1===e.iconType?"HOT":"UP"),1)])),_:2},1032,["type"])):U("",!0),k(d,{class:"hot-num",depth:"3"},{default:w((()=>[F(B(e.score),1)])),_:2},1024)]),k(d,{class:"tip",depth:"3"},{default:w((()=>[F(B(e.content),1)])),_:2},1024)])],8,ho)))),128))])):U("",!0)])),_:1})])),_:1})):U("",!0)])),_:1})}}},[["__scopeId","data-v-f87f827f"]]),fo={class:"search-input"},wo=ml({__name:"SearchInp",setup(a){const t=ne(),l=Wt(),s=Gt(),o=Nt(),{searchHistory:r}=d(o),{playSongData:n}=d(l),{searchInputFocus:i}=d(s),c=m(null),u=m(""),p=m(null),h=m(null),y=m("搜索音乐 / 视频"),f=e=>!e.startsWith(" "),_=()=>{c.value?.focus(),i.value=!0},b=async()=>{try{const a=await e({method:"GET",url:"/search/default",params:{timestamp:(new Date).getTime()}});y.value=a.data.showKeyword,h.value=a.data.realkeyword}catch(a){console.error("搜索关键词获取失败：",a),y.value="搜索音乐 / 视频"}},S=()=>{s.searchInputFocus=!1,c.value?.blur()},q=(e,a="song")=>{if(!e&&"搜索音乐 / 视频"===y.value)return!1;if(!e&&"搜索音乐 / 视频"!==y.value&&h.value&&(e=h.value?.trim()),S(),b(),114514===Number(e))return t.push("/test");switch(a){case"song":(e=>{if(!e||!e?.trim())return!1;const a=r.value.indexOf(e);-1!==a&&r.value.splice(a,1),r.value.unshift(e),r.value.length>30&&r.value.pop()})(e?.trim()),t.push({path:"/search/songs",query:{keywords:e?.trim()}});break;case"playlists":t.push({path:"/playlist",query:{id:e}});break;case"songs":(async e=>{try{if(!e)return!1;const a=await Ja(e.toString()),t=Za(a?.songs?.[0],"song")?.[0];Ct(t,!0),n.value=t,Tt(!0)}catch(a){console.error("获取歌曲信息失败：",a),$message.error("获取歌曲信息失败")}})(e);break;case"albums":t.push({path:"/album",query:{id:e}});break;case"artists":t.push({path:"/artist",query:{id:e}})}};return v((()=>{b(),p.value=setInterval(b,3e5)})),re((()=>{clearInterval(p.value)})),(e,a)=>{const t=ul,l=W,s=pe,o=go,r=io;return g(),V("div",fo,[k(s,{ref_key:"searchInpRef",ref:c,value:T(u),"onUpdate:value":a[0]||(a[0]=e=>J(u)?u.value=e:null),class:G(T(i)?"input focus":"input"),"input-props":{autoComplete:!1},placeholder:T(y),"allow-input":f,round:"",clearable:"",onFocus:_,onKeyup:a[1]||(a[1]=We((e=>q(T(u))),["enter"])),onClick:a[2]||(a[2]=Y((()=>{}),["stop"]))},{prefix:w((()=>[k(l,null,{default:w((()=>[k(t,{icon:"search-rounded"})])),_:1})])),_:1},8,["value","class","placeholder"]),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[ke(R("div",{class:"search-mask",onClick:a[3]||(a[3]=Y((e=>i.value=!1),["stop"]))},null,512),[[Te,T(i)]])])),_:1}),k(o,{searchValue:T(u)?.trim(),onToSearch:q,onCloseSearch:S},null,8,["searchValue"]),k(r,{searchValue:T(u)?.trim(),onToSearch:q,onCloseSearch:S},null,8,["searchValue"])])}}},[["__scopeId","data-v-388e56cf"]]),ko={name:"splayer",version:"2.0.5",description:"A minimalist music player",main:"./out/main/index.js",author:"imsyy",home:"https://imsyy.top",github:"https://github.com/imsyy/SPlayer",repository:"github:imsyy/SPlayer",license:"AGPL-3.0","license-file":"LICENSE",engines:{node:">=18.16.0",npm:">=9.6.7",pnpm:">=8.14.0"},type:"module",scripts:{format:"prettier --write .",lint:"eslint . --ext .js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts,.vue --fix",start:"electron-vite preview",dev:"electron-vite dev --watch",build:"electron-vite build",postinstall:"electron-builder install-app-deps","build:win":"npm run build && electron-builder --win --config","build:mac":"npm run build && electron-builder --mac --config","build:linux":"npm run build && electron-builder --linux --config"},dependencies:{"@electron-toolkit/preload":"^3.0.0","@electron-toolkit/utils":"^3.0.0","@material/material-color-utilities":"^0.2.7",NeteaseCloudMusicApi:"^4.15.6",axios:"^1.6.7",colorthief:"^2.4.0","electron-dl":"^3.5.2","electron-store":"^8.2.0","electron-updater":"^6.1.8",express:"^4.18.3","express-http-proxy":"^2.0.0",howler:"^2.2.4","js-cookie":"^3.0.5",localforage:"^1.10.0","music-metadata":"7.14.0","node-taglib-sharp":"^5.2.3",pinia:"^2.1.7","pinia-plugin-persistedstate":"^3.2.1",plyr:"^3.7.8",screenfull:"^6.0.2","vue-router":"^4.3.0","vue-slider-component":"4.1.0-beta.7"},devDependencies:{"@electron-toolkit/eslint-config":"^1.0.2","@rushstack/eslint-patch":"^1.7.2","@vitejs/plugin-vue":"^5.0.4","@vue/eslint-config-prettier":"^9.0.0",ajv:"^8.12.0",electron:"^28.2.7","electron-builder":"^24.13.3","electron-log":"^5.1.2","electron-vite":"^2.1.0",eslint:"^8.57.0","eslint-plugin-vue":"^9.23.0","naive-ui":"^2.38.1",prettier:"^3.2.5",sass:"^1.72.0",terser:"^5.29.1","unplugin-auto-import":"^0.17.5","unplugin-vue-components":"^0.26.0",vite:"^5.1.6","vite-plugin-compression":"^0.5.1","vite-plugin-pwa":"^0.17.5",vue:"3.4.8"}},_o={class:"left"},To={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},bo=["fill"],So=["fill"],qo=["fill"],Do={class:"right"},Co=ml({__name:"MainNav",setup(e){const a=ne(),t=Gt(),l=Yt(),{asideMenuCollapsed:s,searchInputFocus:o}=d(t),{showGithub:r,showSider:n,themeAutoCover:i}=d(l),c=()=>{window.open(ko.github)},u=m(!1),p=m(!1),h=O((()=>[{key:"menu",type:"render",props:{onClick:()=>p.value=!1},render:()=>D(we,{style:{maxHeight:"calc(100vh - 200px)",minWidth:"280px"}},(()=>D(Rs)))}]));return v((()=>{K().then((()=>{u.value=ia.electron()||"undefined"!=typeof electron}))})),(e,t)=>{const l=W,d=Z,m=ul,y=ae,v=ue,_=wo,b=Pe,S=lo,q=Us;return g(),V("nav",{class:G({"main-nav":!0,"no-sider":!T(n)})},[R("div",_o,[R("div",{class:G(["logo",T(s)?"collapsed":null]),onClick:t[0]||(t[0]=e=>T(a).push("/"))},[k(l,{class:"logo-img",size:"30"},{default:w((()=>[(g(),V("svg",To,[R("path",{d:"M511.764091 131.708086a446.145957 446.145957 0 1 0 446.145957 446.145957 446.145957 446.145957 0 0 0-446.145957-446.145957z m0 519.76004A71.829499 71.829499 0 1 1 583.59359 580.530919 72.275645 72.275645 0 0 1 511.764091 651.468126z",fill:T(i)?"var(--main-second-color)":"#F55E55"},null,8,bo),R("path",{d:"M802.205109 0.541175l-168.197026 37.030114a67.814185 67.814185 0 0 0-53.091369 66.029602V223.614153l3.569168 349.778431h114.213365V223.614153h108.859613a26.322611 26.322611 0 0 0 26.768758-26.322611V26.863786a26.768757 26.768757 0 0 0-32.122509-26.322611z",fill:T(i)?"var(--main-color)":"#F9BBB8"},null,8,So),R("path",{d:"M511.764091 386.457428a186.935156 186.935156 0 1 0 186.935156 186.48901A186.935156 186.935156 0 0 0 511.764091 386.457428z m0 264.564552a71.383353 71.383353 0 1 1 71.383353-71.383353 71.383353 71.383353 0 0 1-71.383353 71.383353z",fill:T(i)?"var(--main-color)":"#F9BBB8"},null,8,qo)]))])),_:1}),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[!T(s)&&T(n)?(g(),f(d,{key:0,class:"site-name"},{default:w((()=>[F(B(T("SPlayer")),1)])),_:1})):U("",!0)])),_:1})],2),k(v,{class:G(["navigation",{hidden:T(o)}]),size:6},{default:w((()=>[k(y,{focusable:!1,class:"nav-icon",quaternary:"",onClick:t[1]||(t[1]=e=>T(a).go(-1))},{icon:w((()=>[k(l,null,{default:w((()=>[k(m,{icon:"chevron-left"})])),_:1})])),_:1}),k(y,{focusable:!1,class:"nav-icon",quaternary:"",onClick:t[2]||(t[2]=e=>T(a).go(1))},{icon:w((()=>[k(l,null,{default:w((()=>[k(m,{icon:"chevron-right"})])),_:1})])),_:1})])),_:1},8,["class"]),k(_),k(N,{name:"fade",mode:"out-in"},{default:w((()=>[T(r)?(g(),f(y,{key:0,focusable:!1,class:"github",circle:"",quaternary:"",onClick:c},{icon:w((()=>[k(l,{size:"20"},{default:w((()=>[k(m,{icon:"github"})])),_:1})])),_:1})):U("",!0)])),_:1})]),R("div",Do,[k(b,{show:T(p),"show-arrow":!0,options:T(h),placement:"bottom-end",onClickoutside:t[4]||(t[4]=e=>p.value=!1)},{default:w((()=>[k(y,{style:A({pointerEvents:T(p)?"none":"auto"}),class:G(["main-menu",{show:!T(n)}]),secondary:"",strong:"",round:"",onClick:t[3]||(t[3]=e=>p.value=!T(p))},{icon:w((()=>[k(l,null,{default:w((()=>[k(m,{icon:"menu"})])),_:1})])),_:1},8,["style","class"])])),_:1},8,["show","options"]),k(S),T(u)?(g(),f(q,{key:0})):U("",!0)])],2)}}},[["__scopeId","data-v-ada48a8f"]]),Lo={class:"sider-all"},Mo=ml({__name:"App",setup(e){const a=ne(),t=Wt(),l=Gt(),s=Yt(),{autoPlay:o,showSider:r,autoSignIn:n,autoCheckUpdates:i}=d(s),{showPlayBar:c,asideMenuCollapsed:u,showFullPlayer:m}=d(l);"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",(()=>{ia.electron()?$notification.create({title:"🎉 有更新啦",content:"检测到软件内资源有更新，是否重新启动软件以应用更新？",meta:"当前版本 v "+(ko.version||"1.0.0"),action:()=>D(ae,{text:!0,type:"primary",onClick:()=>{electron.ipcRenderer.send("window-relaunch")}},{default:()=>"更新"}),onAfterLeave:()=>{$message.info("已取消本次更新，更新将在下次启动软件后生效",{duration:6e3})}}):(console.info("站点资源有更新，请刷新以应用更新"),$message.info("站点资源有更新，请刷新以应用更新",{closable:!0,duration:0}))}));const h=e=>{console.error("网络连接错误：",e.message),$dialog.destroyAll(),$dialog.error({title:"网络连接错误",content:"网络连接错误，请检查您当前的网络状态",positiveText:"重试",negativeText:ia.electron()?"前往本地歌曲":"取消",onPositiveClick:()=>{location.reload()},onNegativeClick:()=>{ia.electron()&&a.push("/local")}})},y=e=>{((e,a)=>{if(!e)return!1;if(e.preventDefault(),e.stopPropagation(),"Space"===e.code){if("INPUT"===e.target.tagName)return!1;if("videos-player"===a.currentRoute.value.name)return!1;Mt()}if("ArrowUp"===e.code||"ArrowDown"===e.code){const a=Gt(),t=a.playVolume,l="ArrowUp"===e.code?.1:-.1,s=Math.min(1,Math.max(0,t+l));$t(s),a.playVolume=s}})(e,a)};return v((async()=>{window.$canNotConnect=h,await Tt(o.value),(e=>{if(!ia.electron())return!1;electron.ipcRenderer.on("showPlayer",(()=>{const e=Gt();if("dj"===e.playMode)return!1;e.showFullPlayer=!0})),electron.ipcRenderer.on("playOrPause",(()=>{Mt()})),electron.ipcRenderer.on("playNextOrPrev",((e,a)=>{Dt(a,!0)})),electron.ipcRenderer.on("open-setting",(()=>{e&&e.push("/setting"),Gt().showFullPlayer=!1}))})(a),ia.electron()||window.addEventListener("keyup",y),n.value&&await Ws(),i.value&&(()=>{if(!ia.electron())return!1;electron.ipcRenderer.send("check-updates")})()})),Ce((()=>{ia.electron()||window.removeEventListener("keyup",y)})),(e,a)=>{const l=Co,s=Qe,o=Rs,n=Je,i=Vs,d=Ke,h=Xe,y=Hs,v=qs,_=kl,b=x,S=Kt;return g(),f(S,null,{default:w((()=>[k(d,{class:G(["all-layout",{"full-player":T(m)}])},{default:w((()=>[k(s,{bordered:""},{default:w((()=>[k(l)])),_:1}),T(r)?(g(),f(d,{key:0,class:G({"body-layout":!0,"player-bar":T(t).getPlaySongData?.id&&T(c)}),position:"absolute","has-sider":""},{default:w((()=>[k(n,{collapsed:T(u),"native-scrollbar":!1,"collapsed-width":64,width:240,class:"main-sider","show-trigger":"bar","collapse-mode":"width",bordered:"",onCollapse:a[0]||(a[0]=e=>u.value=!0),onExpand:a[1]||(a[1]=e=>u.value=!1)},{default:w((()=>[R("div",Lo,[k(o)])])),_:1},8,["collapsed"]),k(d,{"native-scrollbar":!1,embedded:""},{default:w((()=>[k(i)])),_:1})])),_:1},8,["class"])):(g(),f(h,{key:1,class:G({"body-layout":!0,"player-bar":T(t).getPlaySongData?.id&&T(c)}),"native-scrollbar":!1,position:"absolute",embedded:""},{default:w((()=>[k(i)])),_:1},8,["class"]))])),_:1},8,["class"]),k(y),k(v),T(m)?(g(),f(b,{key:0,theme:T(p)},{default:w((()=>[k(_)])),_:1},8,["theme"])):(g(),f(_,{key:1}))])),_:1})}}},[["__scopeId","data-v-e6062e24"]]),Po=function(){const e="undefined"!=typeof document&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),$o={},xo=function(e,a,t){let l=Promise.resolve();if(a&&a.length>0){const e=document.getElementsByTagName("link");l=Promise.all(a.map((a=>{if(a=function(e,a){return new URL(e,a).href}(a,t),a in $o)return;$o[a]=!0;const l=a.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(!!t)for(let t=e.length-1;t>=0;t--){const s=e[t];if(s.href===a&&(!l||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const o=document.createElement("link");return o.rel=l?"stylesheet":Po,l||(o.as="script",o.crossOrigin=""),o.href=a,document.head.appendChild(o),l?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${a}`))))})):void 0})))}return l.then((()=>e())).catch((e=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}))},Io=[{path:"/",name:"home",meta:{title:"主页"},component:()=>xo((()=>import("./Home-DRoUkK2S.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)},{path:"/search",name:"search",meta:{title:"搜索"},component:()=>xo((()=>import("./index-nFulcKI5.js")),__vite__mapDeps([10,2,11]),import.meta.url),redirect:"/search/songs",children:[{path:"songs",name:"sea-songs",component:()=>xo((()=>import("./songs-0Rz84b1f.js")),__vite__mapDeps([12,13,2,14,15,16]),import.meta.url)},{path:"artists",name:"sea-artists",component:()=>xo((()=>import("./artists-kyFIw321.js")),__vite__mapDeps([17,1,2,3,4,5]),import.meta.url)},{path:"albums",name:"sea-albums",component:()=>xo((()=>import("./albums-BbEFC60D.js")),__vite__mapDeps([18,13,2,14,1,3,4,5]),import.meta.url)},{path:"videos",name:"sea-videos",component:()=>xo((()=>import("./videos-DZ5GsGOD.js")),__vite__mapDeps([19,13,2,14,1,3,4,5]),import.meta.url)},{path:"playlists",name:"sea-playlists",component:()=>xo((()=>import("./playlists-DfNB1M7z.js")),__vite__mapDeps([20,13,2,14,1,3,4,5]),import.meta.url)},{path:"djs",name:"sea-djs",component:()=>xo((()=>import("./djs-BYriGsHF.js")),__vite__mapDeps([21,13,2,14,1,3,4,5]),import.meta.url)}]},{path:"/discover",name:"discover",meta:{title:"发现"},component:()=>xo((()=>import("./index-DGRcBBB3.js")),__vite__mapDeps([22,2,23]),import.meta.url),redirect:"/Discover/playlists",children:[{path:"playlists",name:"dsc-playlists",component:()=>xo((()=>import("./playlists-BwzhYGfS.js")),__vite__mapDeps([24,13,2,14,1,3,4,5,25]),import.meta.url)},{path:"toplists",name:"dsc-toplists",component:()=>xo((()=>import("./toplists-CjUxt-EU.js")),__vite__mapDeps([26,1,2,3,4,5,6,7]),import.meta.url)},{path:"artists",name:"dsc-artists",component:()=>xo((()=>import("./artists-IyauIpQS.js")),__vite__mapDeps([27,1,2,3,4,5,28,29]),import.meta.url)},{path:"new",name:"dsc-new",component:()=>xo((()=>import("./new-Daw96-4A.js")),__vite__mapDeps([30,15,2,13,14,16,1,3,4,5,31]),import.meta.url)}]},{path:"/videos-player",name:"videos-player",meta:{title:"视频播放器"},component:()=>xo((()=>import("./Player-CRjZ0F02.js")),__vite__mapDeps([32,1,2,3,4,5,13,14,33,34,35,8,36]),import.meta.url)},{path:"/daily-songs",name:"daily-songs",meta:{title:"每日推荐",needLogin:!0},component:()=>xo((()=>import("./DailySongs-U4y6sIO1.js")),__vite__mapDeps([37,15,2,13,14,16,38]),import.meta.url)},{path:"/comment",name:"comment",meta:{title:"评论"},component:()=>xo((()=>import("./Comment-DKzJDVCk.js")),__vite__mapDeps([39,13,2,14,33,34,35,40]),import.meta.url)},{path:"/song",name:"song",meta:{title:"歌曲详情"},component:()=>xo((()=>import("./Song-PBo0yRaK.js")),__vite__mapDeps([41,2]),import.meta.url)},{path:"/history",name:"history",meta:{title:"最近播放"},component:()=>xo((()=>import("./History-8-eGlkWp.js")),__vite__mapDeps([42,15,2,13,14,16,43]),import.meta.url)},{path:"/cloud",name:"cloud",meta:{title:"我的云盘",needLogin:!0},component:()=>xo((()=>import("./Cloud-Bj07u1Vd.js")),__vite__mapDeps([44,15,2,13,14,16,45]),import.meta.url)},{path:"/playlist",name:"playlist",meta:{title:"歌单"},component:()=>xo((()=>import("./playlist-CUjmxy0R.js")),__vite__mapDeps([46,2,15,13,14,16,47]),import.meta.url)},{path:"/like-songs",name:"like-songs",meta:{title:"歌单",needLogin:!0},component:()=>xo((()=>import("./playlist-CUjmxy0R.js")),__vite__mapDeps([46,2,15,13,14,16,47]),import.meta.url)},{path:"/album",name:"album",meta:{title:"歌单"},component:()=>xo((()=>import("./album-DHy3UFeu.js")),__vite__mapDeps([48,15,2,13,14,16,3,49]),import.meta.url)},{path:"/dj",name:"dj",meta:{title:"播客电台"},component:()=>xo((()=>import("./dj-DjOfnJEC.js")),__vite__mapDeps([50,15,2,13,14,16,4,51]),import.meta.url)},{path:"/artist",name:"artist",meta:{title:"歌手"},component:()=>xo((()=>import("./index-C9-Dh0aO.js")),__vite__mapDeps([52,2,34,28,53]),import.meta.url),redirect:"/artist/hot",children:[{path:"hot",name:"ar-hot",component:()=>xo((()=>import("./hot-jB76ozXe.js")),__vite__mapDeps([54,15,2,13,14,16,28,55]),import.meta.url)},{path:"songs",name:"ar-songs",component:()=>xo((()=>import("./songs-BJLLQHaw.js")),__vite__mapDeps([56,13,2,14,15,16,28]),import.meta.url)},{path:"albums",name:"ar-albums",component:()=>xo((()=>import("./albums-DOK2iLiG.js")),__vite__mapDeps([57,13,2,14,1,3,4,5,28]),import.meta.url)},{path:"videos",name:"ar-videos",component:()=>xo((()=>import("./videos-pKoFv1xM.js")),__vite__mapDeps([58,13,2,14,1,3,4,5,28]),import.meta.url)}]},{path:"/like",name:"like",meta:{title:"我的收藏",needLogin:!0},component:()=>xo((()=>import("./index-CRSuS4V8.js")),__vite__mapDeps([59,2,60]),import.meta.url),redirect:"/like/albums",children:[{path:"albums",name:"like-albums",component:()=>xo((()=>import("./albums-DLhV0y1Q.js")),__vite__mapDeps([61,1,2,3,4,5]),import.meta.url)},{path:"artists",name:"like-artists",component:()=>xo((()=>import("./artists-jZvH8Ya5.js")),__vite__mapDeps([62,1,2,3,4,5]),import.meta.url)},{path:"videos",name:"like-videos",component:()=>xo((()=>import("./videos-DQ_ew9-I.js")),__vite__mapDeps([63,1,2,3,4,5]),import.meta.url)},{path:"playlists",name:"like-playlists",component:()=>xo((()=>import("./playlists-CnGeflah.js")),__vite__mapDeps([64,1,2,3,4,5,65]),import.meta.url)},{path:"djs",name:"like-djs",component:()=>xo((()=>import("./djs-CmWmXPVf.js")),__vite__mapDeps([66,1,2,3,4,5]),import.meta.url)}]},{path:"/local",name:"local",meta:{title:"本地歌曲",needLocal:!0,show:ia.electron()},component:()=>xo((()=>import("./index-Bv_yazWk.js")),__vite__mapDeps([67,2,68]),import.meta.url),redirect:"/local/songs",children:[{path:"songs",name:"local-songs",component:()=>xo((()=>import("./songs-BmRDK-vO.js")),__vite__mapDeps([69,15,2,13,14,16]),import.meta.url)},{path:"artists",name:"local-artists",component:()=>xo((()=>import("./artists-CfXy4bgv.js")),__vite__mapDeps([70,15,2,13,14,16,71]),import.meta.url)},{path:"albums",name:"local-albums",component:()=>xo((()=>import("./albums-CWKAWICO.js")),__vite__mapDeps([72,15,2,13,14,16,73]),import.meta.url)}]},{path:"/dj-hot",name:"dj-hot",meta:{title:"热门播客"},component:()=>xo((()=>import("./index-DUcl-4Yo.js")),__vite__mapDeps([74,1,2,3,4,5,75]),import.meta.url)},{path:"/dj-type",name:"dj-type",meta:{title:"播客分类"},component:()=>xo((()=>import("./type-0l3X4iPQ.js")),__vite__mapDeps([76,1,2,3,4,5,77]),import.meta.url)},{path:"/setting",name:"setting",meta:{title:"全局设置"},component:()=>xo((()=>import("./index-BB9lGBcE.js")),__vite__mapDeps([78,2,79]),import.meta.url)},{path:"/song",name:"song",meta:{title:"全局设置"},component:()=>xo((()=>import("./Song-PBo0yRaK.js")),__vite__mapDeps([41,2]),import.meta.url)},{path:"/test",name:"test",meta:{title:"测试页面"},component:()=>xo((()=>import("./Test-CK490zVP.js")),__vite__mapDeps([80,2,81]),import.meta.url)},{path:"/404",name:"404",meta:{title:"404"},component:()=>xo((()=>import("./404-CViSgIqZ.js")),__vite__mapDeps([82,2]),import.meta.url)},{path:"/403",name:"403",meta:{title:"403"},component:()=>xo((()=>import("./403-Cm2h6ENG.js")),__vite__mapDeps([83,2]),import.meta.url)},{path:"/500",name:"500",meta:{title:"500"},component:()=>xo((()=>import("./500-DvK3Y07U.js")),__vite__mapDeps([84,2]),import.meta.url)},{path:"/:pathMatch(.*)",redirect:"/404"}],zo=ea({history:aa("./"),routes:Io});zo.beforeEach(((e,a,t)=>{e.path!==a.path&&("undefined"==typeof $loadingBar||ia.electron()||$loadingBar.start()),e.meta.needLogin?va()?t():($message.warning("请登录后使用"),"undefined"==typeof $loadingBar||ia.electron()||$loadingBar.error(),"undefined"!=typeof $changeLogin&&$changeLogin()):e.meta.needLocal?ia.electron()?t():($message.error("客户端独占功能"),"undefined"==typeof $loadingBar||ia.electron()||$loadingBar.error(),t("/403")):t()})),zo.afterEach((()=>{"undefined"==typeof $loadingBar||ia.electron()||$loadingBar.finish(),K().then((()=>{const e=document.getElementById("main-layout");e?.scrollIntoView({behavior:"smooth"})}))}));const Eo=ia.electron(),Ho=document.createElement("link");Ho.rel="stylesheet",Ho.href=Eo?"./font/font.min.css":"https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css",document.head.appendChild(Ho),document.body.classList.add(Eo?"electron":null),window.$cleanAll=(e=!0)=>{if(e){if(!window.confirm(`确认要重置${Eo?"应用程序":"该站点"}吗？`))return!1}return localStorage.clear(),indexedDB.deleteDatabase("filesDB"),document.cookie.split(";").forEach((e=>{var a=e.indexOf("="),t=a>-1?e.substring(0,a):e;document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"})),caches&&caches.keys().then((e=>{for(let a of e)caches.delete(a)})),"已重置应用，请"+(Eo?"重启应用":"刷新页面")};const Vo=`\n\n版本: ${ko.version}\n作者: ${ko.author}\n作者主页: ${ko.home}\nGitHub: ${ko.github}`;console.info(`%cSPlayer %c ${Vo}`,"color:#f55e55;font-size:26px;font-weight:bold;","font-size:16px"),console.info("若站点出现异常，可尝试在下方输入 %c$cleanAll()%c 然后按回车来重置","background: #eaeffd;color:#f55e55;padding: 4px 6px;border-radius:8px;","background:unset;color:unset;");const Ao=ta(Mo),Ro=la();Ro.use(sa),Ao.use(Ro),Ao.use(zo),Ao.mount("#app");export{Ba as A,Ut as B,Ja as C,Ua as D,Qt as E,pa as F,xa as G,Os as H,Ma as I,Pa as J,Ra as K,$a as L,Ia as M,Ea as N,As as O,Ct as P,Ll as Q,Sl as R,da as S,Oa as T,za as U,Dl as V,ua as W,ko as X,ia as Y,ml as _,Yt as a,Tt as b,Dt as c,dl as d,ul as e,Gl as f,Nt as g,ca as h,va as i,wa as j,ka as k,_a as l,Wt as m,Ta as n,Sa as o,Mt as p,Za as q,Va as r,Gt as s,oo as t,Ca as u,La as v,qa as w,ba as x,Lt as y,ma as z};
